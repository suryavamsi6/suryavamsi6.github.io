(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,s=t.options,a=void 0===s?{}:s,u=this.normalizeInstanceIdentifier(void 0===i?o:i);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var l=Object(r.g)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var d=Object(r.e)(h.value,2),f=d[1];u===this.normalizeInstanceIdentifier(d[0])&&f.resolve(c)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return c},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return f});let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var u=n("3N8a");class c extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(c),f=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.4.3","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return rn}),n.d(e,"b",function(){return Du}),n.d(e,"c",function(){return Au}),n.d(e,"d",function(){return Iu}),n.d(e,"e",function(){return xu}),n.d(e,"f",function(){return Ic}),n.d(e,"g",function(){return yc}),n.d(e,"h",function(){return Ia}),n.d(e,"i",function(){return Wu}),n.d(e,"j",function(){return Jo}),n.d(e,"k",function(){return Fu}),n.d(e,"l",function(){return ea}),n.d(e,"m",function(){return Sr}),n.d(e,"n",function(){return ou}),n.d(e,"o",function(){return us}),n.d(e,"p",function(){return Cn}),n.d(e,"q",function(){return A}),n.d(e,"r",function(){return nn}),n.d(e,"s",function(){return Os}),n.d(e,"t",function(){return _a}),n.d(e,"u",function(){return Sa}),n.d(e,"v",function(){return Lu}),n.d(e,"w",function(){return Ma}),n.d(e,"x",function(){return vc}),n.d(e,"y",function(){return Fa}),n.d(e,"z",function(){return dc}),n.d(e,"A",function(){return Gu}),n.d(e,"B",function(){return Tn}),n.d(e,"C",function(){return Nu}),n.d(e,"D",function(){return ju}),n.d(e,"E",function(){return uu}),n.d(e,"F",function(){return ia}),n.d(e,"G",function(){return ra}),n.d(e,"H",function(){return Tr}),n.d(e,"I",function(){return oa}),n.d(e,"J",function(){return mr}),n.d(e,"K",function(){return In}),n.d(e,"L",function(){return Sc}),n.d(e,"M",function(){return Na}),n.d(e,"N",function(){return ec}),n.d(e,"O",function(){return sn}),n.d(e,"P",function(){return ua}),n.d(e,"Q",function(){return aa}),n.d(e,"R",function(){return Ua}),n.d(e,"S",function(){return P}),n.d(e,"T",function(){return fc}),n.d(e,"U",function(){return lc}),n.d(e,"V",function(){return f}),n.d(e,"W",function(){return Sn}),n.d(e,"X",function(){return cc}),n.d(e,"Y",function(){return Cc}),n.d(e,"Z",function(){return ic}),n.d(e,"ab",function(){return Pu}),n.d(e,"bb",function(){return ls}),n.d(e,"cb",function(){return Fo}),n.d(e,"db",function(){return fr}),n.d(e,"eb",function(){return Yn}),n.d(e,"fb",function(){return Vn}),n.d(e,"gb",function(){return qn}),n.d(e,"hb",function(){return Wn}),n.d(e,"ib",function(){return Hn}),n.d(e,"jb",function(){return Bn}),n.d(e,"kb",function(){return zn}),n.d(e,"lb",function(){return No}),n.d(e,"mb",function(){return Oc}),n.d(e,"nb",function(){return Do}),n.d(e,"ob",function(){return Po}),n.d(e,"pb",function(){return Un}),n.d(e,"qb",function(){return U}),n.d(e,"rb",function(){return Ns}),n.d(e,"sb",function(){return Js}),n.d(e,"tb",function(){return Qs}),n.d(e,"ub",function(){return Ys}),n.d(e,"vb",function(){return jo}),n.d(e,"wb",function(){return Ct}),n.d(e,"xb",function(){return l}),n.d(e,"yb",function(){return Mn}),n.d(e,"zb",function(){return Ts}),n.d(e,"Ab",function(){return vt}),n.d(e,"Bb",function(){return Go}),n.d(e,"Cb",function(){return fi}),n.d(e,"Db",function(){return Ms}),n.d(e,"Eb",function(){return po}),n.d(e,"Fb",function(){return fo}),n.d(e,"Gb",function(){return _u}),n.d(e,"Hb",function(){return X}),n.d(e,"Ib",function(){return st}),n.d(e,"Jb",function(){return _}),n.d(e,"Kb",function(){return w}),n.d(e,"Lb",function(){return nt}),n.d(e,"Mb",function(){return ot}),n.d(e,"Nb",function(){return Us}),n.d(e,"Ob",function(){return Ws}),n.d(e,"Pb",function(){return $s}),n.d(e,"Qb",function(){return Ks}),n.d(e,"Rb",function(){return zs}),n.d(e,"Sb",function(){return Hs}),n.d(e,"Tb",function(){return Gs}),n.d(e,"Ub",function(){return Je}),n.d(e,"Vb",function(){return xo}),n.d(e,"Wb",function(){return wn}),n.d(e,"Xb",function(){return Ze}),n.d(e,"Yb",function(){return Tu}),n.d(e,"Zb",function(){return Xs}),n.d(e,"ac",function(){return wu}),n.d(e,"bc",function(){return eo}),n.d(e,"cc",function(){return io}),n.d(e,"dc",function(){return ro}),n.d(e,"ec",function(){return qs}),n.d(e,"fc",function(){return eu}),n.d(e,"gc",function(){return nu}),n.d(e,"hc",function(){return ru}),n.d(e,"ic",function(){return bu}),n.d(e,"jc",function(){return zt}),n.d(e,"kc",function(){return gr}),n.d(e,"lc",function(){return yr}),n.d(e,"mc",function(){return rt}),n.d(e,"nc",function(){return ho}),n.d(e,"oc",function(){return Vs}),n.d(e,"pc",function(){return Cu}),n.d(e,"qc",function(){return Co}),n.d(e,"rc",function(){return To}),n.d(e,"sc",function(){return Io}),n.d(e,"tc",function(){return vu});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=u({__forward_ref__:u});function f(t){return t.__forward_ref__=f,t.toString=function(){return l(this())},t}function p(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}class g extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function b(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function v(t,e){const n=e?` in ${e}`:"";throw new g("201",`No provider for ${b(t)} found${n}`)}function _(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function w(t){return{providers:t.providers||[],imports:t.imports||[]}}function S(t){return E(t,C)||E(t,I)}function E(t,e){return t.hasOwnProperty(e)?t[e]:null}function O(t){return t&&(t.hasOwnProperty(T)||t.hasOwnProperty(x))?t[T]:null}const C=u({"\u0275prov":u}),T=u({"\u0275inj":u}),I=u({ngInjectableDef:u}),x=u({ngInjectorDef:u});var A=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let k;function R(t){const e=k;return k=t,e}function j(t,e,n){const r=S(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&A.Optional?null:void 0!==e?e:void v(l(t),"Injector")}function N(t){return{toString:t}.toString()}var D=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),P=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const L="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,M="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,U=L||V||F||M,q={},B=[],H=[],z=u({"\u0275cmp":u}),W=u({"\u0275dir":u}),K=u({"\u0275pipe":u}),$=u({"\u0275mod":u}),G=u({"\u0275loc":u}),Q=u({"\u0275fac":u}),Y=u({__NG_ELEMENT_ID__:u});let J=0;function X(t){return N(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===D.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||H,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||P.Emulated,id:"c",styles:t.styles||H,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=J++,n.inputs=it(t.inputs,e),n.outputs=it(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Z):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(tt):null,n})}function Z(t){return at(t)||function(t){return t[W]||null}(t)}function tt(t){return function(t){return t[K]||null}(t)}const et={};function nt(t){const e={type:t.type,bootstrap:t.bootstrap||H,declarations:t.declarations||H,imports:t.imports||H,exports:t.exports||H,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&N(()=>{et[t.id]=t.type}),e}function rt(t,e){return N(()=>{const n=ut(t,!0);n.declarations=e.declarations||H,n.imports=e.imports||H,n.exports=e.exports||H})}function it(t,e){if(null==t)return q;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const st=X;function ot(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function at(t){return t[z]||null}function ut(t,e){const n=t[$]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const ct=20,lt=10;function ht(t){return Array.isArray(t)&&"object"==typeof t[1]}function dt(t){return Array.isArray(t)&&!0===t[1]}function ft(t){return 0!=(8&t.flags)}function pt(t){return 2==(2&t.flags)}function mt(t){return 1==(1&t.flags)}function gt(t){return null!==t.template}function yt(t,e){return t.hasOwnProperty(Q)?t[Q]:null}class bt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function vt(){return _t}function _t(t){return t.type.prototype.ngOnChanges&&(t.setInput=St),wt}function wt(){const t=Et(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===q)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function St(t,e,n,r){const i=Et(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:q,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new bt(u&&u.currentValue,e,o===q),t[r]=e}function Et(t){return t.__ngSimpleChanges__||null}let Ot;function Ct(t){Ot=t}function Tt(){return void 0!==Ot?Ot:"undefined"!=typeof document?document:void 0}function It(t){return!!t.listen}vt.ngInherit=!0;const xt={createRenderer:(t,e)=>Tt()};function At(t){for(;Array.isArray(t);)t=t[0];return t}function kt(t,e){return At(e[t])}function Rt(t,e){return At(e[t.index])}function jt(t,e){return t.data[e]}function Nt(t,e){const n=e[t];return ht(n)?n:n[0]}function Dt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Pt(t){return 4==(4&t[2])}function Lt(t){return 128==(128&t[2])}function Ft(t,e){return null==e?null:t[e]}function Mt(t){t[18]=0}function Vt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ut={lFrame:ce(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function qt(){return Ut.bindingsEnabled}function Bt(){return Ut.lFrame.lView}function Ht(){return Ut.lFrame.tView}function zt(t){Ut.lFrame.contextLView=t}function Wt(){let t=Kt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Kt(){return Ut.lFrame.currentTNode}function $t(t,e){const n=Ut.lFrame;n.currentTNode=t,n.isParent=e}function Gt(){return Ut.lFrame.isParent}function Qt(){Ut.lFrame.isParent=!1}function Yt(){return Ut.isInCheckNoChangesMode}function Jt(t){Ut.isInCheckNoChangesMode=t}function Xt(){const t=Ut.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Zt(){return Ut.lFrame.bindingIndex++}function te(t){const e=Ut.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ee(t,e){const n=Ut.lFrame;n.bindingIndex=n.bindingRootIndex=t,ne(e)}function ne(t){Ut.lFrame.currentDirectiveIndex=t}function re(){return Ut.lFrame.currentQueryIndex}function ie(t){Ut.lFrame.currentQueryIndex=t}function se(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function oe(t,e,n){if(n&A.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&A.Host||(r=se(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ut.lFrame=ue();return r.currentTNode=e,r.lView=t,!0}function ae(t){const e=ue(),n=t[1];Ut.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ue(){const t=Ut.lFrame,e=null===t?null:t.child;return null===e?ce(t):e}function ce(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function le(){const t=Ut.lFrame;return Ut.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const he=le;function de(){const t=le();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fe(){return Ut.lFrame.selectedIndex}function pe(t){Ut.lFrame.selectedIndex=t}function me(){const t=Ut.lFrame;return jt(t.tView,t.selectedIndex)}function ge(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ye(t,e,n){_e(t,e,3,n)}function be(t,e,n,r){(3&t[2])===n&&_e(t,e,n,r)}function ve(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function _e(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(we(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function we(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const Se=-1;class Ee{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Oe(t,e,n){const r=It(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Te(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Ce(t){return 3===t||4===t||6===t}function Te(t){return 64===t.charCodeAt(0)}function Ie(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||xe(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function xe(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Ae(t){return t!==Se}function ke(t){return 32767&t}function Re(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let je=!0;function Ne(t){const e=je;return je=t,e}let De=0;function Pe(t,e){const n=Fe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Le(r.data,t),Le(e,null),Le(r.blueprint,null));const i=Me(t,e),s=t.injectorIndex;if(Ae(i)){const t=ke(i),n=Re(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Le(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Fe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Me(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Se;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Se}function Ve(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=De++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ue(t,e,n){if(n&A.Optional)return t;v(e,"NodeInjector")}function qe(t,e,n,r){if(n&A.Optional&&void 0===r&&(r=null),0==(n&(A.Self|A.Host))){const i=t[9],s=R(void 0);try{return i?i.get(e,r,n&A.Optional):j(e,r,n&A.Optional)}finally{R(s)}}return Ue(r,e,n)}function Be(t,e,n,r=A.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof e?e>=0?255&e:ze:e}(n);if("function"==typeof s){if(!oe(e,t,r))return r&A.Host?Ue(i,n,r):qe(e,n,r,i);try{const t=s();if(null!=t||r&A.Optional)return t;v(n)}finally{he()}}else if("number"==typeof s){let i=null,o=Fe(t,e),a=Se,u=r&A.Host?e[16][6]:null;for((-1===o||r&A.SkipSelf)&&(a=-1===o?Me(t,e):e[o+8],a!==Se&&Qe(r,!1)?(i=e[1],o=ke(a),e=Re(a,e)):o=-1);-1!==o;){const t=e[1];if(Ge(s,o,t.data)){const t=We(o,e,n,i,r,u);if(t!==He)return t}a=e[o+8],a!==Se&&Qe(r,e[1].data[o+8]===u)&&Ge(s,o,e)?(i=t,o=ke(a),e=Re(a,e)):o=-1}}}return qe(e,n,r,i)}const He={};function ze(){return new Ye(Wt(),Bt())}function We(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=Ke(a,o,n,null==r?pt(a)&&je:r!=o&&0!=(3&a.type),i&A.Host&&s===a);return null!==u?$e(e,o,u,a):He}function Ke(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&gt(t)&&t.type===n)return u}return null}function $e(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Ee){const o=i;o.resolving&&function(t,e){throw new g("200",`Circular dependency in DI detected for ${t}`)}(b(s[n]));const a=Ne(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?R(o.injectImpl):null;oe(t,r,A.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=_t(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&R(u),Ne(a),o.resolving=!1,he()}}return i}function Ge(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Qe(t,e){return!(t&A.Self||t&A.Host&&e)}class Ye{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Be(this._tNode,this._lView,t,void 0,e)}}function Je(t){return N(()=>{const e=t.prototype.constructor,n=e[Q]||Xe(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Q]||Xe(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Xe(t){return m(t)?()=>{const e=Xe(p(t));return e&&e()}:yt(t)}function Ze(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ce(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Wt(),t)}const tn="__parameters__";function en(t,e,n){return N(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(tn)?t[tn]:Object.defineProperty(t,tn,{value:[]})[tn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class nn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=_({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const rn=new nn("AnalyzeForEntryComponents"),sn=Function;function on(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),on(r,e)):e!==t&&e.push(r)}return e}function an(t,e){t.forEach(t=>Array.isArray(t)?an(t,e):e(t))}function un(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function cn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ln(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function hn(t,e,n){let r=fn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function dn(t,e){const n=fn(t,e);if(n>=0)return t[1|n]}function fn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const pn={},mn=/\n/gm,gn="__source",yn=u({provide:String,useValue:u});let bn;function vn(t){const e=bn;return bn=t,e}function _n(t,e=A.Default){if(void 0===bn)throw new Error("inject() must be called from an injection context");return null===bn?j(t,void 0,e):bn.get(t,e&A.Optional?null:void 0,e)}function wn(t,e=A.Default){return(k||_n)(p(t),e)}const Sn=wn;function En(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=A.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(wn(t,n))}else e.push(wn(r))}return e}function On(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Cn=On(en("Inject",t=>({token:t})),-1),Tn=On(en("Optional"),8),In=On(en("SkipSelf"),4);let xn,An;function kn(t){var e;return(null===(e=function(){if(void 0===xn&&(xn=null,U.trustedTypes))try{xn=U.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return xn}())||void 0===e?void 0:e.createHTML(t))||t}function Rn(t){var e;return(null===(e=function(){if(void 0===An&&(An=null,U.trustedTypes))try{An=U.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return An}())||void 0===e?void 0:e.createHTML(t))||t}class jn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Nn extends jn{getTypeName(){return"HTML"}}class Dn extends jn{getTypeName(){return"Style"}}class Pn extends jn{getTypeName(){return"Script"}}class Ln extends jn{getTypeName(){return"URL"}}class Fn extends jn{getTypeName(){return"ResourceURL"}}function Mn(t){return t instanceof jn?t.changingThisBreaksApplicationSecurity:t}function Vn(t,e){const n=Un(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Un(t){return t instanceof jn&&t.getTypeName()||null}function qn(t){return new Nn(t)}function Bn(t){return new Dn(t)}function Hn(t){return new Pn(t)}function zn(t){return new Ln(t)}function Wn(t){return new Fn(t)}class Kn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(kn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class $n{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=kn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=kn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Gn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Qn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Yn(t){return(t=String(t)).match(Gn)||t.match(Qn)?t:"unsafe:"+t}function Jn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Xn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Zn=Jn("area,br,col,hr,img,wbr"),tr=Jn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),er=Jn("rp,rt"),nr=Xn(er,tr),rr=Xn(Zn,Xn(tr,Jn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xn(er,Jn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nr),ir=Jn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),sr=Jn("srcset"),or=Xn(ir,sr,Jn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Jn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ar=Jn("script,style,template");class ur{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!rr.hasOwnProperty(e))return this.sanitizedSomething=!0,!ar.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!or.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;ir[s]&&(o=Yn(o)),sr[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Yn(t.trim())).join(", ")),this.buf.push(" ",e,'="',hr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();rr.hasOwnProperty(e)&&!Zn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(hr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const cr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lr=/([^\#-~ |!])/g;function hr(t){return t.replace(/&/g,"&amp;").replace(cr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(lr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let dr;function fr(t,e){let n=null;try{dr=dr||function(t){const e=new $n(t);return function(){try{return!!(new window.DOMParser).parseFromString(kn(""),"text/html")}catch(t){return!1}}()?new Kn(e):e}(t);let r=e?String(e):"";n=dr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=dr.getInertBodyElement(r)}while(r!==s);return kn((new ur).sanitizeChildren(pr(n)||n))}finally{if(n){const t=pr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function pr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var mr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function gr(t){const e=br();return e?Rn(e.sanitize(mr.HTML,t)||""):Vn(t,"HTML")?Rn(Mn(t)):fr(Tt(),y(t))}function yr(t){const e=br();return e?e.sanitize(mr.URL,t)||"":Vn(t,"URL")?Mn(t):Yn(y(t))}function br(){const t=Bt();return t&&t[12]}function vr(t){return t.ngDebugContext}function _r(t){return t.ngOriginalError}function wr(t,...e){t.error(...e)}class Sr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||wr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?vr(t)?vr(t):this._findContext(_r(t)):null}_findOriginalError(t){let e=_r(t);for(;e&&_r(e);)e=_r(e);return e}}function Er(t,e){t.__ngContext__=e}const Or=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(U))();function Cr(t){return t instanceof Function?t():t}var Tr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Ir(t,e){return(void 0)(t,e)}function xr(t){const e=t[3];return dt(e)?e[3]:e}function Ar(t){return Rr(t[13])}function kr(t){return Rr(t[4])}function Rr(t){for(;null!==t&&!dt(t);)t=t[4];return t}function jr(t,e,n,r,i){if(null!=r){let s,o=!1;dt(r)?s=r:ht(r)&&(o=!0,r=r[0]);const a=At(r);0===t&&null!==n?null==i?Ur(e,n,a):Vr(e,n,a,i||null,!0):1===t&&null!==n?Vr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Br(t,e);r&&function(t,e,n,r){It(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==At(n)&&jr(e,t,r,s,i);for(let o=lt;o<n.length;o++){const i=n[o];Yr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Nr(t,e,n){return It(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Dr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Vt(i,-1)),n.splice(r,1)}function Pr(t,e){if(t.length<=lt)return;const n=lt+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Dr(s,r),e>0&&(t[n-1][4]=r[4]);const o=cn(t,lt+e);Yr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Lr(t,e){if(!(256&e[2])){const n=e[11];It(n)&&n.destroyNode&&Yr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Fr(t[1],t);for(;e;){let n=null;if(ht(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ht(e)&&Fr(e[1],e),e=e[3];null===e&&(e=t),ht(e)&&Fr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Fr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ee)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):At(e[t]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&It(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&dt(e[3])){n!==e[3]&&Dr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Mr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===P.None||e===P.Emulated)return null}return Rt(r,n)}(t,e.parent,n)}function Vr(t,e,n,r,i){It(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Ur(t,e,n){It(t)?t.appendChild(e,n):e.appendChild(n)}function qr(t,e,n,r,i){null!==r?Vr(t,e,n,r,i):Ur(t,e,n)}function Br(t,e){return It(t)?t.parentNode(e):e.parentNode}function Hr(t,e,n){return zr(t,e,n)}let zr=function(t,e,n){return 40&t.type?Rt(t,n):null};function Wr(t,e,n,r){const i=Mr(t,r,e),s=e[11],o=Hr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)qr(s,i,n[a],o,!1);else qr(s,i,n,o,!1)}function Kr(t,e){if(null!==e){const n=e.type;if(3&n)return Rt(e,t);if(4&n)return Gr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Kr(t,n);{const n=t[e.index];return dt(n)?Gr(-1,n):At(n)}}if(32&n)return Ir(e,t)()||At(t[e.index]);{const n=$r(t,e);return null!==n?Array.isArray(n)?n[0]:Kr(xr(t[16]),n):Kr(t,e.next)}}return null}function $r(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Gr(t,e){const n=lt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Kr(t,r)}return e[7]}function Qr(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Er(At(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Qr(t,e,n.child,r,i,s,!1),jr(e,t,i,a,s);else if(32&u){const o=Ir(n,r);let u;for(;u=o();)jr(e,t,i,u,s);jr(e,t,i,a,s)}else 16&u?Jr(t,e,r,n,i,s):jr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Yr(t,e,n,r,i,s){Qr(n,r,t.firstChild,e,i,s,!1)}function Jr(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)jr(e,t,i,a[u],s);else Qr(t,e,a,o[3],i,s,!0)}function Xr(t,e,n){It(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Zr(t,e,n){It(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ti(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ei="ng-template";function ni(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ti(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ri(t){return 4===t.type&&t.value!==ei}function ii(t,e,n){return e===(4!==t.type||n?t.value:ei)}function si(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ce(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!ii(t,u,n)||""===u&&1===e.length){if(oi(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ni(t.attrs,c,n)){if(oi(r))return!1;o=!0}continue}const l=ai(8&r?"class":u,i,ri(t),n);if(-1===l){if(oi(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ti(e,c,0)||2&r&&c!==t){if(oi(r))return!1;o=!0}}}}else{if(!o&&!oi(r)&&!oi(u))return!1;if(o&&oi(u))continue;o=!1,r=u|1&r}}return oi(r)||o}function oi(t){return 0==(1&t)}function ai(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ui(t,e,n=!1){for(let r=0;r<e.length;r++)if(si(t,e[r],n))return!0;return!1}function ci(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function li(t,e){return t?":not("+e.trim()+")":e}function hi(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||oi(o)||(e+=li(s,i),i=""),r=o,s=s||!oi(r);n++}return""!==i&&(e+=li(s,i)),e}const di={};function fi(t){pi(Ht(),Bt(),fe()+t,Yt())}function pi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&ye(e,r,n)}else{const r=t.preOrderHooks;null!==r&&be(e,r,0,n)}pe(n)}function mi(t,e){return t<<17|e<<2}function gi(t){return t>>17&32767}function yi(t){return 2|t}function bi(t){return(131068&t)>>2}function vi(t,e){return-131069&t|e<<2}function _i(t){return 1|t}function wi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];ie(i),n.contentQueries(2,e[s],s)}}}function Si(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Mt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Ei(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Kt(),o=Gt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),Ut.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=Ut.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return $t(s,!0),s}function Oi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ci(t,e,n){ae(e);try{const r=t.viewQuery;null!==r&&es(1,r,n);const i=t.template;null!==i&&xi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&wi(t,e),t.staticViewQueries&&es(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Yi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,de()}}function Ti(t,e,n,r){const i=e[2];if(256==(256&i))return;ae(e);const s=Yt();try{Mt(e),Ut.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&xi(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&ye(e,n,null)}else{const n=t.preOrderHooks;null!==n&&be(e,n,0,null),ve(e,0)}if(function(t){for(let e=Ar(t);null!==e;e=kr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Vt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Ar(t);null!==e;e=kr(e))for(let t=lt;t<e.length;t++){const n=e[t],r=n[1];Lt(n)&&Ti(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&wi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&ye(e,n)}else{const n=t.contentHooks;null!==n&&be(e,n,1),ve(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)pe(~r);else{const i=r,s=n[++t],o=n[++t];ee(s,i),o(2,e[i])}}}finally{pe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Gi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&es(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&ye(e,n)}else{const n=t.viewHooks;null!==n&&be(e,n,2),ve(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Vt(e[3],-1))}finally{de()}}function Ii(t,e,n,r){const i=e[10],s=!Yt(),o=Pt(e);try{s&&!o&&i.begin&&i.begin(),o&&Ci(t,e,r),Ti(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function xi(t,e,n,r,i){const s=fe(),o=2&r;try{pe(-1),o&&e.length>ct&&pi(t,e,ct,Yt()),n(r,i)}finally{pe(s)}}function Ai(t,e,n){if(ft(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function ki(t,e,n){qt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Pe(n,e),Er(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=gt(r);s&&zi(e,n,r);const u=$e(e,t,a,n);Er(u,e),null!==o&&Wi(0,a-i,u,r,0,o),s&&(Nt(n.index,e)[8]=u)}}(t,e,n,Rt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Ut.lFrame.currentDirectiveIndex;try{pe(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ne(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Vi(r,i)}}finally{pe(-1),ne(o)}}(t,e,n))}function Ri(t,e,n=Rt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function ji(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ni(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ni(t,e,n,r,i,s,o,a,u,c){const l=ct+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:di);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Di(t,e,n,r){const i=rs(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&is(t).push(r,i.length-1))}function Pi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Li(t,e,n,r,i,s,o,a){const u=Rt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(os(t,n,c,r,i),pt(e)&&function(t,e){const n=Nt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,It(s)?s.setProperty(u,r,i):Te(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Fi(t,e,n,r){let i=!1;if(qt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ui(n,o.selectors,!1)&&(i||(i=[]),Ve(Pe(n,e),t,o.type),gt(o)?(Ui(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Bi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Oi(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Ie(n.mergedAttrs,c.hostAttrs),Hi(t,n,e,u,c),qi(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ri(e)?null:Ki(n,i);s.push(c),o=Pi(n,u,o),a=Pi(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new g("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Ie(n.mergedAttrs,n.attrs),i}function Mi(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Vi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ui(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function qi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gt(e)&&(n[""]=t)}}function Bi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Hi(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=yt(i.type)),o=new Ee(s,gt(i),null);t.blueprint[r]=o,n[r]=o,Mi(t,e,0,r,Oi(t,n,i.hostVars,di),i)}function zi(t,e,n){const r=Rt(e,t),i=ji(n),s=t[10],o=Ji(t,Si(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Wi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Ki(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function $i(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Gi(t,e){const n=Nt(e,t);if(Lt(n)){const t=n[1];80&n[2]?Ti(t,n,t.template,n[8]):n[5]>0&&Qi(n)}}function Qi(t){for(let n=Ar(t);null!==n;n=kr(n))for(let t=lt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Ti(t,e,t.template,e[8])}else e[5]>0&&Qi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Nt(e[n],t);Lt(r)&&r[5]>0&&Qi(r)}}function Yi(t,e){const n=Nt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ci(r,n,n[8])}function Ji(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Xi(t){for(;t;){t[2]|=64;const e=xr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Zi(t,e,n){const r=e[10];r.begin&&r.begin();try{Ti(t,e,t.template,n)}catch(i){throw ss(e,i),i}finally{r.end&&r.end()}}function ts(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Dt(n),i=r[1];Ii(i,r,i.template,n)}}(t[8])}function es(t,e,n){ie(0),e(t,n)}const ns=(()=>Promise.resolve(null))();function rs(t){return t[7]||(t[7]=[])}function is(t){return t.cleanup||(t.cleanup=[])}function ss(t,e){const n=t[9],r=n?n.get(Sr,null):null;r&&r.handleError(e)}function os(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function as(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=h(i,t):2==s&&(r=h(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const us=new nn("INJECTOR",-1);class cs{get(t,e=pn){if(e===pn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const ls=new nn("Set Injector scope."),hs={},ds={},fs=[];let ps;function ms(){return void 0===ps&&(ps=new cs),ps}function gs(t,e=null,n=null,r){return new ys(t,n,e||ms(),r)}class ys{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&an(e,n=>this.processProvider(n,t,e)),an([t],t=>this.processInjectorType(t,[],i)),this.records.set(us,_s(void 0,this));const s=this.records.get(ls);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=pn,n=A.Default){this.assertNotDestroyed();const r=vn(this);try{if(!(n&A.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof nn)&&S(t);e=n&&this.injectableDefInScope(n)?_s(bs(t),hs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&A.Self?ms():this.parent).get(t,e=n&A.Optional&&e===pn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(l(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[gn]&&i.unshift(e[gn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(mn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{vn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=O(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=O(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{an(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];an(r,t=>this.processProvider(t,n,r||fs))}}this.injectorDefTypes.add(s);const a=yt(s)||(()=>new s);this.records.set(s,_s(a,hs));const u=r.providers;if(null!=u&&!o){const e=t;an(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Ss(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return ws(t)?_s(void 0,t.useValue):_s(vs(t),hs)}(t);if(Ss(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=_s(void 0,hs,!0),e.factory=()=>En(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===hs&&(e.value=ds,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function bs(t){const e=S(t),n=null!==e?e.factory:yt(t);if(null!==n)return n;if(t instanceof nn)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=ln(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[C]||t[I]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function vs(t,e,n){let r;if(Ss(t)){const e=p(t);return yt(e)||bs(e)}if(ws(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...En(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>wn(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return yt(e)||bs(e);r=()=>new e(...En(t.deps))}var i;return r}function _s(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ws(t){return null!==t&&"object"==typeof t&&yn in t}function Ss(t){return"function"==typeof t}const Es=function(t,e,n){return function(t,e=null,n=null,r){const i=gs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Os=(()=>{class t{static create(t,e){return Array.isArray(t)?Es(t,e,""):Es(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=pn,t.NULL=new cs,t.\u0275prov=_({token:t,providedIn:"any",factory:()=>wn(us)}),t.__NG_ELEMENT_ID__=-1,t})();function Cs(t,e){ge(Dt(t)[1],Wt())}function Ts(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(gt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Is(t.inputs),e.declaredInputs=Is(t.declaredInputs),e.outputs=Is(t.outputs);const n=i.hostBindings;n&&ks(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&xs(t,s),o&&As(t,o),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),gt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Ts&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ie(i.hostAttrs,n=Ie(n,i.hostAttrs))}}(r)}function Is(t){return t===q?{}:t===H?[]:t}function xs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function As(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function ks(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Rs=null;function js(){if(!Rs){const t=U.Symbol;if(t&&t.iterator)Rs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Rs=n)}}}return Rs}function Ns(t){return!!Ds(t)&&(Array.isArray(t)||!(t instanceof Map)&&js()in t)}function Ds(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ps(t,e,n){return t[e]=n}function Ls(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Fs(t,e,n,r){const i=Ls(t,e,n);return Ls(t,e+1,r)||i}function Ms(t,e,n,r){const i=Bt();return Ls(i,Zt(),e)&&(Ht(),function(t,e,n,r,i,s){const o=Rt(t,e);!function(t,e,n,r,i,s,o){if(null==s)It(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?y(s):o(s,r||"",i);It(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(me(),i,t,e,n,r)),Ms}function Vs(t,e,n,r,i,s,o,a){const u=Bt(),c=Ht(),l=t+ct,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Ei(e,t,4,o||null,Ft(c,a));Fi(e,n,l,Ft(c,u)),ge(e,l);const h=l.tViews=Ni(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];$t(h,!1);const d=u[11].createComment("");Wr(c,u,d,h),Er(d,u),Ji(u,u[l]=$i(d,u,d,h)),mt(h)&&ki(c,u,h),null!=o&&Ri(u,h,a)}function Us(t,e=A.Default){const n=Bt();return null===n?wn(t,e):Be(Wt(),n,p(t),e)}function qs(t,e,n){const r=Bt();return Ls(r,Zt(),e)&&Li(Ht(),me(),r,t,e,r[11],n,!1),qs}function Bs(t,e,n,r,i){const s=i?"class":"style";os(t,n,e.inputs[s],s,r)}function Hs(t,e,n,r){const i=Bt(),s=Ht(),o=ct+t,a=i[11],u=i[o]=Nr(a,e,Ut.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=Ei(e,t,2,i,Ft(a,s));return Fi(e,n,u,Ft(a,o)),null!==u.attrs&&as(u,u.attrs,!1),null!==u.mergedAttrs&&as(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];$t(c,!0);const l=c.mergedAttrs;null!==l&&Oe(a,u,l);const h=c.classes;null!==h&&Zr(a,u,h);const d=c.styles;null!==d&&Xr(a,u,d),64!=(64&c.flags)&&Wr(s,i,u,c),0===Ut.lFrame.elementDepthCount&&Er(u,i),Ut.lFrame.elementDepthCount++,mt(c)&&(ki(s,i,c),Ai(s,c,i)),null!==r&&Ri(i,c)}function zs(){let t=Wt();Gt()?Qt():(t=t.parent,$t(t,!1));const e=t;Ut.lFrame.elementDepthCount--;const n=Ht();n.firstCreatePass&&(ge(n,t),ft(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Bs(n,e,Bt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Bs(n,e,Bt(),e.stylesWithoutHost,!1)}function Ws(t,e,n,r){Hs(t,e,n,r),zs()}function Ks(t,e,n){const r=Bt(),i=Ht(),s=t+ct,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Ft(s,r),a=Ei(e,t,8,"ng-container",o);return null!==o&&as(a,o,!0),Fi(e,n,a,Ft(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];$t(o,!0);const a=r[s]=r[11].createComment("");Wr(i,r,a,o),Er(a,r),mt(o)&&(ki(i,r,o),Ai(i,o,r)),null!=n&&Ri(r,o)}function $s(){let t=Wt();const e=Ht();Gt()?Qt():(t=t.parent,$t(t,!1)),e.firstCreatePass&&(ge(e,t),ft(t)&&e.queries.elementEnd(t))}function Gs(){return Bt()}function Qs(t){return!!t&&"function"==typeof t.then}function Ys(t){return!!t&&"function"==typeof t.subscribe}const Js=Ys;function Xs(t,e,n=!1,r){const i=Bt(),s=Ht(),o=Wt();return function(t,e,n,r,i,s,o=!1,a){const u=mt(r),c=t.firstCreatePass&&is(t),l=rs(e);let h=!0;if(3&r.type){const d=Rt(r,e),f=a?a(d):q,p=f.target||d,m=l.length,g=a?t=>a(At(t[r.index])).target:r.index;if(It(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=to(r,e,0,s,!1);const t=n.listen(f.name||p,i,s);l.push(s,t),c&&c.push(i,g,m,m+1)}}else s=to(r,e,0,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,g,m,o)}else s=to(r,e,0,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),Xs}function Zs(t,e,n,r){try{return!1!==n(r)}catch(i){return ss(t,i),!1}}function to(t,e,n,r,i){return function n(s){if(s===Function)return r;const o=2&t.flags?Nt(t.index,e):e;0==(32&e[2])&&Xi(o);let a=Zs(e,0,r,s),u=n.__ngNextListenerFn__;for(;u;)a=Zs(e,0,u,s)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function eo(t=1){return function(t){return(Ut.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ut.lFrame.contextLView))[8]}(t)}function no(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?ui(t,s,!0):ci(r,s))return i}else n=i}return n}function ro(t){const e=Bt()[16][6];if(!e.projection){const n=e.projection=ln(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?no(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function io(t,e=0,n){const r=Bt(),i=Ht(),s=Ei(i,ct+t,16,null,n||null);null===s.projection&&(s.projection=e),Qt(),64!=(64&s.flags)&&function(t,e,n){Jr(e[11],0,e,n,Mr(t,n,e),Hr(n.parent||e[6],n,e))}(i,r,s)}function so(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?gi(s):bi(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];oo(t[a],e)&&(u=!0,t[a+1]=r?_i(n):yi(n)),a=r?gi(n):bi(n)}u&&(t[n+1]=r?yi(s):_i(s))}function oo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&fn(t,e)>=0}const ao={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function uo(t){return t.substring(ao.key,ao.keyEnd)}function co(t,e){const n=ao.textEnd;return n===e?-1:(e=ao.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,ao.key=e,n),lo(t,e,n))}function lo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ho(t,e,n){return go(t,e,n,!1),ho}function fo(t,e){return go(t,e,null,!0),fo}function po(t){!function(t,e,n,r){const i=Ht(),s=te(2);i.firstUpdatePass&&bo(i,null,s,r);const o=Bt();if(n!==di&&Ls(o,s,n)){const a=i.data[fe()];if(Oo(a,r)&&!yo(i,s)){let t=a.classesWithoutHost;null!==t&&(n=h(t,n||"")),Bs(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===di&&(i=B);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const o=u<i.length?i[u+1]:void 0,d=c<s.length?s[c+1]:void 0;let f,p=null;l===h?(u+=2,c+=2,o!==d&&(p=h,f=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,f=d),null!==p&&wo(t,e,n,r,p,f,true,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return B;const r=[],i=Mn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,s)}}(hn,mo,t,!0)}function mo(t,e){for(let n=function(t){return function(t){ao.key=0,ao.keyEnd=0,ao.value=0,ao.valueEnd=0,ao.textEnd=t.length}(t),co(t,lo(t,0,ao.textEnd))}(e);n>=0;n=co(e,n))hn(t,uo(e),!0)}function go(t,e,n,r){const i=Bt(),s=Ht(),o=te(2);s.firstUpdatePass&&bo(s,t,o,r),e!==di&&Ls(i,o,e)&&wo(s,s.data[fe()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(Mn(t)))),t}(e,n),r,o)}function yo(t,e){return e>=t.expandoStartIndex}function bo(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[fe()],o=yo(t,n);Oo(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Ut.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=_o(n=vo(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=vo(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==bi(r))return t[gi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=vo(null,t,e,n[1],r),n=_o(n,e.attrs,r),function(t,e,n,r){t[gi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=_o(r,t[s].hostAttrs,n);return _o(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=gi(o),u=bi(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||fn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=gi(t[a+1]);t[r+1]=mi(e,a),0!==e&&(t[e+1]=vi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=mi(a,0),0!==a&&(t[a+1]=vi(t[a+1],r)),a=r;else t[r+1]=mi(u,0),0===a?a=r:t[u+1]=vi(t[u+1],r),u=r;l&&(t[r+1]=yi(t[r+1])),so(t,c,r,!0),so(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&fn(s,e)>=0&&(n[r+1]=_i(n[r+1]))}(e,c,t,r,s),o=mi(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function vo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=_o(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function _o(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),hn(t,o,!!n||e[++s]))}return void 0===t?null:t}function wo(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Eo(1==(1&c)?So(u,e,n,i,bi(c),o):void 0)||(Eo(s)||2==(2&c)&&(s=So(u,null,n,i,a,o)),function(t,e,n,r,i){const s=It(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Tr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=Tr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,kt(fe(),n),i,s))}function So(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===di&&(l=c?B:void 0);let h=c?dn(l,r):u===r?l:void 0;if(s&&!Eo(h)&&(h=dn(e,r)),Eo(h)&&(a=h,o))return a;const d=t[i+1];i=o?gi(d):bi(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=dn(t,r))}return a}function Eo(t){return void 0!==t}function Oo(t,e){return 0!=(t.flags&(e?16:32))}function Co(t,e=""){const n=Bt(),r=Ht(),i=t+ct,s=r.firstCreatePass?Ei(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return It(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Wr(r,n,o,s),$t(s,!1)}function To(t){return Io("",t,""),To}function Io(t,e,n){const r=Bt(),i=function(t,e,n,r){return Ls(t,Zt(),n)?e+y(n)+r:di}(r,t,e,n);return i!==di&&function(t,e,n){const r=kt(e,t);!function(t,e,n){It(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,fe(),i),Io}function xo(t,e,n){const r=Bt();return Ls(r,Zt(),e)&&Li(Ht(),me(),r,t,e,r[11],n,!0),xo}const Ao=void 0;var ko=["en",[["a","p"],["AM","PM"],Ao],[["AM","PM"],Ao,Ao],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ao,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ao,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ao,"{1} 'at' {0}",Ao],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ro={};function jo(t,e,n){"string"!=typeof e&&(n=e,e=t[Fo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Ro[e]=t,n&&(Ro[e][Fo.ExtraData]=n)}function No(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Lo(e);if(n)return n;const r=e.split("-")[0];if(n=Lo(r),n)return n;if("en"===r)return ko;throw new Error(`Missing locale data for the locale "${t}".`)}function Do(t){return No(t)[Fo.CurrencyCode]||null}function Po(t){return No(t)[Fo.PluralCase]}function Lo(t){return t in Ro||(Ro[t]=U.ng&&U.ng.common&&U.ng.common.locales&&U.ng.common.locales[t]),Ro[t]}var Fo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Mo="en-US";let Vo=Mo;function Uo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Vo=t.toLowerCase().replace(/_/g,"-"))}function qo(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let s=0;s<t.length;s++)qo(t[s],e,n,r,i);else{const s=Ht(),o=Bt();let a=Ss(t)?t:p(t.provide),u=vs(t);const c=Wt(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(Ss(t)||!t.multi){const r=new Ee(u,i,Us),f=zo(a,e,i?l:l+d,h);-1===f?(Ve(Pe(c,o),s,a),Bo(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=zo(a,e,l+d,h),p=zo(a,e,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){Ve(Pe(c,o),s,a);const l=function(t,e,n,r,i){const s=new Ee(t,n,Us);return s.multi=[],s.index=e,s.componentProviders=0,Ho(s,i,r&&!n),s}(i?Ko:Wo,n.length,i,r,u);!i&&g&&(n[p].providerFactory=l),Bo(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else Bo(s,t,f>-1?f:p,Ho(n[i?p:f],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function Bo(t,e,n,r){const i=Ss(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Ho(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function zo(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Wo(t,e,n,r){return $o(this.multi,[])}function Ko(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=$e(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),$o(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],$o(i,s);return s}function $o(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Go(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Ht();if(r.firstCreatePass){const i=gt(t);qo(n,r.data,r.blueprint,i,!0),qo(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Qo{}class Yo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Jo=(()=>{class t{}return t.NULL=new Yo,t})();function Xo(...t){}function Zo(t,e){return new ea(Rt(t,e))}const ta=function(){return Zo(Wt(),Bt())};let ea=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=ta,t})();function na(t){return t instanceof ea?t.nativeElement:t}class ra{}let ia=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>sa(),t})();const sa=function(){const t=Bt(),e=Nt(Wt().index,t);return function(t){return t[11]}(ht(e)?e:t)};let oa=(()=>{class t{}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>null}),t})();class aa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ua=new aa("11.2.11");class ca{constructor(){}supports(t){return Ns(t)}create(t){return new ha(t)}}const la=(t,e)=>e;class ha{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||la}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<ma(n,r,i)?e:n,o=ma(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ns(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[js()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new da(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new pa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class da{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class pa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new fa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ma(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ga{constructor(){}supports(t){return t instanceof Map||Ds(t)}create(){return new ya}}class ya{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ds(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ba(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ba{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function va(){return new _a([new ca])}let _a=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||va()),deps:[[t,new In,new Tn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=_({token:t,providedIn:"root",factory:va}),t})();function wa(){return new Sa([new ga])}let Sa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||wa()),deps:[[t,new In,new Tn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=_({token:t,providedIn:"root",factory:wa}),t})();function Ea(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(At(s)),dt(s))for(let t=lt;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&Ea(e[1],e,n,r)}const o=n.type;if(8&o)Ea(t,e,n.child,r);else if(32&o){const t=Ir(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=$r(e,n);if(Array.isArray(t))r.push(...t);else{const n=xr(e[16]);Ea(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Oa{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Ea(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(dt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Pr(t,n),cn(e,n))}this._attachedToViewContainer=!1}Lr(this._lView[1],this._lView)}onDestroy(t){Di(this._lView[1],this._lView,null,t)}markForCheck(){Xi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Zi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Jt(!0);try{Zi(t,e,n)}finally{Jt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Yr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ca extends Oa{constructor(t){super(t),this._view=t}detectChanges(){ts(this._view)}checkNoChanges(){!function(t){Jt(!0);try{ts(t)}finally{Jt(!1)}}(this._view)}get context(){return null}}const Ta=xa;let Ia=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ta,t.__ChangeDetectorRef__=!0,t})();function xa(t=!1){return function(t,e,n){if(!n&&pt(t)){const n=Nt(t.index,e);return new Oa(n,n)}return 47&t.type?new Oa(e[16],e):null}(Wt(),Bt(),t)}const Aa=[new ga],ka=new _a([new ca]),Ra=new Sa(Aa),ja=function(){return La(Wt(),Bt())};let Na=(()=>{class t{}return t.__NG_ELEMENT_ID__=ja,t})();const Da=Na,Pa=class extends Da{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Si(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ci(e,n,t),new Oa(n)}};function La(t,e){return 4&t.type?new Pa(e,t,Zo(t,e)):null}class Fa{}class Ma{}const Va=function(){return Wa(Wt(),Bt())};let Ua=(()=>{class t{}return t.__NG_ELEMENT_ID__=Va,t})();const qa=Ua,Ba=class extends qa{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Zo(this._hostTNode,this._hostLView)}get injector(){return new Ye(this._hostTNode,this._hostLView)}get parentInjector(){const t=Me(this._hostTNode,this._hostLView);if(Ae(t)){const e=Re(t,this._hostLView),n=ke(t);return new Ye(e[1].data[n+8],e)}return new Ye(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ha(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-lt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Fa,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(dt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ba(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=lt+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-lt?(e[4]=n[i],un(n,lt+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Gr(i,s),a=n[11],u=Br(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Yr(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(),un(za(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ha(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Pr(this._lContainer,e);n&&(cn(za(this._lContainer),e),Lr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Pr(this._lContainer,e);return n&&null!=cn(za(this._lContainer),e)?new Oa(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ha(t){return t[8]}function za(t){return t[8]||(t[8]=[])}function Wa(t,e){let n;const r=e[t.index];if(dt(r))n=r;else{let i;if(8&t.type)i=At(r);else{const n=e[11];i=n.createComment("");const r=Rt(t,e);Vr(n,Br(n,r),i,function(t,e){return It(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=$i(r,e,i,t),Ji(e,n)}return new Ba(n,t,e)}const Ka={};class $a extends Jo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=at(t);return new Ya(e,this.ngModule)}}function Ga(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Qa=new nn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Or});class Ya extends Qo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(hi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ga(this.componentDef.inputs)}get outputs(){return Ga(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Ka,i);return s!==Ka||r===Ka?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(ra,xt),o=i.get(oa,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(It(t))return t.selectRootElement(e,n===P.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Nr(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Or,clean:ns,playerHandler:null,flags:0},d=Ni(0,null,null,1,0,null,null,null,null,null),f=Si(null,d,h,l,null,null,s,a,o,i);let p,m;ae(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Ei(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(as(a,u,!0),null!==t&&(Oe(i,t,u),null!==a.classes&&Zr(i,t,a.classes),null!==a.styles&&Xr(i,t,a.styles)));const c=r.createRenderer(t,e),l=Si(n,ji(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(Ve(Pe(a,n),o,e.type),Ui(o,a),Bi(a,n.length,1)),Ji(n,l),n[20]=l}(c,this.componentDef,f,s,a);if(c)if(n)Oe(a,c,["ng-version",ua.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!oi(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Oe(a,c,t),e&&e.length>0&&Zr(a,c,e.join(" "))}if(m=jt(d,ct),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Wt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Hi(t,r,e,Oi(t,e,1,null),n));const i=$e(e,t,r.directiveStart,r);Er(i,e);const s=Rt(r,e);return s&&Er(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Wt();e.contentQueries(1,o,t.directiveStart)}const a=Wt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(pe(a.index),Mi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Vi(e,o)),o}(t,this.componentDef,f,h,[Cs]),Ci(d,f,null)}finally{de()}return new Ja(this.componentType,p,Zo(m,f),f,m)}}class Ja extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Ca(r),this.componentType=t}get injector(){return new Ye(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Xa=new Map;class Za extends Fa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new $a(this);const n=ut(t),r=t[G]||null;r&&Uo(r),this._bootstrapComponents=Cr(n.bootstrap),this._r3Injector=gs(t,e,[{provide:Fa,useValue:this},{provide:Jo,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Os.THROW_IF_NOT_FOUND,n=A.Default){return t===Os||t===Fa||t===us?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class tu extends Ma{constructor(t){super(),this.moduleType=t,null!==ut(t)&&function(t){const e=new Set;!function t(n){const r=ut(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,Xa.get(i),n),Xa.set(i,n));const s=Cr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Za(this.moduleType,t)}}function eu(t,e,n,r){return function(t,e,n,r,i,s){const o=e+n;return Ls(t,o,i)?Ps(t,o+1,s?r.call(s,i):r(i)):iu(t,o+1)}(Bt(),Xt(),t,e,n,r)}function nu(t,e,n,r,i){return function(t,e,n,r,i,s,o){const a=e+n;return Fs(t,a,i,s)?Ps(t,a+2,o?r.call(o,i,s):r(i,s)):iu(t,a+2)}(Bt(),Xt(),t,e,n,r,i)}function ru(t,e,n,r,i,s,o,a,u,c){const l=Xt()+t,h=Bt();let d=function(t,e,n,r,i,s){const o=Fs(t,e,n,r);return Fs(t,e+2,i,s)||o}(h,l,n,r,i,s);return function(t,e,n,r,i){const s=Fs(t,e,n,r);return Ls(t,e+2,i)||s}(h,l+4,o,a,u)||d?Ps(h,l+7,c?e.call(c,n,r,i,s,o,a,u):e(n,r,i,s,o,a,u)):function(t,e){return t[e]}(h,l+7)}function iu(t,e){const n=t[e];return n===di?void 0:n}function su(t){return e=>{setTimeout(t,void 0,e)}}const ou=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,s,o;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(s=e.error)||void 0===s?void 0:s.bind(e),c=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(u=su(u),a&&(a=su(a)),c&&(c=su(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.a&&t.add(l),l}};function au(){return this._results[js()]()}class uu{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=js(),n=uu.prototype;n[e]||(n[e]=au)}get changes(){return this._changes||(this._changes=new ou)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=on(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class cu{constructor(t){this.queryList=t,this.matches=null}clone(){return new cu(this.queryList)}setDirty(){this.queryList.setDirty()}}class lu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new lu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Ou(t,e).matches&&this.queries[e].setDirty()}}class hu{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class du{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new du(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class fu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new fu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,pu(e,i)),this.matchTNodeWithReadOption(t,e,Ke(e,t,i,!1,!1))}else n===Na?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ke(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ea||r===Ua||r===Na&&4&e.type)this.addMatch(e.index,-2);else{const n=Ke(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function pu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function mu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Zo(t,e):4&t.type?La(t,e):null}(e,t):-2===n?function(t,e,n){return n===ea?Zo(e,t):n===Na?La(e,t):n===Ua?Wa(e,t):void 0}(t,e,r):$e(t,t[1],n,e)}function gu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:mu(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function yu(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=gu(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=lt;t<o.length;t++){const e=o[t];e[17]===e[3]&&yu(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];yu(n[1],n,i,r)}}}}}return r}function bu(t){const e=Bt(),n=Ht(),r=re();ie(r+1);const i=Ou(n,r);if(t.dirty&&Pt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?yu(n,e,r,[]):gu(n,e,i,r);t.reset(s,na),t.notifyOnChanges()}return!0}return!1}function vu(t,e,n){const r=Ht();r.firstCreatePass&&(Eu(r,new hu(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Su(r,Bt(),e)}function _u(t,e,n,r){const i=Ht();if(i.firstCreatePass){const s=Wt();Eu(i,new hu(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Su(i,Bt(),n)}function wu(){return t=Bt(),e=re(),t[19].queries[e].queryList;var t,e}function Su(t,e,n){const r=new uu(4==(4&n));Di(t,e,r,r.destroy),null===e[19]&&(e[19]=new lu),e[19].queries.push(new cu(r))}function Eu(t,e,n){null===t.queries&&(t.queries=new du),t.queries.track(new fu(e,n))}function Ou(t,e){return t.queries.getByIndex(e)}function Cu(t,e){return La(t,e)}function Tu(t=A.Default){const e=xa(!0);if(null!=e||t&A.Optional)return e;v("ChangeDetectorRef")}const Iu=new nn("Application Initializer");let xu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Xo,this.reject=Xo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Qs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(wn(Iu,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Au=new nn("AppId"),ku={provide:Au,useFactory:function(){return`${Ru()}${Ru()}${Ru()}`},deps:[]};function Ru(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ju=new nn("Platform Initializer"),Nu=new nn("Platform ID"),Du=new nn("appBootstrapListener");let Pu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Lu=new nn("LocaleId"),Fu=new nn("DefaultCurrencyCode");class Mu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Vu=function(t){return new tu(t)},Uu=Vu,qu=function(t){return Promise.resolve(Vu(t))},Bu=function(t){const e=Vu(t),n=Cr(ut(t).declarations).reduce((t,e)=>{const n=at(e);return n&&t.push(new Ya(n)),t},[]);return new Mu(e,n)},Hu=Bu,zu=function(t){return Promise.resolve(Bu(t))};let Wu=(()=>{class t{constructor(){this.compileModuleSync=Uu,this.compileModuleAsync=qu,this.compileModuleAndAllComponentsSync=Hu,this.compileModuleAndAllComponentsAsync=zu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Ku=(()=>Promise.resolve(0))();function $u(t){"undefined"==typeof Zone?Ku.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Gu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ou(!1),this.onMicrotaskEmpty=new ou(!1),this.onStable=new ou(!1),this.onError=new ou(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=U.requestAnimationFrame,e=U.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(U,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ju(t),Yu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ju(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Xu(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Zu(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return Xu(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Zu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Ju(t),Yu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Gu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Qu,Xo,Xo);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Qu={};function Yu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ju(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Xu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Zu(t){t._nesting--,Yu(t)}class tc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ou,this.onMicrotaskEmpty=new ou,this.onStable=new ou,this.onError=new ou}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let ec=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gu.assertNotInAngularZone(),$u(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$u(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(wn(Gu))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),nc=(()=>{class t{constructor(){this._applications=new Map,oc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return oc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();class rc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function ic(t){oc=t}let sc,oc=new rc,ac=!0,uc=!1;function cc(){return uc=!0,ac}function lc(){if(uc)throw new Error("Cannot enable prod mode after platform setup.");ac=!1}const hc=new nn("AllowMultipleToken");class dc{constructor(t,e){this.name=t,this.token=e}}function fc(t,e,n=[]){const r=`Platform: ${e}`,i=new nn(r);return(e=[])=>{let s=pc();if(!s||s.injector.get(hc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ls,useValue:"platform"});!function(t){if(sc&&!sc.destroyed&&!sc.injector.get(hc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");sc=t.get(mc);const e=t.get(ju,null);e&&e.forEach(t=>t())}(Os.create({providers:t,name:r}))}return function(t){const e=pc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function pc(){return sc&&!sc.destroyed?sc:null}let mc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new tc:("zone.js"===t?void 0:t)||new Gu({enableLongStackTrace:cc(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Gu,useValue:n}];return n.run(()=>{const e=Os.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Sr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{bc(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Qs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(xu);return t.runInitializers(),t.donePromise.then(()=>(Uo(i.injector.get(Lu,Mo)||Mo),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=gc({},e);return function(t,e,n){const r=new tu(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(yc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(wn(Os))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function gc(t,e){return Array.isArray(e)?e.reduce(gc,t):Object.assign(Object.assign({},t),e)}let yc=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Gu.assertNotInAngularZone(),$u(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Gu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(u,c.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Qo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Fa),i=n.create(Os.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(ec,null),a=o&&i.injector.get(nc);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),bc(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;bc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Du,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(wn(Gu),wn(Os),wn(Sr),wn(Jo),wn(xu))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function bc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class vc{}class _c{}const wc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Sc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||wc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Ec(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Ec(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(wn(Wu),wn(_c,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Ec(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Oc=function(t){return null},Cc=fc(null,"core",[{provide:Nu,useValue:"unknown"},{provide:mc,deps:[Os]},{provide:nc,deps:[]},{provide:Pu,deps:[]}]),Tc=[{provide:yc,useClass:yc,deps:[Gu,Os,Sr,Jo,xu]},{provide:Qa,deps:[Gu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:xu,useClass:xu,deps:[[new Tn,Iu]]},{provide:Wu,useClass:Wu,deps:[]},ku,{provide:_a,useFactory:function(){return ka},deps:[]},{provide:Sa,useFactory:function(){return Ra},deps:[]},{provide:Lu,useFactory:function(t){return Uo(t=t||"undefined"!=typeof $localize&&$localize.locale||Mo),t},deps:[[new Cn(Lu),new Tn,new In]]},{provide:Fu,useValue:"USD"}];let Ic=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(wn(yc))},t.\u0275mod=nt({type:t}),t.\u0275inj=w({providers:Tc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("z6cu");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return O}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return f}),n.d(e,"l",function(){return p}),n.d(e,"m",function(){return u}),n.d(e,"n",function(){return c}),n.d(e,"o",function(){return d}),n.d(e,"p",function(){return m});var r=n("mrSG");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?b(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new g(i,a,r);return u},t}();function b(t,e){return t.replace(v,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var v=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new S(t,e);return n.subscribe.bind(n)}var S=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}function O(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return O}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return S});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new u.r("angularfire2.app.options"),v=new u.r("angularfire2.app.nameOrConfig"),_=new u.Q("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&E("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const S=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.X)()&&"undefined"!=typeof console&&console[t](...e)};function O(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const C={provide:class{},useFactory:w,deps:[b,u.A,[new u.B,v]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.P.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.Wb(u.C))},t.\u0275mod=u.Lb({type:t}),t.\u0275inj=u.Kb({providers:[C]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("EQ5u"),i=n("x+ZX"),s=n("XNiG");function o(){return new s.a}function a(){return t=>{return Object(i.a)()((e=o,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),m=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}s(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.f)(u,s.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.i)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.n)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.20",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function s(){return i}const o=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Wb)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(o))},t.\u0275prov=Object(r.Jb)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l(Object(r.Wb)(o))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Wb)(o).location;return new v(Object(r.Wb)(a),e&&e.origin||"")}const b=new r.r("appBaseHref");let v=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a),r.Wb(b,8))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends g{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(a),r.Wb(b,8))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(g),r.Wb(a))},t.normalizeQueryParams=m,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Jb)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new w(Object(r.Wb)(g),Object(r.Wb)(a))}function E(t){return t.replace(/\/index.html$/,"")}var O=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const C=r.ob;class T{}let I=(()=>{class t extends T{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(C(e||this.locale)(t)){case O.Zero:return"zero";case O.One:return"one";case O.Two:return"two";case O.Few:return"few";case O.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.v))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();function x(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let A=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.rb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.xb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.t),r.Nb(r.u),r.Nb(r.l),r.Nb(r.F))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class k{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let R=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new k(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new j(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new j(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.R),r.Nb(r.M),r.Nb(r.t))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class j{constructor(t,e){this.record=t,this.view=e}}let N=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(r.u),r.Nb(r.F))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),D=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:[{provide:T,useClass:I}]}),t})();function P(t){return"server"===t}let L=(()=>{class t{}return t.\u0275prov=Object(r.Jb)({token:t,providedIn:"root",factory:()=>new F(Object(r.Wb)(o),window)}),t})();class F{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=M(this.window.history)||M(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function M(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class V extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new V,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=q||(q=document.querySelector("base"),q)?q.getAttribute("href"):null;return null==e?null:(n=e,U||(U=document.createElement("a")),U.setAttribute("href",n),"/"===U.pathname.charAt(0)?U.pathname:"/"+U.pathname);var n}resetBaseElement(){q=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return x(document.cookie,t)}}let U,q=null;const B=new r.r("TRANSITION_ID"),H=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[B,o,r.s],multi:!0}];class z{static init(){Object(r.Z)(new z)}addToWindow(t){r.qb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.qb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.qb.getAllAngularRootElements=()=>t.getAllRootElements(),r.qb.frameworkStabilizers||(r.qb.frameworkStabilizers=[]),r.qb.frameworkStabilizers.push(t=>{const e=r.qb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const W=new r.r("EventManagerPlugins");let K=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(W),r.Wb(r.A))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class ${constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let G=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),Q=(()=>{class t extends G{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(o))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const Y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},J=/%COMP%/g;function X(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?X(t,i,n):(i=i.replace(J,t),n.push(i))}return n}function Z(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let tt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new et(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.S.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new nt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.S.ShadowDom:return new rt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=X(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(K),r.Wb(Q),r.Wb(r.c))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class et{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Y[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Y[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Y[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.H.DashCase|r.H.Important)?t.style.setProperty(e,n,i&r.H.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.H.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Z(n)):this.eventManager.addEventListener(t,e,Z(n))}}class nt extends et{constructor(t,e,n,r){super(t),this.component=n;const i=X(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(J,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(J,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class rt extends et{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=X(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let it=(()=>{class t extends ${constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(o))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const st=["alt","control","meta","shift"],ot={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},at={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ut={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ct=(()=>{class t extends ${constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(st.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&at.hasOwnProperty(e)&&(e=at[e]))}return ot[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),st.forEach(r=>{r!=n&&(0,ut[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(o))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),lt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:function(){return Object(r.Wb)(ht)},token:t,providedIn:"root"}),t})(),ht=(()=>{class t extends lt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.J.NONE:return e;case r.J.HTML:return Object(r.fb)(e,"HTML")?Object(r.yb)(e):Object(r.db)(this._doc,String(e)).toString();case r.J.STYLE:return Object(r.fb)(e,"Style")?Object(r.yb)(e):e;case r.J.SCRIPT:if(Object(r.fb)(e,"Script"))return Object(r.yb)(e);throw new Error("unsafe value used in a script context");case r.J.URL:return Object(r.pb)(e),Object(r.fb)(e,"URL")?Object(r.yb)(e):Object(r.eb)(String(e));case r.J.RESOURCE_URL:if(Object(r.fb)(e,"ResourceURL"))return Object(r.yb)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.gb)(t)}bypassSecurityTrustStyle(t){return Object(r.jb)(t)}bypassSecurityTrustScript(t){return Object(r.ib)(t)}bypassSecurityTrustUrl(t){return Object(r.kb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.hb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(o))},t.\u0275prov=Object(r.Jb)({factory:function(){return t=Object(r.Wb)(r.o),new ht(t.get(o));var t},token:t,providedIn:"root"}),t})();const dt=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){V.makeCurrent(),z.init()},multi:!0},{provide:o,useFactory:function(){return Object(r.wb)(document),document},deps:[]}],ft=Object(r.T)(r.Y,"browser",dt),pt=[[],{provide:r.bb,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:W,useClass:it,multi:!0,deps:[o,r.A,r.C]},{provide:W,useClass:ct,multi:!0,deps:[o]},[],{provide:tt,useClass:tt,deps:[K,Q,r.c]},{provide:r.G,useExisting:tt},{provide:G,useExisting:Q},{provide:Q,useClass:Q,deps:[o]},{provide:r.N,useClass:r.N,deps:[r.A]},{provide:K,useClass:K,deps:[W,r.A]},[]];let mt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:B,useExisting:r.c},H]}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(t,12))},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:pt,imports:[D,r.f]}),t})();"undefined"!=typeof window&&window;var gt=n("Cfvw"),yt=n("LRne"),bt=n("XNiG"),vt=n("9ppp");class _t extends bt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new vt.a;return this._value}next(t){super.next(this._value=t)}}var wt=n("z+Ro"),St=n("DH7j"),Et=n("7o/Q");class Ot extends Et.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Ct extends Et.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Tt=n("SeVD"),It=n("HDdC");function xt(t,e,n,r,i=new Ct(t,n,r)){if(!i.closed)return e instanceof It.a?e.subscribe(i):Object(Tt.a)(e)(i)}var At=n("yCtX");const kt={};class Rt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new jt(t,this.resultSelector))}}class jt extends Ot{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(kt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(xt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===kt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Nt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Dt=n("bHdf");function Pt(...t){return Object(Dt.a)(1)(Object(yt.a)(...t))}var Lt=n("EY2u");function Ft(t){return new It.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(gt.a)(n):Object(Lt.b)()).subscribe(e)})}var Mt=n("EQ5u"),Vt=n("lJxs"),Ut=n("zx2A");function qt(t,e){return"function"==typeof e?n=>n.pipe(qt((n,r)=>Object(gt.a)(t(n,r)).pipe(Object(Vt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Bt(t))}class Bt{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ht(t,this.project))}}class Ht extends Ut.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Ut.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Ut.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const zt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Wt(t){return e=>0===t?Object(Lt.b)():e.lift(new Kt(t))}class Kt{constructor(t){if(this.total=t,this.total<0)throw new zt}call(t,e){return e.subscribe(new $t(t,this.total))}}class $t extends Et.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Gt(...t){const e=t[t.length-1];return Object(wt.a)(e)?(t.pop(),n=>Pt(t,n,e)):e=>Pt(t,e)}function Qt(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Yt(t,e,n))}}class Yt{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Jt(t,this.accumulator,this.seed,this.hasSeed))}}class Jt extends Et.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Xt(t,e){return function(n){return n.lift(new Zt(t,e))}}class Zt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new te(t,this.predicate,this.thisArg))}}class te extends Et.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function ee(t){return function(e){const n=new ne(t),r=e.lift(n);return n.caught=r}}class ne{constructor(t){this.selector=t}call(t,e){return e.subscribe(new re(t,this.selector,this.caught))}}class re extends Ut.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Ut.a(this);this.add(r);const i=Object(Ut.c)(n,r);i!==r&&this.add(i)}}}var ie=n("5+tZ");function se(t,e){return Object(ie.a)(t,e,1)}function oe(t){return function(e){return 0===t?Object(Lt.b)():e.lift(new ae(t))}}class ae{constructor(t){if(this.total=t,this.total<0)throw new zt}call(t,e){return e.subscribe(new ue(t,this.total))}}class ue extends Et.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function ce(t=de){return e=>e.lift(new le(t))}class le{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new he(t,this.errorFactory))}}class he extends Et.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Mb){t=Mb}this.destination.error(t)}}}function de(){return new Nt}function fe(t=null){return e=>e.lift(new pe(t))}class pe{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new me(t,this.defaultValue))}}class me extends Et.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var ge=n("SpAZ");function ye(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Xt((e,n)=>t(e,n,r)):ge.a,Wt(1),n?fe(e):ce(()=>new Nt))}var be=n("vkgz"),ve=n("x+ZX"),_e=n("quSY");function we(t){return e=>e.lift(new Se(t))}class Se{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Ee(t,this.callback))}}class Ee extends Et.a{constructor(t,e){super(t),this.add(new _e.a(e))}}class Oe{constructor(t,e){this.id=t,this.url=e}}class Ce extends Oe{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Te extends Oe{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ie extends Oe{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xe extends Oe{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ae extends Oe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ke extends Oe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Re extends Oe{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class je extends Oe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ne extends Oe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class De{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pe{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Le{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fe{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Me{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ve{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ue{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const qe="primary";class Be{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function He(t){return new Be(t)}function ze(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function We(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ke(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!$e(t[i],e[i]))return!1;return!0}function $e(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Ge(t){return Array.prototype.concat.apply([],t)}function Qe(t){return t.length>0?t[t.length-1]:null}function Ye(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Je(t){return Object(r.sb)(t)?t:Object(r.tb)(t)?Object(gt.a)(Promise.resolve(t)):Object(yt.a)(t)}function Xe(t,e,n){return n?function(t,e){return Ke(t,e)}(t.queryParams,e.queryParams)&&Ze(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>$e(t[n],e[n]))}(t.queryParams,e.queryParams)&&tn(t.root,e.root)}function Ze(t,e){if(!on(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Ze(t.children[n],e.children[n]))return!1}return!0}function tn(t,e){return en(t,e,e.segments)}function en(t,e,n){if(t.segments.length>n.length)return!!on(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!on(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!tn(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!on(t.segments,r)&&!!t.children.primary&&en(t.children.primary,e,i)}}class nn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=He(this.queryParams)),this._queryParamMap}toString(){return cn.serialize(this)}}class rn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ye(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ln(this)}}class sn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=He(this.parameters)),this._parameterMap}toString(){return yn(this)}}function on(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class an{}class un{parse(t){const e=new Sn(t);return new nn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${hn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${fn(e)}=${fn(t)}`).join("&"):`${fn(e)}=${fn(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const cn=new un;function ln(t){return t.segments.map(t=>yn(t)).join("/")}function hn(t,e){if(!t.hasChildren())return ln(t);if(e){const e=t.children.primary?hn(t.children.primary,!1):"",n=[];return Ye(t.children,(t,e)=>{e!==qe&&n.push(`${e}:${hn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Ye(t.children,(t,r)=>{r===qe&&(n=n.concat(e(t,r)))}),Ye(t.children,(t,r)=>{r!==qe&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===qe?[hn(t.children.primary,!1)]:[`${n}:${hn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${ln(t)}/${e[0]}`:`${ln(t)}/(${e.join("//")})`}}function dn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fn(t){return dn(t).replace(/%3B/gi,";")}function pn(t){return dn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mn(t){return decodeURIComponent(t)}function gn(t){return mn(t.replace(/\+/g,"%20"))}function yn(t){return`${pn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${pn(t)}=${pn(e[t])}`).join("")}`;var e}const bn=/^[^\/()?;=#]+/;function vn(t){const e=t.match(bn);return e?e[0]:""}const _n=/^[^=?&#]+/,wn=/^[^?&#]+/;class Sn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rn([],{}):new rn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new rn(t,e)),n}parseSegment(){const t=vn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new sn(mn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=vn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=vn(this.remaining);t&&(n=t,this.capture(n))}t[mn(e)]=mn(n)}parseQueryParam(t){const e=function(t){const e=t.match(_n);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(wn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=gn(e),i=gn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=vn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=qe);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new rn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class En{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=On(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=On(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Cn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Cn(t,this._root).map(t=>t.value)}}function On(t,e){if(t===e.value)return e;for(const n of e.children){const e=On(t,n);if(e)return e}return null}function Cn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Cn(t,n);if(r.length)return r.unshift(e),r}return[]}class Tn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function In(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class xn extends En{constructor(t,e){super(t),this.snapshot=e,Dn(this,t)}toString(){return this.snapshot.toString()}}function An(t,e){const n=function(t,e){const n=new jn([],{},{},"",{},qe,e,null,t.root,-1,{});return new Nn("",new Tn(n,[]))}(t,e),r=new _t([new sn("",{})]),i=new _t({}),s=new _t({}),o=new _t({}),a=new _t(""),u=new kn(r,i,o,a,s,qe,e,n.root);return u.snapshot=n.root,new xn(new Tn(u,[]),n)}class kn{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Vt.a)(t=>He(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Vt.a)(t=>He(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Rn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class jn{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=He(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=He(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Nn extends En{constructor(t,e){super(e),this.url=t,Dn(this,e)}toString(){return Pn(this._root)}}function Dn(t,e){e.value._routerState=t,e.children.forEach(e=>Dn(t,e))}function Pn(t){const e=t.children.length>0?` { ${t.children.map(Pn).join(", ")} } `:"";return`${t.value}${e}`}function Ln(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ke(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ke(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ke(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ke(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Fn(t,e){return Ke(t.params,e.params)&&function(t,e){return on(t,e)&&t.every((t,n)=>Ke(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Fn(t.parent,e.parent))}function Mn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Mn(t,e,r);return Mn(t,e)})}(t,e,n);return new Tn(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Vn(e,t),t}}const n=new kn(new _t((r=e.value).url),new _t(r.params),new _t(r.queryParams),new _t(r.fragment),new _t(r.data),r.outlet,r.component,r),i=e.children.map(e=>Mn(t,e));return new Tn(n,i)}var r}function Vn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Vn(t.children[n],e.children[n])}function Un(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function qn(t){return"object"==typeof t&&null!=t&&t.outlets}function Bn(t,e,n,r,i){let s={};return r&&Ye(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new nn(n.root===t?e:Hn(n.root,t,e),s,i)}function Hn(t,e,n){const r={};return Ye(t.children,(t,i)=>{r[i]=t===e?n:Hn(t,e,n)}),new rn(t.segments,r)}class zn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Un(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(qn);if(r&&r!==Qe(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Kn(t,e,n){if(t||(t=new rn([],{})),0===t.segments.length&&t.hasChildren())return $n(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(qn(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Jn(a,u,e))return s;r+=2}else{if(!Jn(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new rn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new rn(t.segments.slice(r.pathIndex),t.children),$n(e,0,i)}return r.match&&0===i.length?new rn(t.segments,{}):r.match&&!t.hasChildren()?Gn(t,e,n):r.match?$n(t,0,i):Gn(t,e,n)}function $n(t,e,n){if(0===n.length)return new rn(t.segments,{});{const r=function(t){return qn(t[0])?t[0].outlets:{[qe]:t}}(n),i={};return Ye(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Kn(t.children[r],e,n))}),Ye(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new rn(t.segments,i)}}function Gn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(qn(s)){const t=Qn(s.outlets);return new rn(r,t)}if(0===i&&Un(n[0])){r.push(new sn(t.segments[e].path,Yn(n[0]))),i++;continue}const o=qn(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Un(a)?(r.push(new sn(o,Yn(a))),i+=2):(r.push(new sn(o,{})),i++)}return new rn(r,{})}function Qn(t){const e={};return Ye(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Gn(new rn([],{}),0,t))}),e}function Yn(t){const e={};return Ye(t,(t,n)=>e[n]=`${t}`),e}function Jn(t,e,n){return t==n.path&&Ke(e,n.parameters)}class Xn{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Ln(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=In(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Ye(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=In(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=In(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Ve(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Fe(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Ln(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Zn(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Zn(t){Ln(t.value),t.children.forEach(Zn)}class tr{constructor(t,e){this.routes=t,this.module=e}}function er(t){return"function"==typeof t}function nr(t){return t instanceof nn}const rr=Symbol("INITIAL_VALUE");function ir(){return qt(t=>function(...t){let e,n;return Object(wt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(St.a)(t[0])&&(t=t[0]),Object(At.a)(t,n).lift(new Rt(e))}(t.map(t=>t.pipe(Wt(1),Gt(rr)))).pipe(Qt((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==rr)return t;if(r===rr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||nr(r))return r}return t},t)},rr),Xt(t=>t!==rr),Object(Vt.a)(t=>nr(t)?t:!0===t),Wt(1)))}let sr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Ob(0,"router-outlet")},directives:function(){return[Jr]},encapsulation:2}),t})();function or(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];ar(r,ur(e,r))}}function ar(t,e){t.children&&or(t.children,e)}function ur(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function cr(t){const e=t.children&&t.children.map(cr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==qe&&(n.component=sr),n}function lr(t){return t.outlet||qe}function hr(t,e){const n=t.filter(t=>lr(t)===e);return n.push(...t.filter(t=>lr(t)!==e)),n}const dr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function fr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},dr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||We)(n,t,e);if(!i)return Object.assign({},dr);const s={};Ye(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function pr(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>mr(t,e,n)&&lr(n)!==qe)}(t,n,r)){const i=new rn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&lr(s)!==qe){const n=new rn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[lr(s)]=n}return i}(t,e,r,new rn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>mr(t,e,n))}(t,n,r)){const s=new rn(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(mr(t,n,a)&&!i[lr(a)]){const n=new rn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[lr(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new rn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function mr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function gr(t,e,n,r){return!!(lr(t)===r||r!==qe&&mr(e,n,t))&&("**"===t.path||fr(e,t,n).matched)}function yr(t,e,n){return 0===e.length&&!t.children[n]}class br{constructor(t){this.segmentGroup=t||null}}class vr{constructor(t){this.urlTree=t}}function _r(t){return new It.a(e=>e.error(new br(t)))}function wr(t){return new It.a(e=>e.error(new vr(t)))}function Sr(t){return new It.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Er{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=pr(this.urlTree.root,[],[],this.config).segmentGroup,e=new rn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,qe).pipe(Object(Vt.a)(t=>this.createUrlTree(Or(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ee(t=>{if(t instanceof vr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof br)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,qe).pipe(Object(Vt.a)(e=>this.createUrlTree(Or(e),t.queryParams,t.fragment))).pipe(ee(t=>{if(t instanceof br)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new rn([],{[qe]:t}):t;return new nn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Vt.a)(t=>new rn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(gt.a)(r).pipe(se(r=>{const i=n.children[r],s=hr(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object(Vt.a)(t=>({segment:t,outlet:r})))}),Qt((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Xt((e,n)=>t(e,n,r)):ge.a,oe(1),n?fe(e):ce(()=>new Nt))}())}expandSegment(t,e,n,r,i,s){return Object(gt.a)(n).pipe(se(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(ee(t=>{if(t instanceof br)return Object(yt.a)(null);throw t}))),ye(t=>!!t),ee((t,n)=>{if(t instanceof Nt||"EmptyError"===t.name){if(yr(e,r,i))return Object(yt.a)(new rn([],{}));throw new br(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return gr(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):_r(e):_r(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?wr(i):this.lineralizeSegments(n,i).pipe(Object(ie.a)(n=>{const i=new rn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=fr(e,r,i);if(!o)return _r(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?wr(l):this.lineralizeSegments(r,l).pipe(Object(ie.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(yt.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(Vt.a)(t=>(n._loadedConfig=t,new rn(r,{})))):Object(yt.a)(new rn(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=fr(e,n,r);if(!s)return _r(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(ie.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:c}=pr(e,o,u,s),l=new rn(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe(Object(Vt.a)(t=>new rn(o,t)));if(0===s.length&&0===c.length)return Object(yt.a)(new rn(o,{}));const h=lr(n)===i;return this.expandSegment(r,l,s,c,h?qe:i,!0).pipe(Object(Vt.a)(t=>new rn(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(yt.a)(new tr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(yt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(ie.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Vt.a)(t=>(e._loadedConfig=t,t))):function(t){return new It.a(e=>e.error(ze(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(yt.a)(new tr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(yt.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&er(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!er(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return Je(s)});return Object(yt.a)(i).pipe(ir(),Object(be.a)(t=>{if(!nr(t))return;const e=ze(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Vt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(yt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Sr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new nn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Ye(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return Ye(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new rn(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Or(t){const e={};for(const n of Object.keys(t.children)){const r=Or(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new rn(t.segments.concat(e.segments),e.children)}return t}(new rn(t.segments,e))}class Cr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Tr{constructor(t,e){this.component=t,this.route=e}}function Ir(t,e,n){const r=t._root;return Ar(r,e?e._root:null,n,[r.value])}function xr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Ar(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=In(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!on(t.url,e.url);case"pathParamsOrQueryParamsChange":return!on(t.url,e.url)||!Ke(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fn(t,e)||!Ke(t.queryParams,e.queryParams);case"paramsChange":default:return!Fn(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Cr(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ar(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Tr(a.outlet.component,o))}else o&&kr(e,a,i),i.canActivateChecks.push(new Cr(r)),Ar(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),Ye(s,(t,e)=>kr(t,n.getContext(e),i)),i}function kr(t,e,n){const r=In(t),i=t.value;Ye(r,(t,r)=>{kr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Tr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Rr{}function jr(t){return new It.a(e=>e.error(t))}class Nr{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=pr(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,qe);if(null===e)return null;const n=new jn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},qe,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Tn(n,e),i=new Nn(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Rn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=hr(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=Pr(n);return r.sort((t,e)=>t.value.outlet===qe?-1:e.value.outlet===qe?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return yr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!gr(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?Qe(n).parameters:{};i=new jn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mr(t),lr(t),t.component,t,Lr(e),Fr(e)+n.length,Vr(t))}else{const r=fr(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new jn(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mr(t),lr(t),t.component,t,Lr(e),Fr(e)+s.length,Vr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=pr(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Tn(i,t)]}if(0===a.length&&0===c.length)return[new Tn(i,[])];const l=lr(t)===r,h=this.processSegment(a,u,c,l?qe:r);return null===h?null:[new Tn(i,h)]}}function Dr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Pr(t){const e=[],n=new Set;for(const r of t){if(!Dr(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Pr(r.children);e.push(new Tn(r.value,t))}return e.filter(t=>!n.has(t))}function Lr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Fr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Mr(t){return t.data||{}}function Vr(t){return t.resolve||{}}function Ur(t){return qt(e=>{const n=t(e);return n?Object(gt.a)(n).pipe(Object(Vt.a)(()=>e)):Object(yt.a)(e)})}class qr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Br=new r.r("ROUTES");class Hr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(Vt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new tr(Ge(i.injector.get(Br,void 0,r.q.Self|r.q.Optional)).map(cr),i)}),ee(t=>{throw e._loader$=void 0,t}));return e._loader$=new Mt.a(n,()=>new bt.a).pipe(Object(ve.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(gt.a)(this.loader.load(t)):Je(t()).pipe(Object(ie.a)(t=>t instanceof r.w?Object(yt.a)(t):Object(gt.a)(this.compiler.compileModuleAsync(t))))}}class zr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Wr,this.attachRef=null}}class Wr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new zr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Kr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function $r(t){throw t}function Gr(t,e,n){return e.parse("/")}function Qr(t,e){return Object(yt.a)(null)}let Yr=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new bt.a,this.errorHandler=$r,this.malformedUriErrorHandler=Gr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Qr,afterPreactivation:Qr},this.urlHandlingStrategy=new Kr,this.routeReuseStrategy=new qr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.y),this.console=s.get(r.ab);const c=s.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new nn(new rn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Hr(o,a,t=>this.triggerEvent(new De(t)),t=>this.triggerEvent(new Pe(t))),this.routerState=An(this.currentUrlTree,this.rootComponentType),this.transitions=new _t({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Xt(t=>0!==t.id),Object(Vt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),qt(t=>{let n=!1,r=!1;return Object(yt.a)(t).pipe(Object(be.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),qt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(yt.a)(t).pipe(qt(t=>{const n=this.transitions.getValue();return e.next(new Ce(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Lt.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,qt(t=>function(t,e,n,r,i){return new Er(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(Vt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(be.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(ie.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new Nr(t,e,n,r,i,s).recognize();return null===o?jr(new Rr):Object(yt.a)(o)}catch(Mb){return jr(Mb)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(Vt.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(be.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Ae(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Ce(n,this.serializeUrl(r),i,s);e.next(a);const u=An(r,this.rootComponentType).snapshot;return Object(yt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Lt.a}),Ur(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(be.a)(t=>{const e=new ke(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Vt.a)(t=>Object.assign(Object.assign({},t),{guards:Ir(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(ie.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(yt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(gt.a)(t).pipe(Object(ie.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(yt.a)(!0);const o=s.map(s=>{const o=xr(s,e,i);let a;if(function(t){return t&&er(t.canDeactivate)}(o))a=Je(o.canDeactivate(t,e,n,r));else{if(!er(o))throw new Error("Invalid CanDeactivate guard");a=Je(o(t,e,n,r))}return a.pipe(ye())});return Object(yt.a)(o).pipe(ir())}(t.component,t.route,n,e,r)),ye(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(ie.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(gt.a)(e).pipe(se(e=>Pt(function(t,e){return null!==t&&e&&e(new Le(t)),Object(yt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Me(t)),Object(yt.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Ft(()=>{const i=e.guards.map(i=>{const s=xr(i,e.node,n);let o;if(function(t){return t&&er(t.canActivateChild)}(s))o=Je(s.canActivateChild(r,t));else{if(!er(s))throw new Error("Invalid CanActivateChild guard");o=Je(s(r,t))}return o.pipe(ye())});return Object(yt.a)(i).pipe(ir())}));return Object(yt.a)(i).pipe(ir())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(yt.a)(!0);const i=r.map(r=>Ft(()=>{const i=xr(r,e,n);let s;if(function(t){return t&&er(t.canActivate)}(i))s=Je(i.canActivate(e,t));else{if(!er(i))throw new Error("Invalid CanActivate guard");s=Je(i(e,t))}return s.pipe(ye())}));return Object(yt.a)(i).pipe(ir())}(t,e.route,n))),ye(t=>!0!==t,!0))}(r,s,t,e):Object(yt.a)(n)),Object(Vt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(be.a)(t=>{if(nr(t.guardsResult)){const e=ze(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Re(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Xt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Ie(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Ur(t=>{if(t.guards.canActivateChecks.length)return Object(yt.a)(t).pipe(Object(be.a)(t=>{const e=new je(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),qt(t=>{let n=!1;return Object(yt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(ie.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(yt.a)(t);let s=0;return Object(gt.a)(n).pipe(se(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(yt.a)({});const s={};return Object(gt.a)(i).pipe(Object(ie.a)(i=>function(t,e,n,r){const i=xr(t,e,r);return Je(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(be.a)(t=>{s[i]=t}))),oe(1),Object(ie.a)(()=>Object.keys(s).length===i.length?Object(yt.a)(s):Lt.a))}(t._resolve,t,e,r).pipe(Object(Vt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Rn(t,n).resolve),null)))}(t.route,e,r,i)),Object(be.a)(()=>s++),oe(1),Object(ie.a)(e=>s===n.length?Object(yt.a)(t):Lt.a))})),Object(be.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Ie(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(be.a)(t=>{const e=new Ne(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Ur(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Vt.a)(t=>{const e=function(t,e,n){const r=Mn(t,e._root,n?n._root:void 0);return new xn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(be.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),Object(Vt.a)(t=>(new Xn(s,t.targetRouterState,t.currentRouterState,o).activate(i),t))),Object(be.a)({next(){n=!0},complete(){n=!0}}),we(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Ie(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),ee(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=nr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Ie(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new xe(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(dl){t.reject(dl)}}var i;return Lt.a}));var i,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){or(t),this.config=t.map(cr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Bn(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new zn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Ye(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new zn(n,e,r)}(n);if(s.toRoot())return Bn(e.root,new rn([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Wn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Wn(t,t===e.root,0)}const r=Un(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Wn(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?$n(o.segmentGroup,o.index,s.commands):Kn(o.segmentGroup,o.index,s.commands);return Bn(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=nr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Mb){e=this.malformedUriErrorHandler(Mb,this.urlSerializer,t)}return e}isActive(t,e){if(nr(t))return Xe(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Xe(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Te(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.O),r.Wb(an),r.Wb(Wr),r.Wb(w),r.Wb(r.s),r.Wb(r.x),r.Wb(r.i),r.Wb(void 0))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),Jr=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||qe,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Xr(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Wr),r.Nb(r.R),r.Nb(r.j),r.Xb("name"),r.Nb(r.h))},t.\u0275dir=r.Ib({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Xr{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===kn?this.route:t===Wr?this.childContexts:this.parent.get(t,e)}}class Zr{}class ti{preload(t,e){return Object(yt.a)(null)}}let ei=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Hr(e,n,e=>t.triggerEvent(new De(e)),e=>t.triggerEvent(new Pe(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Xt(t=>t instanceof Te),se(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(gt.a)(n).pipe(Object(Dt.a)(),Object(Vt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(yt.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(ie.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Yr),r.Wb(r.x),r.Wb(r.i),r.Wb(r.s),r.Wb(Zr))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),ni=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ce?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Te&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ue&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Ue(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Yr),r.Wb(L),r.Wb(void 0))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const ri=new r.r("ROUTER_CONFIGURATION"),ii=new r.r("ROUTER_FORROOT_GUARD"),si=[w,{provide:an,useClass:un},{provide:Yr,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new Yr(null,t,e,n,r,i,o,Ge(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[an,Wr,w,r.s,r.x,r.i,Br,ri,[class{},new r.B],[class{},new r.B]]},Wr,{provide:kn,useFactory:function(t){return t.routerState.root},deps:[Yr]},{provide:r.x,useClass:r.L},ei,ti,class{preload(t,e){return e().pipe(ee(()=>Object(yt.a)(null)))}},{provide:ri,useValue:{enableTracing:!1}}];function oi(){return new r.z("Router",Yr)}let ai=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[si,hi(e),{provide:ii,useFactory:li,deps:[[Yr,new r.B,new r.K]]},{provide:ri,useValue:n||{}},{provide:g,useFactory:ci,deps:[a,[new r.p(b),new r.B],ri]},{provide:ni,useFactory:ui,deps:[Yr,L,ri]},{provide:Zr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ti},{provide:r.z,multi:!0,useFactory:oi},[di,{provide:r.d,multi:!0,useFactory:fi,deps:[di]},{provide:mi,useFactory:pi,deps:[di]},{provide:r.b,multi:!0,useExisting:mi}]]}}static forChild(e){return{ngModule:t,providers:[hi(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(ii,8),r.Wb(Yr,8))},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({}),t})();function ui(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ni(t,e,n)}function ci(t,e,n={}){return n.useHash?new _(t,e):new v(t,e)}function li(t){return"guarded"}function hi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Br,multi:!0,useValue:t}]}let di=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new bt.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Yr),r=this.injector.get(ri);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(yt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(ri),n=this.injector.get(ei),i=this.injector.get(ni),s=this.injector.get(Yr),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.s))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();function fi(t){return t.appInitializer.bind(t)}function pi(t){return t.bootstrapListener.bind(t)}const mi=new r.r("Router Initializer"),gi=[];let yi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[ai.forRoot(gi)],ai]}),t})();var bi=n("D0XW");function vi(){return t=>t.lift(new _i)}class _i{call(t,e){return e.subscribe(new wi(t))}}class wi extends Et.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class Si{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Ei(t,this.compare,this.keySelector))}}class Ei extends Et.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Oi=n("pxpQ"),Ci=n("spgP"),Ti=n("Jgta"),Ii=n("zIRd"),xi=n("qOnz"),Ai=n("q/0M"),ki=function(t,e){return(ki=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ri(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var ji,Ni="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Di=Di||{},Pi=Ni||self;function Li(){}function Fi(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Mi(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Vi="closure_uid_"+(1e9*Math.random()>>>0),Ui=0;function qi(t,e,n){return t.call.apply(t.bind,arguments)}function Bi(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Hi(t,e,n){return(Hi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qi:Bi).apply(null,arguments)}function zi(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Wi(){return Date.now()}function Ki(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function $i(){this.j=this.j,this.i=this.i}$i.prototype.j=!1,$i.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Vi)&&t[Vi]||(t[Vi]=++Ui)}(this)},$i.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Gi=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Qi=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function Yi(t){return Array.prototype.concat.apply([],arguments)}function Ji(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Xi(t){return/^[\s\xa0]*$/.test(t)}var Zi,ts=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function es(t,e){return-1!=t.indexOf(e)}function ns(t,e){return t<e?-1:t>e?1:0}t:{var rs=Pi.navigator;if(rs){var is=rs.userAgent;if(is){Zi=is;break t}}Zi=""}function ss(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function os(t){var e={};for(var n in t)e[n]=t[n];return e}var as="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function us(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<as.length;s++)n=as[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function cs(t){return cs[" "](t),t}cs[" "]=Li;var ls,hs,ds=es(Zi,"Opera"),fs=es(Zi,"Trident")||es(Zi,"MSIE"),ps=es(Zi,"Edge"),ms=ps||fs,gs=es(Zi,"Gecko")&&!(es(Zi.toLowerCase(),"webkit")&&!es(Zi,"Edge"))&&!(es(Zi,"Trident")||es(Zi,"MSIE"))&&!es(Zi,"Edge"),ys=es(Zi.toLowerCase(),"webkit")&&!es(Zi,"Edge");function bs(){var t=Pi.document;return t?t.documentMode:void 0}t:{var vs="",_s=(hs=Zi,gs?/rv:([^\);]+)(\)|;)/.exec(hs):ps?/Edge\/([\d\.]+)/.exec(hs):fs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(hs):ys?/WebKit\/(\S+)/.exec(hs):ds?/(?:Version)[ \/]?(\S+)/.exec(hs):void 0);if(_s&&(vs=_s?_s[1]:""),fs){var ws=bs();if(null!=ws&&ws>parseFloat(vs)){ls=String(ws);break t}}ls=vs}var Ss={};function Es(t){return function(t,e){var n=Ss;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=ts(String(ls)).split("."),r=ts(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=ns(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||ns(0==o[2].length,0==a[2].length)||ns(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var Os=Pi.document&&fs&&(bs()||parseInt(ls,10))||void 0,Cs=!fs||9<=Number(Os),Ts=fs&&!Es("9"),Is=function(){if(!Pi.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Pi.addEventListener("test",Li,e),Pi.removeEventListener("test",Li,e)}catch(n){}return t}();function xs(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function As(t,e){if(xs.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(gs){t:{try{cs(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ks[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}xs.prototype.b=function(){this.defaultPrevented=!0},Ki(As,xs);var ks={2:"touch",3:"pen",4:"mouse"};As.prototype.b=function(){As.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ts)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Rs="closure_listenable_"+(1e6*Math.random()|0),js=0;function Ns(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++js,this.Y=this.Z=!1}function Ds(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Ps(t){this.src=t,this.a={},this.b=0}function Ls(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=Gi(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Ds(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Fs(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}Ps.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=Fs(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new Ns(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var Ms="closure_lm_"+(1e6*Math.random()|0),Vs={};function Us(t,e,n,r,i){if(r&&r.once)return Bs(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Us(t,e[s],n,r,i);return null}return n=Ys(n),t&&t[Rs]?t.va(e,n,Mi(r)?!!r.capture:!!r,i):qs(t,e,n,!1,r,i)}function qs(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Mi(i)?!!i.capture:!!i;if(o&&!Cs)return null;var a=Gs(t);if(a||(t[Ms]=a=new Ps(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=$s,e=Cs?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Is||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ws(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Bs(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Bs(t,e[s],n,r,i);return null}return n=Ys(n),t&&t[Rs]?t.wa(e,n,Mi(r)?!!r.capture:!!r,i):qs(t,e,n,!0,r,i)}function Hs(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Hs(t,e[s],n,r,i);else r=Mi(r)?!!r.capture:!!r,n=Ys(n),t&&t[Rs]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Fs(s=t.a[e],n,r,i))&&(Ds(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=Gs(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Fs(e,n,r,i)),(n=-1<t?e[t]:null)&&zs(n))}function zs(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Rs])Ls(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ws(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Gs(e))?(Ls(n,t),0==n.b&&(n.src=null,e[Ms]=null)):Ds(t)}}}function Ws(t){return t in Vs?Vs[t]:Vs[t]="on"+t}function Ks(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&zs(t),n.call(r,e)}function $s(t,e){if(t.Y)return!0;if(!Cs){if(!e)t:{e=["window","event"];for(var n=Pi,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ks(t,e=new As(e,this))}return Ks(t,new As(e,this))}function Gs(t){return(t=t[Ms])instanceof Ps?t:null}var Qs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ys(t){return"function"==typeof t?t:(t[Qs]||(t[Qs]=function(e){return t.handleEvent(e)}),t[Qs])}function Js(){$i.call(this),this.c=new Ps(this),this.J=this,this.C=null}function Xs(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new xs(e,t);else if(e instanceof xs)e.target=e.target||t;else{var i=e;us(e=new xs(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=Zs(o,r,!0,e)&&i}if(i=Zs(o=e.a=t,r,!0,e)&&i,i=Zs(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Zs(o=e.a=n[s],r,!1,e)&&i}function Zs(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&Ls(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ki(Js,$i),Js.prototype[Rs]=!0,(ji=Js.prototype).addEventListener=function(t,e,n,r){Us(this,t,e,n,r)},ji.removeEventListener=function(t,e,n,r){Hs(this,t,e,n,r)},ji.G=function(){if(Js.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ds(n[r]);delete e.a[t],e.b--}}this.C=null},ji.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},ji.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var to=Pi.JSON.stringify;function eo(){this.b=this.a=null}var no,ro=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new so},function(t){t.reset()});function io(){var t=co,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function so(){this.next=this.b=this.a=null}function oo(t){Pi.setTimeout(function(){throw t},0)}function ao(t,e){no||function(){var t=Pi.Promise.resolve(void 0);no=function(){t.then(lo)}}(),uo||(no(),uo=!0),co.add(t,e)}eo.prototype.add=function(t,e){var n=ro.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},so.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},so.prototype.reset=function(){this.next=this.b=this.a=null};var uo=!1,co=new eo;function lo(){for(var t;t=io();){try{t.a.call(t.b)}catch(n){oo(n)}var e=ro;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}uo=!1}function ho(t,e){Js.call(this),this.b=t||1,this.a=e||Pi,this.f=Hi(this.Za,this),this.g=Wi()}function fo(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function po(t,e,n){if("function"==typeof t)n&&(t=Hi(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Hi(t.handleEvent,t)}return 2147483647<Number(e)?-1:Pi.setTimeout(t,e||0)}function mo(t){t.a=po(function(){t.a=null,t.c&&(t.c=!1,mo(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Ki(ho,Js),(ji=ho.prototype).aa=!1,ji.M=null,ji.Za=function(){if(this.aa){var t=Wi()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Xs(this,"tick"),this.aa&&(fo(this),this.start()))}},ji.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Wi())},ji.G=function(){ho.X.G.call(this),fo(this),delete this.a};var go=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}ki(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:mo(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Pi.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}($i);function yo(t){$i.call(this),this.b=t,this.a={}}Ki(yo,$i);var bo=[];function vo(t,e,n,r){Array.isArray(n)||(n&&(bo[0]=n.toString()),n=bo);for(var i=0;i<n.length;i++){var s=Us(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function _o(t){ss(t.a,function(t,e){this.a.hasOwnProperty(e)&&zs(t)},t),t.a={}}function wo(){this.a=!0}function So(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return to(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}yo.prototype.G=function(){yo.X.G.call(this),_o(this)},yo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wo.prototype.info=function(){};var Eo={},Oo=null;function Co(){return Oo=Oo||new Js}function To(t){xs.call(this,Eo.Fa,t)}function Io(t){var e=Co();Xs(e,new To(e,t))}function xo(t,e){xs.call(this,Eo.STAT_EVENT,t),this.stat=e}function Ao(t){var e=Co();Xs(e,new xo(e,t))}function ko(t){xs.call(this,Eo.Ga,t)}function Ro(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Pi.setTimeout(function(){t()},e)}Eo.Fa="serverreachability",Ki(To,xs),Eo.STAT_EVENT="statevent",Ki(xo,xs),Eo.Ga="timingevent",Ki(ko,xs);var jo={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},No={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Do(){}function Po(){}Do.prototype.a=null;var Lo,Fo={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Mo(){xs.call(this,"d")}function Vo(){xs.call(this,"c")}function Uo(){}function qo(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new yo(this),this.P=Bo,this.R=new ho(t=ms?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Ki(Mo,xs),Ki(Vo,xs),Ki(Uo,Do),Lo=new Uo;var Bo=45e3,Ho={},zo={};function Wo(t,e,n){t.H=1,t.i=fa(aa(e)),t.j=n,t.I=!0,Ko(t,null)}function Ko(t,e){t.u=Wi(),Qo(t),t.l=aa(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Ta(n.b,"t",r),t.D=0,t.a=_u(t.g,t.g.C?e:null),0<t.O&&(t.F=new go(Hi(t.Ca,t,t.a),t.O)),vo(t.J,t.a,"readystatechange",t.Xa),e=t.B?os(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Io(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function $o(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Go(t,n);if(i==zo){4==e&&(t.h=4,Ao(14),r=!1),So(t.c,t.f,null,"[Incomplete Response]");break}if(i==Ho){t.h=4,Ao(15),So(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}So(t.c,t.f,i,null),ta(t,i)}4==e&&0==n.length&&(t.h=1,Ao(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),du(e),e.F=!0,Ao(11))):(So(t.c,t.f,n,"[Invalid Chunked Response]"),Zo(t),Xo(t))}function Go(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?zo:(n=Number(e.substring(n,r)),isNaN(n)?Ho:(r+=1)+n>e.length?zo:(e=e.substr(r,n),t.D=r+n,e))}function Qo(t){t.T=Wi()+t.P,Yo(t,t.P)}function Yo(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ro(Hi(t.Va,t),e)}function Jo(t){t.o&&(Pi.clearTimeout(t.o),t.o=null)}function Xo(t){0==t.g.v||t.A||mu(t.g,t)}function Zo(t){Jo(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,fo(t.R),_o(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ta(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Na(n.b,t)))if(n.I=t.N,!t.C&&Na(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(rb){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;pu(n),ru(n)}hu(n),Ao(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Ro(Hi(n.Sa,n),6e3));if(1>=ja(n.b)&&n.ea){try{n.ea()}catch(rb){}n.ea=void 0}}else yu(n,11)}else if((t.C||n.a==t)&&pu(n),!Xi(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(es(l,"spdy")||es(l,"quic")||es(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Da(h,h.b),h.b=null))}if(u.A){var d=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.na=d,da(u.B,u.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Wi()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((u=n).la=vu(u,u.C?u.ga:null,u.fa),f.C){Pa(u.b,f);var p=f,m=u.D;m&&p.setTimeout(m),p.o&&(Jo(p),Qo(p)),u.a=f}else lu(u);0<n.g.length&&ou(n)}else"stop"!=i[0]&&"close"!=i[0]||yu(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?yu(n,7):nu(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Io(4)}catch(rb){}}function ea(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Fi(t)||"string"==typeof t)Qi(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Fi(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Fi(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function na(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof na)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ra(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];ia(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)ia(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function ia(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(ji=qo.prototype).setTimeout=function(t){this.P=t},ji.Xa=function(t){t=t.target;var e=this.F;e&&3==Xa(t)?e.f():this.Ca(t)},ji.Ca=function(t){try{if(t==this.a)t:{var e=Xa(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!ms&&!this.a.$())){this.A||4!=e||7==n||Io(8==n||0>=r?3:2),Jo(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xi(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,Ao(12),Zo(this),Xo(this);break t}So(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ta(this,u)}this.I?($o(this,e,s),ms&&this.b&&3==e&&(vo(this.J,this.R,"tick",this.Wa),this.R.start())):(So(this.c,this.f,s,null),ta(this,s)),4==e&&Zo(this),this.b&&!this.A&&(4==e?mu(this.g,this):(this.b=!1,Qo(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,Ao(12)):(this.h=0,Ao(13)),Zo(this),Xo(this)}}}catch(c){}},ji.Wa=function(){if(this.a){var t=Xa(this.a),e=this.a.$();this.D<e.length&&(Jo(this),$o(this,t,e),this.b&&4!=t&&Qo(this))}},ji.cancel=function(){this.A=!0,Zo(this)},ji.Va=function(){this.o=null;var t=Wi();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Io(3),Ao(17)),Zo(this),this.h=2,Xo(this)):Yo(this,this.T-t)},(ji=na.prototype).K=function(){ra(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},ji.L=function(){return ra(this),this.a.concat()},ji.get=function(t,e){return ia(this.b,t)?this.b[t]:e},ji.set=function(t,e){ia(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},ji.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var sa=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function oa(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof oa){this.a=void 0!==e?e:t.a,ua(this,t.f),this.j=t.j,ca(this,t.c),la(this,t.h),this.g=t.g,e=t.b;var n=new Sa;n.c=e.c,e.a&&(n.a=new na(e.a),n.b=e.b),ha(this,n),this.i=t.i}else t&&(n=String(t).match(sa))?(this.a=!!e,ua(this,n[1]||"",!0),this.j=pa(n[2]||""),ca(this,n[3]||"",!0),la(this,n[4]),this.g=pa(n[5]||"",!0),ha(this,n[6]||"",!0),this.i=pa(n[7]||"")):(this.a=!!e,this.b=new Sa(null,this.a))}function aa(t){return new oa(t)}function ua(t,e,n){t.f=n?pa(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function ca(t,e,n){t.c=n?pa(e,!0):e}function la(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ha(t,e,n){e instanceof Sa?(t.b=e,function(t,e){e&&!t.f&&(Ea(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Oa(this,e),Ta(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=ma(e,_a)),t.b=new Sa(e,t.a))}function da(t,e,n){t.b.set(e,n)}function fa(t){return da(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Wi()).toString(36)),t}function pa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ma(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ga),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ga(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}oa.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ma(e,ya,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ma(e,ya,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(ma(n,"/"==n.charAt(0)?va:ba,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ma(n,wa)),t.join("")};var ya=/[#\/\?@]/g,ba=/[#\?:]/g,va=/[#\?]/g,_a=/[#\?@]/g,wa=/#/g;function Sa(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ea(t){t.a||(t.a=new na,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Oa(t,e){Ea(t),e=Ia(t,e),ia(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ia((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ra(t)))}function Ca(t,e){return Ea(t),e=Ia(t,e),ia(t.a.b,e)}function Ta(t,e,n){Oa(t,e),0<n.length&&(t.c=null,t.a.set(Ia(t,e),Ji(n)),t.b+=n.length)}function Ia(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(ji=Sa.prototype).add=function(t,e){Ea(this),this.c=null,t=Ia(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},ji.forEach=function(t,e){Ea(this),this.a.forEach(function(n,r){Qi(n,function(n){t.call(e,n,r,this)},this)},this)},ji.L=function(){Ea(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},ji.K=function(t){Ea(this);var e=[];if("string"==typeof t)Ca(this,t)&&(e=Yi(e,this.a.get(Ia(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Yi(e,t[n])}return e},ji.set=function(t,e){return Ea(this),this.c=null,Ca(this,t=Ia(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},ji.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},ji.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var xa=function(){return function(t,e){this.b=t,this.a=e}}();function Aa(t){this.g=t||ka,t=Pi.PerformanceNavigationTiming?0<(t=Pi.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Pi.ia&&Pi.ia.ya&&Pi.ia.ya()&&Pi.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var ka=10;function Ra(t){return!!t.b||!!t.a&&t.a.size>=t.f}function ja(t){return t.b?1:t.a?t.a.size:0}function Na(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Da(t,e){t.a?t.a.add(e):t.b=e}function Pa(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function La(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Ri(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ji(t.c)}function Fa(){}function Ma(){this.a=new Fa}function Va(t,e,n){var r=n||"";try{ea(t,function(t,n){var i=t;Mi(t)&&(i=to(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Mb){throw e.push(r+"type="+encodeURIComponent("_badmap")),Mb}}function Ua(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}Aa.prototype.cancel=function(){var t,e;if(this.c=La(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ri(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Fa.prototype.stringify=function(t){return Pi.JSON.stringify(t,void 0)},Fa.prototype.parse=function(t){return Pi.JSON.parse(t,void 0)};var qa=Pi.JSON.parse;function Ba(t){Js.call(this),this.headers=new na,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ha,this.D=this.F=!1}Ki(Ba,Js);var Ha="",za=/^https?$/i,Wa=["POST","PUT"];function Ka(t){return"content-type"==t.toLowerCase()}function $a(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ga(t),Ya(t)}function Ga(t){t.u||(t.u=!0,Xs(t,"complete"),Xs(t,"error"))}function Qa(t){if(t.b&&void 0!==Di&&(!t.s[1]||4!=Xa(t)||2!=t.W()))if(t.l&&4==Xa(t))po(t.za,0,t);else if(Xs(t,"readystatechange"),4==Xa(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(sa)[1]||null;if(!s&&Pi.self&&Pi.self.location){var o=Pi.self.location.protocol;s=o.substr(0,o.length-1)}i=!za.test(s?s.toLowerCase():"")}e=i}if(e)Xs(t,"complete"),Xs(t,"success");else{t.h=6;try{var a=2<Xa(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Ga(t)}}finally{Ya(t)}}}function Ya(t,e){if(t.a){Ja(t);var n=t.a,r=t.s[0]?Li:null;t.a=null,t.s=null,e||Xs(t,"ready");try{n.onreadystatechange=r}catch(Mb){}}}function Ja(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Pi.clearTimeout(t.m),t.m=null)}function Xa(t){return t.a?t.a.readyState:0}function Za(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return ss(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):da(t,e,n))}function tu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function eu(t){this.pa=0,this.g=[],this.c=new wo,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=tu("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=tu("baseRetryDelayMs",5e3,t),this.Ra=tu("retryDelaySeedMs",1e4,t),this.Ma=tu("forwardChannelMaxRetries",2,t),this.ma=tu("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Aa(t&&t.concurrentRequestLimit),this.ka=new Ma,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function nu(t){if(iu(t),3==t.v){var e=t.R++,n=aa(t.B);da(n,"SID",t.J),da(n,"RID",e),da(n,"TYPE","terminate"),uu(t,n),(e=new qo(t,t.c,e,void 0)).H=2,e.i=fa(aa(n)),n=!1,Pi.navigator&&Pi.navigator.sendBeacon&&(n=Pi.navigator.sendBeacon(e.i.toString(),"")),!n&&Pi.Image&&((new Image).src=e.i,n=!0),n||(e.a=_u(e.g,null),e.a.ba(e.i)),e.u=Wi(),Qo(e)}bu(t)}function ru(t){t.a&&(du(t),t.a.cancel(),t.a=null)}function iu(t){ru(t),t.j&&(Pi.clearTimeout(t.j),t.j=null),pu(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Pi.clearTimeout(t.h),t.h=null)}function su(t,e){t.g.push(new xa(t.Oa++,e)),3==t.v&&ou(t)}function ou(t){Ra(t.b)||t.h||(t.h=!0,ao(t.Ba,t),t.u=0)}function au(t,e){var n;n=e?e.f:t.R++;var r=aa(t.B);da(r,"SID",t.J),da(r,"RID",n),da(r,"AID",t.P),uu(t,r),t.i&&t.l&&Za(r,t.i,t.l),n=new qo(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=cu(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Da(t.b,n),Wo(n,r,e)}function uu(t,e){t.f&&ea({},function(t,n){da(e,n,t)})}function cu(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Hi(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{Va(l,o,"req"+c+"_")}catch(Xu){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function lu(t){t.a||t.j||(t.T=1,ao(t.Aa,t),t.o=0)}function hu(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Ro(Hi(t.Aa,t),gu(t,t.o)),t.o++,0))}function du(t){null!=t.s&&(Pi.clearTimeout(t.s),t.s=null)}function fu(t){t.a=new qo(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=aa(t.la);da(e,"RID","rpc"),da(e,"SID",t.J),da(e,"CI",t.H?"0":"1"),da(e,"AID",t.P),uu(t,e),da(e,"TYPE","xmlhttp"),t.i&&t.l&&Za(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=fa(aa(e)),n.j=null,n.I=!0,Ko(n,t)}function pu(t){null!=t.m&&(Pi.clearTimeout(t.m),t.m=null)}function mu(t,e){var n=null;if(t.a==e){pu(t),du(t),t.a=null;var r=2}else{if(!Na(t.b,e))return;n=e.s,Pa(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Wi()-e.u;var i=t.u;Xs(r=Co(),new ko(r,n,e,i)),ou(t)}else lu(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(ja(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Ro(Hi(t.Ba,t,e),gu(t,t.u)),t.u++,0)))}(t,e)||2==r&&hu(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:yu(t,5);break;case 4:yu(t,10);break;case 3:yu(t,6);break;default:yu(t,2)}}function gu(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function yu(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Hi(t.Ya,t);n||(n=new oa("//www.google.com/images/cleardot.gif"),Pi.location&&"http"==Pi.location.protocol||ua(n,"https"),fa(n)),function(t,e){var n=new wo;if(Pi.Image){var r=new Image;r.onload=zi(Ua,n,r,"TestLoadImage: loaded",!0,e),r.onerror=zi(Ua,n,r,"TestLoadImage: error",!1,e),r.onabort=zi(Ua,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=zi(Ua,n,r,"TestLoadImage: timeout",!1,e),Pi.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ao(2);t.v=0,t.f&&t.f.ra(e),bu(t),iu(t)}function bu(t){t.v=0,t.I=-1,t.f&&(0==La(t.b).length&&0==t.g.length||(t.b.c.length=0,Ji(t.g),t.g.length=0),t.f.qa())}function vu(t,e,n){var r=function(t){return t instanceof oa?aa(t):new oa(t,void 0)}(n);if(""!=r.c)e&&ca(r,e+"."+r.c),la(r,r.h);else{var i=Pi.location;r=function(t,e,n,r){var i=new oa(null,void 0);return t&&ua(i,t),e&&ca(i,e),n&&la(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&ss(t.V,function(t,e){da(r,e,t)}),n=t.na,(e=t.A)&&n&&da(r,e,n),da(r,"VER",t.ha),uu(t,r),r}function _u(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ba(t.Na)).F=t.C,e}function wu(){}function Su(){if(fs&&!(10<=Number(Os)))throw Error("Environmental error: no available transport.")}function Eu(t,e){Js.call(this),this.a=new eu(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Xi(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xi(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Tu(this)}function Ou(t){Mo.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Cu(){Vo.call(this),this.status=1}function Tu(t){this.a=t}(ji=Ba.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Lo),this.a.onreadystatechange=Hi(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void $a(this,s)}t=n||"";var i=new na(this.headers);r&&ea(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Ka,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Pi.FormData&&t instanceof Pi.FormData,!(0<=Gi(Wa,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Ja(this),0<this.o&&((this.D=function(t){return fs&&Es(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Hi(this.xa,this)):this.m=po(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){$a(this,s)}},ji.xa=function(){void 0!==Di&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Xs(this,"timeout"),this.abort(8))},ji.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Xs(this,"complete"),Xs(this,"abort"),Ya(this))},ji.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ya(this,!0)),Ba.X.G.call(this)},ji.za=function(){this.j||(this.A||this.l||this.g?Qa(this):this.Ua())},ji.Ua=function(){Qa(this)},ji.W=function(){try{return 2<Xa(this)?this.a.status:-1}catch(hs){return-1}},ji.$=function(){try{return this.a?this.a.responseText:""}catch(hs){return""}},ji.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),qa(e)}},ji.ua=function(){return this.h},ji.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ji=eu.prototype).ha=8,ji.v=1,ji.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new qo(this,this.c,t,void 0),r=this.l;if(this.O&&(r?us(r=os(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=cu(this,n,e),da(i=aa(this.B),"RID",t),da(i,"CVER",22),this.A&&da(i,"X-HTTP-Session-Id",this.A),uu(this,i),this.i&&r&&Za(i,this.i,r),Da(this.b,n),this.Ia&&da(i,"TYPE","init"),this.da?(da(i,"$req",e),da(i,"SID","null"),n.U=!0,Wo(n,i,null)):Wo(n,i,e),this.v=2}}else 3==this.v&&(t?au(this,t):0==this.g.length||Ra(this.b)||au(this))},ji.Aa=function(){if(this.j=null,fu(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ro(Hi(this.Ta,this),t)}},ji.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ao(10),ru(this),fu(this))},ji.Sa=function(){null!=this.m&&(this.m=null,ru(this),hu(this),Ao(19))},ji.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Ao(2)):(this.c.info("Failed to ping google.com"),Ao(1))},(ji=wu.prototype).ta=function(){},ji.sa=function(){},ji.ra=function(){},ji.qa=function(){},ji.Ja=function(){},Su.prototype.a=function(t,e){return new Eu(t,e)},Ki(Eu,Js),Eu.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Ao(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=vu(t,null,t.fa),ou(t)},Eu.prototype.close=function(){nu(this.a)},Eu.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,su(this.a,e)}else this.l?((e={}).__data__=to(t),su(this.a,e)):su(this.a,t)},Eu.prototype.G=function(){this.a.f=null,delete this.f,nu(this.a),delete this.a,Eu.X.G.call(this)},Ki(Ou,Mo),Ki(Cu,Vo),Ki(Tu,wu),Tu.prototype.ta=function(){Xs(this.a,"a")},Tu.prototype.sa=function(t){Xs(this.a,new Ou(t))},Tu.prototype.ra=function(t){Xs(this.a,new Cu(t))},Tu.prototype.qa=function(){Xs(this.a,"b")},Su.prototype.createWebChannel=Su.prototype.a,Eu.prototype.send=Eu.prototype.h,Eu.prototype.open=Eu.prototype.g,Eu.prototype.close=Eu.prototype.close,jo.NO_ERROR=0,jo.TIMEOUT=8,jo.HTTP_ERROR=6,No.COMPLETE="complete",Po.EventType=Fo,Fo.OPEN="a",Fo.CLOSE="b",Fo.ERROR="c",Fo.MESSAGE="d",Js.prototype.listen=Js.prototype.va,Ba.prototype.listenOnce=Ba.prototype.wa,Ba.prototype.getLastError=Ba.prototype.Qa,Ba.prototype.getLastErrorCode=Ba.prototype.ua,Ba.prototype.getStatus=Ba.prototype.W,Ba.prototype.getResponseJson=Ba.prototype.Pa,Ba.prototype.getResponseText=Ba.prototype.$,Ba.prototype.send=Ba.prototype.ba;var Iu=jo,xu=No,Au=Eo,ku=Po,Ru=Ba,ju=n("mrSG"),Nu=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Nu.o=-1;var Du={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Pu=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(ju.c)(e,t),e}(Error),Lu=new Ai.b("@firebase/firestore");function Fu(){return Lu.logLevel}function Mu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Lu.logLevel<=Ai.a.DEBUG){var r=e.map(qu);Lu.debug.apply(Lu,Object(ju.f)(["Firestore (8.4.2): "+t],r))}}function Vu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Lu.logLevel<=Ai.a.ERROR){var r=e.map(qu);Lu.error.apply(Lu,Object(ju.f)(["Firestore (8.4.2): "+t],r))}}function Uu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Lu.logLevel<=Ai.a.WARN){var r=e.map(qu);Lu.warn.apply(Lu,Object(ju.f)(["Firestore (8.4.2): "+t],r))}}function qu(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Mb){return t}}function Bu(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.4.2) INTERNAL ASSERTION FAILED: "+t;throw Vu(e),new Error(e)}function Hu(t,e){t||Bu()}function zu(t,e){return t}function Wu(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ku=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Wu(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function $u(t,e){return t<e?-1:t>e?1:0}function Gu(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Qu(t){return t+"\0"}var Yu=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Pu(Du.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Pu(Du.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Pu(Du.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Pu(Du.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?$u(this.nanoseconds,t.nanoseconds):$u(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ju=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Yu(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Xu(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zu(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ec=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Bu(),void 0===n?n=t.length-e:n>t.length-e&&Bu(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),nc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ju.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Pu(Du.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(ec),rc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ic=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ju.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return rc.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Pu(Du.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Pu(Du.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Pu(Du.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Pu(Du.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(ec),sc=function(){function t(t){this.fields=t,t.sort(ic.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Gu(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),oc=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return $u(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();oc.EMPTY_BYTE_STRING=new oc("");var ac=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uc(t){if(Hu(!!t),"string"==typeof t){var e=0,n=ac.exec(t);if(Hu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:cc(t.seconds),nanos:cc(t.nanos)}}function cc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function lc(t){return"string"==typeof t?oc.fromBase64String(t):oc.fromUint8Array(t)}function hc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function dc(t){var e=t.mapValue.fields.__previous_value__;return hc(e)?dc(e):e}function fc(t){var e=uc(t.mapValue.fields.__local_write_time__.timestampValue);return new Yu(e.seconds,e.nanos)}function pc(t){return null==t}function mc(t){return 0===t&&1/t==-1/0}function gc(t){return"number"==typeof t&&Number.isInteger(t)&&!mc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var yc=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(nc.fromString(e))},t.fromName=function(e){return new t(nc.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===nc.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return nc.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new nc(e.slice()))},t}();function bc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hc(t)?4:10:Bu()}function vc(t,e){var n=bc(t);if(n!==bc(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fc(t).isEqual(fc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=uc(t.timestampValue),r=uc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return lc(t.bytesValue).isEqual(lc(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return cc(t.geoPointValue.latitude)===cc(e.geoPointValue.latitude)&&cc(t.geoPointValue.longitude)===cc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return cc(t.integerValue)===cc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=cc(t.doubleValue),r=cc(e.doubleValue);return n===r?mc(n)===mc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Gu(t.arrayValue.values||[],e.arrayValue.values||[],vc);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Xu(n)!==Xu(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!vc(n[i],r[i])))return!1;return!0}(t,e);default:return Bu()}}function _c(t,e){return void 0!==(t.values||[]).find(function(t){return vc(t,e)})}function wc(t,e){var n=bc(t),r=bc(e);if(n!==r)return $u(n,r);switch(n){case 0:return 0;case 1:return $u(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=cc(t.integerValue||t.doubleValue),r=cc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Sc(t.timestampValue,e.timestampValue);case 4:return Sc(fc(t),fc(e));case 5:return $u(t.stringValue,e.stringValue);case 6:return function(t,e){var n=lc(t),r=lc(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=$u(n[i],r[i]);if(0!==s)return s}return $u(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=$u(cc(t.latitude),cc(e.latitude));return 0!==n?n:$u(cc(t.longitude),cc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=wc(n[i],r[i]);if(s)return s}return $u(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=$u(r[o],s[o]);if(0!==a)return a;var u=wc(n[r[o]],i[s[o]]);if(0!==u)return u}return $u(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Bu()}}function Sc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return $u(t,e);var n=uc(t),r=uc(e),i=$u(n.seconds,r.seconds);return 0!==i?i:$u(n.nanos,r.nanos)}function Ec(t){return Oc(t)}function Oc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=uc(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?lc(t.bytesValue).toBase64():"referenceValue"in t?yc.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Oc(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+Oc(t.fields[s])}return e+"}"}(t.mapValue):Bu();var e}function Cc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Tc(t){return!!t&&"integerValue"in t}function Ic(t){return!!t&&"arrayValue"in t}function xc(t){return!!t&&"nullValue"in t}function Ac(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kc(t){return!!t&&"mapValue"in t}var Rc=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(ic.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return vc(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===bc(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,s=t.extractNestedValue(this.partialValue,e),o=kc(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var s=r.applyOverlay(e.child(n),t);null!=s&&(o[n]=s,i=!0)}else null!==t?(o[n]=t,i=!0):o.hasOwnProperty(n)&&(delete o[n],i=!0)}),i?{mapValue:{fields:o}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(ic.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!kc(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function jc(t){var e=[];return Zu(t.fields||{},function(t,n){var r=new ic([t]);if(kc(n)){var i=jc(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new sc(e)}var Nc=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Ju.min(),Rc.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Rc.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Rc.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Rc.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Rc.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Dc=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function Pc(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Dc(t,e,n,r,i,s,o)}function Lc(t){var e=zu(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Ec(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),pc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Qc(e.startAt)),e.endAt&&(n+="|ub:",n+=Qc(e.endAt)),e.h=n}return e.h}function Fc(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Jc(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!vc(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zc(t.startAt,e.startAt)&&Zc(t.endAt,e.endAt)}function Mc(t){return yc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Vc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(ju.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Uc(t,n,r):"array-contains"===n?new zc(t,r):"in"===n?new Wc(t,r):"not-in"===n?new Kc(t,r):"array-contains-any"===n?new $c(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new qc(t,n):new Bc(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(wc(e,this.value)):null!==e&&bc(this.value)===bc(e)&&this.m(wc(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Bu()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Uc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=yc.fromName(r.referenceValue),i}return Object(ju.c)(e,t),e.prototype.matches=function(t){var e=yc.comparator(t.key,this.key);return this.m(e)},e}(Vc),qc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Hc(0,n),r}return Object(ju.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Vc),Bc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Hc(0,n),r}return Object(ju.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Vc);function Hc(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return yc.fromName(t.referenceValue)})}var zc=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(ju.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Ic(e)&&_c(e.arrayValue,this.value)},e}(Vc),Wc=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(ju.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&_c(this.value.arrayValue,e)},e}(Vc),Kc=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(ju.c)(e,t),e.prototype.matches=function(t){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!_c(this.value.arrayValue,e)},e}(Vc),$c=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(ju.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Ic(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return _c(e.value.arrayValue,t)})},e}(Vc),Gc=function(t,e){this.position=t,this.before=e};function Qc(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Ec(t)}).join(",")}var Yc=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Jc(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Xc(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?yc.comparator(yc.fromName(o.referenceValue),n.key):wc(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Zc(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!vc(t.position[n],e.position[n]))return!1;return!0}var tl=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function el(t,e,n,r,i,s,o,a){return new tl(t,e,n,r,i,s,o,a)}function nl(t){return new tl(t)}function rl(t){return!pc(t.limit)&&"F"===t.limitType}function il(t){return!pc(t.limit)&&"L"===t.limitType}function sl(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ol(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function al(t){return null!==t.collectionGroup}function ul(t){var e=zu(t);if(null===e.p){e.p=[];var n=ol(e),r=sl(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Yc(n)),e.p.push(new Yc(ic.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Yc(ic.keyField(),u))}}}return e.p}function cl(t){var e=zu(t);if(!e.T)if("F"===e.limitType)e.T=Pc(e.path,e.collectionGroup,ul(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=ul(e);r<i.length;r++){var s=i[r];n.push(new Yc(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Gc(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Gc(e.startAt.position,!e.startAt.before):null;e.T=Pc(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function ll(t,e,n){return new tl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hl(t,e){return Fc(cl(t),cl(e))&&t.limitType===e.limitType}function dl(t){return Lc(cl(t))+"|lt:"+t.limitType}function fl(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Ec(e.value);var e}).join(", ")+"]"),pc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Qc(t.startAt)),t.endAt&&(e+=", endAt: "+Qc(t.endAt)),"Target("+e+")"}(cl(t))+"; limitType="+t.limitType+")"}function pl(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):yc.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Xc(t.startAt,ul(t),e)||t.endAt&&Xc(t.endAt,ul(t),e))}(t,e)}function ml(t){return function(e,n){for(var r=!1,i=0,s=ul(t);i<s.length;i++){var o=s[i],a=gl(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function gl(t,e,n){var r=t.field.isKeyField()?yc.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?wc(r,i):Bu()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Bu()}}function yl(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mc(e)?"-0":e}}function bl(t){return{integerValue:""+t}}function vl(t,e){return gc(e)?bl(e):yl(t,e)}var _l=function(){this._=void 0};function wl(t,e,n){return t instanceof Ol?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Cl?Tl(t,e):t instanceof Il?xl(t,e):function(t,e){var n=El(t,e),r=kl(n)+kl(t.A);return Tc(n)&&Tc(t.A)?bl(r):yl(t.R,r)}(t,e)}function Sl(t,e,n){return t instanceof Cl?Tl(t,e):t instanceof Il?xl(t,e):n}function El(t,e){return t instanceof Al?Tc(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ol=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ju.c)(e,t),e}(_l),Cl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ju.c)(e,t),e}(_l);function Tl(t,e){for(var n=Rl(e),r=function(t){n.some(function(e){return vc(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Il=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ju.c)(e,t),e}(_l);function xl(t,e){for(var n=Rl(e),r=function(t){n=n.filter(function(e){return!vc(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Al=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(ju.c)(e,t),e}(_l);function kl(t){return cc(t.integerValue||t.doubleValue)}function Rl(t){return Ic(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var jl=function(t,e){this.field=t,this.transform=e},Nl=function(t,e){this.version=t,this.transformResults=e},Dl=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Pl(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Ll=function(){};function Fl(t,e,n){t instanceof Bl?function(t,e,n){var r=t.value.clone(),i=Wl(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Hl?function(t,e,n){if(Pl(t.precondition,e)){var r=Wl(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(zl(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Ml(t,e,n){t instanceof Bl?function(t,e,n){if(Pl(t.precondition,e)){var r=t.value.clone(),i=Kl(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(ql(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Hl?function(t,e,n){if(Pl(t.precondition,e)){var r=Kl(t.fieldTransforms,n,e),i=e.data;i.setAll(zl(t)),i.setAll(r),e.convertToFoundDocument(ql(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Pl(t.precondition,e)&&e.convertToNoDocument(Ju.min())}(t,e)}function Vl(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e.data.field(s.field),a=El(s.transform,o||null);null!=a&&(null==n&&(n=Rc.empty()),n.set(s.field,a))}return n||null}function Ul(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Gu(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Cl&&e instanceof Cl||t instanceof Il&&e instanceof Il?Gu(t.elements,e.elements,vc):t instanceof Al&&e instanceof Al?vc(t.A,e.A):t instanceof Ol&&e instanceof Ol}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function ql(t){return t.isFoundDocument()?t.version:Ju.min()}var Bl=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return Object(ju.c)(e,t),e}(Ll),Hl=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return Object(ju.c)(e,t),e}(Ll);function zl(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Wl(t,e,n){var r=new Map;Hu(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Sl(o,a,n[i]))}return r}function Kl(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,u=n.data.field(o.field);r.set(o.field,wl(a,u,e))}return r}var $l,Gl,Ql=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(ju.c)(e,t),e}(Ll),Yl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(ju.c)(e,t),e}(Ll),Jl=function(t){this.count=t};function Xl(t){switch(t){case Du.OK:return Bu();case Du.CANCELLED:case Du.UNKNOWN:case Du.DEADLINE_EXCEEDED:case Du.RESOURCE_EXHAUSTED:case Du.INTERNAL:case Du.UNAVAILABLE:case Du.UNAUTHENTICATED:return!1;case Du.INVALID_ARGUMENT:case Du.NOT_FOUND:case Du.ALREADY_EXISTS:case Du.PERMISSION_DENIED:case Du.FAILED_PRECONDITION:case Du.ABORTED:case Du.OUT_OF_RANGE:case Du.UNIMPLEMENTED:case Du.DATA_LOSS:return!0;default:return Bu()}}function Zl(t){if(void 0===t)return Vu("GRPC error has no .code"),Du.UNKNOWN;switch(t){case $l.OK:return Du.OK;case $l.CANCELLED:return Du.CANCELLED;case $l.UNKNOWN:return Du.UNKNOWN;case $l.DEADLINE_EXCEEDED:return Du.DEADLINE_EXCEEDED;case $l.RESOURCE_EXHAUSTED:return Du.RESOURCE_EXHAUSTED;case $l.INTERNAL:return Du.INTERNAL;case $l.UNAVAILABLE:return Du.UNAVAILABLE;case $l.UNAUTHENTICATED:return Du.UNAUTHENTICATED;case $l.INVALID_ARGUMENT:return Du.INVALID_ARGUMENT;case $l.NOT_FOUND:return Du.NOT_FOUND;case $l.ALREADY_EXISTS:return Du.ALREADY_EXISTS;case $l.PERMISSION_DENIED:return Du.PERMISSION_DENIED;case $l.FAILED_PRECONDITION:return Du.FAILED_PRECONDITION;case $l.ABORTED:return Du.ABORTED;case $l.OUT_OF_RANGE:return Du.OUT_OF_RANGE;case $l.UNIMPLEMENTED:return Du.UNIMPLEMENTED;case $l.DATA_LOSS:return Du.DATA_LOSS;default:return Bu()}}(Gl=$l||($l={}))[Gl.OK=0]="OK",Gl[Gl.CANCELLED=1]="CANCELLED",Gl[Gl.UNKNOWN=2]="UNKNOWN",Gl[Gl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gl[Gl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gl[Gl.NOT_FOUND=5]="NOT_FOUND",Gl[Gl.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gl[Gl.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gl[Gl.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gl[Gl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gl[Gl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gl[Gl.ABORTED=10]="ABORTED",Gl[Gl.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gl[Gl.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gl[Gl.INTERNAL=13]="INTERNAL",Gl[Gl.UNAVAILABLE=14]="UNAVAILABLE",Gl[Gl.DATA_LOSS=15]="DATA_LOSS";var th=function(){function t(t,e){this.comparator=t,this.root=e||nh.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nh.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nh.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new eh(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new eh(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new eh(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new eh(this.root,t,this.comparator,!0)},t}(),eh=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),nh=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Bu();if(this.right.isRed())throw Bu();var t=this.left.check();if(t!==this.right.check())throw Bu();return t+(this.isRed()?0:1)},t}();nh.EMPTY=null,nh.RED=!0,nh.BLACK=!1,nh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Bu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Bu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Bu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Bu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Bu()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new nh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var rh=function(){function t(t){this.comparator=t,this.data=new th(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new ih(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new ih(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),ih=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),sh=new th(yc.comparator);function oh(){return sh}var ah=new th(yc.comparator);function uh(){return ah}var ch=new th(yc.comparator);function lh(){return ch}var hh=new rh(yc.comparator);function dh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=hh,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var fh=new rh($u);function ph(){return fh}var mh=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,gh.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Ju.min(),r,ph(),oh(),dh())},t}(),gh=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(oc.EMPTY_BYTE_STRING,n,dh(),dh(),dh())},t}(),yh=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},bh=function(t,e){this.targetId=t,this.V=e},vh=function(t,e,n,r){void 0===n&&(n=oc.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},_h=function(){function t(){this.S=0,this.D=Eh(),this.C=oc.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=dh(),e=dh(),n=dh();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Bu()}}),new gh(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Eh()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),wh=function(){function t(t){this.W=t,this.G=new Map,this.H=oh(),this.J=Sh(),this.Y=new rh($u)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.tt(r=s[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:Bu()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Mc(i))if(0===n){var s=new yc(i.path);this.tt(e,s,Nc.newNoDocument(s,Ju.min()))}else Hu(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var s=e.ot(i);if(s){if(r.current&&Mc(s.target)){var o=new yc(s.target.path);null!==e.H.get(o)||e.at(i,o)||e.tt(i,o,Nc.newNoDocument(o,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=dh();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new mh(t,n,this.Y,this.H,r);return this.H=oh(),this.J=Sh(),this.Y=new rh($u),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new _h,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new rh($u),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Mu("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new _h),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Sh(){return new th(yc.comparator)}function Eh(){return new th(yc.comparator)}var Oh={asc:"ASCENDING",desc:"DESCENDING"},Ch={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Th=function(t,e){this.databaseId=t,this.I=e};function Ih(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function xh(t,e){return t.I?e.toBase64():e.toUint8Array()}function Ah(t,e){return Ih(t,e.toTimestamp())}function kh(t){return Hu(!!t),Ju.fromTimestamp(function(t){var e=uc(t);return new Yu(e.seconds,e.nanos)}(t))}function Rh(t,e){return function(t){return new nc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function jh(t){var e=nc.fromString(t);return Hu(nd(e)),e}function Nh(t,e){return Rh(t.databaseId,e.path)}function Dh(t,e){var n=jh(e);if(n.get(1)!==t.databaseId.projectId)throw new Pu(Du.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pu(Du.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new yc(Mh(n))}function Ph(t,e){return Rh(t.databaseId,e)}function Lh(t){var e=jh(t);return 4===e.length?nc.emptyPath():Mh(e)}function Fh(t){return new nc(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Mh(t){return Hu(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Vh(t,e,n){return{name:Nh(t,e),fields:n.toProto().mapValue.fields}}function Uh(t,e,n){var r=Dh(t,e.name),i=kh(e.updateTime),s=new Rc({mapValue:{fields:e.fields}}),o=Nc.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function qh(t,e){var n;if(e instanceof Bl)n={update:Vh(t,e.key,e.value)};else if(e instanceof Ql)n={delete:Nh(t,e.key)};else if(e instanceof Hl)n={update:Vh(t,e.key,e.data),updateMask:ed(e.fieldMask)};else{if(!(e instanceof Yl))return Bu();n={verify:Nh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Ol)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Cl)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Il)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Al)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Bu()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ah(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Bu()}(t,e.precondition)),n}function Bh(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Dl.updateTime(kh(t.updateTime)):void 0!==t.exists?Dl.exists(t.exists):Dl.none()}(e.currentDocument):Dl.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Hu("REQUEST_TIME"===e.setToServerValue),n=new Ol):"appendMissingElements"in e?n=new Cl(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Il(e.removeAllFromArray.values||[]):"increment"in e?n=new Al(t,e.increment):Bu();var r=ic.fromServerFormat(e.fieldPath);return new jl(r,n)}(t,e)}):[];if(e.update){var i=Dh(t,e.update.name),s=new Rc({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new sc((t.fieldPaths||[]).map(function(t){return ic.fromServerFormat(t)}))}(e.updateMask);return new Hl(i,s,o,n,r)}return new Bl(i,s,n,r)}if(e.delete){var a=Dh(t,e.delete);return new Ql(a,n)}if(e.verify){var u=Dh(t,e.verify);return new Yl(u,n)}return Bu()}function Hh(t,e){return{documents:[Ph(t,e.path)]}}function zh(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ph(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ph(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Ac(t.value))return{unaryFilter:{field:Jh(t.field),op:"IS_NAN"}};if(xc(t.value))return{unaryFilter:{field:Jh(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ac(t.value))return{unaryFilter:{field:Jh(t.field),op:"IS_NOT_NAN"}};if(xc(t.value))return{unaryFilter:{field:Jh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jh(t.field),op:Yh(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Jh(t.field),direction:Qh(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||pc(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=$h(e.startAt)),e.endAt&&(n.structuredQuery.endAt=$h(e.endAt)),n}function Wh(t){var e=Lh(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Hu(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=Kh(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Yc(Xh(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return pc(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Gh(n.startAt));var l=null;return n.endAt&&(l=Gh(n.endAt)),el(e,i,a,o,u,"F",c,l)}function Kh(t){return t?void 0!==t.unaryFilter?[td(t)]:void 0!==t.fieldFilter?[Zh(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Kh(t)}).reduce(function(t,e){return t.concat(e)}):Bu():[]}function $h(t){return{before:t.before,values:t.position}}function Gh(t){return new Gc(t.values||[],!!t.before)}function Qh(t){return Oh[t]}function Yh(t){return Ch[t]}function Jh(t){return{fieldPath:t.canonicalString()}}function Xh(t){return ic.fromServerFormat(t.fieldPath)}function Zh(t){return Vc.create(Xh(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Bu()}}(t.fieldFilter.op),t.fieldFilter.value)}function td(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Xh(t.unaryFilter.field);return Vc.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Xh(t.unaryFilter.field);return Vc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Xh(t.unaryFilter.field);return Vc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Xh(t.unaryFilter.field);return Vc.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Bu()}}function ed(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function nd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function rd(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=sd(e)),e=id(t.get(n),e);return sd(e)}function id(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function sd(t){return t+"\x01\x01"}function od(t){var e=t.length;if(Hu(e>=2),2===e)return Hu("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),nc.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Bu(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Bu()}s=o+2}return new nc(r)}var ad=function(t,e){this.seconds=t,this.nanoseconds=e},ud=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};ud.store="owner",ud.key="owner";var cd=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};cd.store="mutationQueues",cd.keyPath="userId";var ld=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ld.store="mutations",ld.keyPath="batchId",ld.userMutationsIndex="userMutationsIndex",ld.userMutationsKeyPath=["userId","batchId"];var hd=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,rd(e)]},t.key=function(t,e,n){return[t,rd(e),n]},t}();hd.store="documentMutations",hd.PLACEHOLDER=new hd;var dd=function(t,e){this.path=t,this.readTime=e},fd=function(t,e){this.path=t,this.version=e},pd=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};pd.store="remoteDocuments",pd.readTimeIndex="readTimeIndex",pd.readTimeIndexPath="readTime",pd.collectionReadTimeIndex="collectionReadTimeIndex",pd.collectionReadTimeIndexPath=["parentPath","readTime"];var md=function(t){this.byteSize=t};md.store="remoteDocumentGlobal",md.key="remoteDocumentGlobalKey";var gd=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};gd.store="targets",gd.keyPath="targetId",gd.queryTargetsIndexName="queryTargetsIndex",gd.queryTargetsKeyPath=["canonicalId","targetId"];var yd=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};yd.store="targetDocuments",yd.keyPath=["targetId","path"],yd.documentTargetsIndex="documentTargetsIndex",yd.documentTargetsKeyPath=["path","targetId"];var bd=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};bd.key="targetGlobalKey",bd.store="targetGlobal";var vd=function(t,e){this.collectionId=t,this.parent=e};vd.store="collectionParents",vd.keyPath=["collectionId","parent"];var _d=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};_d.store="clientMetadata",_d.keyPath="clientId";var wd=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};wd.store="bundles",wd.keyPath="bundleId";var Sd=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Sd.store="namedQueries",Sd.keyPath="name";var Ed=Object(ju.f)(Object(ju.f)([],Object(ju.f)(Object(ju.f)([],Object(ju.f)(Object(ju.f)([],Object(ju.f)(Object(ju.f)([],[cd.store,ld.store,hd.store,pd.store,gd.store,ud.store,bd.store,yd.store]),[_d.store])),[md.store])),[vd.store])),[wd.store,Sd.store]),Od="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Cd=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Td=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Id=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Bu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),xd=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Td,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Rd(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Ld(e.target.error);n.ft.reject(new Rd(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Rd(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Mu("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Nd(e)},t}(),Ad=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(xi.h)())&&Vu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Mu("SimpleDb","Removing database:",t),Dd(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(xi.h)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(ju.b)(this,void 0,void 0,function(){var e,n=this;return Object(ju.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Mu("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Rd(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Pu(Du.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Rd(t,n))},i.onupgradeneeded=function(t){Mu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Mu("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(ju.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object(ju.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(ju.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=xd.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),Id.reject(t)}).toPromise(),u={},o.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return Mu("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),kd=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Dd(this.Pt.delete())},t}(),Rd=function(t){function e(e,n){var r=this;return(r=t.call(this,Du.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(ju.c)(e,t),e}(Pu);function jd(t){return"IndexedDbTransactionError"===t.name}var Nd=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Mu("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Mu("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Dd(n)},t.prototype.add=function(t){return Mu("SimpleDb","ADD",this.store.name,t,t),Dd(this.store.add(t))},t.prototype.get=function(t){var e=this;return Dd(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Mu("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Mu("SimpleDb","DELETE",this.store.name,t),Dd(this.store.delete(t))},t.prototype.count=function(){return Mu("SimpleDb","COUNT",this.store.name),Dd(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){Mu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new Id(function(n,r){e.onerror=function(t){var e=Ld(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Id(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new kd(i),o=e(i.primaryKey,i.value,s);if(o instanceof Id){var a=o.catch(function(t){return s.done(),Id.reject(t)});n.push(a)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}else r()}}).next(function(){return Id.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Dd(t){return new Id(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Ld(t.target.error);n(e)}})}var Pd=!1;function Ld(t){var e=Ad._t(Object(xi.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Pu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Pd||(Pd=!0,setTimeout(function(){throw r},0)),r}}return t}var Fd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(ju.c)(e,t),e}(Cd);function Md(t,e){var n=zu(t);return Ad.It(n.Mt,e)}var Vd=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Fl(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&Ml(s,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var s;(s=i[r]).key.isEqual(t.key)&&Ml(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ju.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},dh())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Gu(this.mutations,t.mutations,function(t,e){return Ul(t,e)})&&Gu(this.baseMutations,t.baseMutations,function(t,e){return Ul(t,e)})},t}(),Ud=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Hu(e.mutations.length===r.length);for(var i=lh(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),qd=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Ju.min()),void 0===s&&(s=Ju.min()),void 0===o&&(o=oc.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Bd=function(t){this.Lt=t};function Hd(t,e){if(e.document)return Uh(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=yc.fromSegments(e.noDocument.path),r=Gd(e.noDocument.readTime),i=Nc.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=yc.fromSegments(e.unknownDocument.path);return r=Gd(e.unknownDocument.version),Nc.newUnknownDocument(s,r)}return Bu()}function zd(t,e,n){var r=Wd(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:Nh(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:Ih(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new pd(null,null,s,o,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=$d(e.version);return o=e.hasCommittedMutations,new pd(null,new dd(a,u),null,o,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=$d(e.version);return new pd(new fd(c,l),null,null,!0,r,i)}return Bu()}function Wd(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Kd(t){var e=new Yu(t[0],t[1]);return Ju.fromTimestamp(e)}function $d(t){var e=t.toTimestamp();return new ad(e.seconds,e.nanoseconds)}function Gd(t){var e=new Yu(t.seconds,t.nanoseconds);return Ju.fromTimestamp(e)}function Qd(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Bh(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Bh(t.Lt,e)}),s=Yu.fromMillis(e.localWriteTimeMs);return new Vd(e.batchId,s,n,i)}function Yd(t){var e,n,r=Gd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Gd(t.lastLimboFreeSnapshotVersion):Ju.min();return void 0!==t.query.documents?(Hu(1===(n=t.query).documents.length),e=cl(nl(Lh(n.documents[0])))):e=function(t){return cl(Wh(t))}(t.query),new qd(e,t.targetId,0,t.lastListenSequenceNumber,r,i,oc.fromBase64String(t.resumeToken))}function Jd(t,e){var n,r=$d(e.snapshotVersion),i=$d(e.lastLimboFreeSnapshotVersion);n=Mc(e.target)?Hh(t.Lt,e.target):zh(t.Lt,e.target);var s=e.resumeToken.toBase64();return new gd(e.targetId,Lc(e.target),r,s,e.sequenceNumber,i,n)}function Xd(t){var e=Wh({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ll(e,e.limit,"L"):e}var Zd=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return tf(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Gd(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return tf(t).put({bundleId:(n=e).id,createTime:$d(kh(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return ef(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Xd(e.bundledQuery),readTime:Gd(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return ef(t).put(function(t){return{name:t.name,readTime:$d(kh(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function tf(t){return Md(t,wd.store)}function ef(t){return Md(t,Sd.store)}var nf=function(){function t(){this.Bt=new rf}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Id.resolve()},t.prototype.getCollectionParents=function(t,e){return Id.resolve(this.Bt.getEntries(e))},t}(),rf=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new rh(nc.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new rh(nc.comparator)).toArray()},t}(),sf=function(){function t(){this.qt=new rf}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var s={collectionId:r,parent:rd(i)};return of(t).put(s)}return Id.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Qu(e),""],!1,!0);return of(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(od(s.parent))}return n})},t}();function of(t){return Md(t,vd.store)}var af={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uf=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function cf(t,e,n){var r=t.store(ld.store),i=t.store(hd.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.Ot({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){Hu(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=hd.key(e,d.key.path,n.batchId);s.push(i.delete(f)),c.push(d.key)}return Id.waitFor(s).next(function(){return c})}function lf(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Bu();e=t.noDocument}return JSON.stringify(e).length}uf.DEFAULT_COLLECTION_PERCENTILE=10,uf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,uf.DEFAULT=new uf(41943040,uf.DEFAULT_COLLECTION_PERCENTILE,uf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),uf.DISABLED=new uf(-1,0,0);var hf=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Hu(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ff(t).Ot({index:ld.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=pf(t),o=ff(t);return o.add({}).next(function(a){Hu("number"==typeof a);for(var u=new Vd(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return qh(t.Lt,e)}),i=n.mutations.map(function(e){return qh(t.Lt,e)});return new ld(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new rh(function(t,e){return $u(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],m=hd.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(o.put(c)),l.push(s.put(m,hd.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),Id.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return ff(t).get(e).next(function(t){return t?(Hu(t.userId===n.userId),Qd(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Id.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return ff(t).Ot({index:ld.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Hu(e.batchId>=r),s=Qd(n.R,e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ff(t).Ot({index:ld.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ff(t).Nt(ld.userMutationsIndex,n).next(function(t){return t.map(function(t){return Qd(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=hd.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return pf(t).Ot({range:i},function(r,i,o){var a=r[0],u=r[2],c=od(r[1]);if(a===n.userId&&e.path.isEqual(c))return ff(t).get(u).next(function(t){if(!t)throw Bu();Hu(t.userId===n.userId),s.push(Qd(n.R,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new rh($u),i=[];return e.forEach(function(e){var s=hd.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=pf(t).Ot({range:o},function(t,i,s){var o=t[0],a=t[2],u=od(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),Id.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=hd.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new rh($u);return pf(t).Ot({range:o},function(t,e,s){var o=t[0],u=t[2],c=od(t[1]);o===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(ff(t).get(e).next(function(t){if(null===t)throw Bu();Hu(t.userId===n.userId),r.push(Qd(n.R,t))}))}),Id.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return cf(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Id.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Id.resolve();var r=IDBKeyRange.lowerBound(hd.prefixForUser(e.userId)),i=[];return pf(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var s=od(t[1]);i.push(s)}else r.done()}).next(function(){Hu(0===i.length)})})},t.prototype.containsKey=function(t,e){return df(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return mf(t).get(this.userId).next(function(t){return t||new cd(e.userId,-1,"")})},t}();function df(t,e,n){var r=hd.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return pf(t).Ot({range:s,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function ff(t){return Md(t,ld.store)}function pf(t){return Md(t,hd.store)}function mf(t){return Md(t,cd.store)}var gf=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),yf=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new gf(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Ju.fromTimestamp(new Yu(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return bf(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Hu(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return bf(t).Ot(function(o,a){var u=Yd(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.removeTargetData(t,u)))}).next(function(){return Id.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return bf(t).Ot(function(t,n){var r=Yd(n);e(r)})},t.prototype.Xt=function(t){return vf(t).get(bd.key).next(function(t){return Hu(null!==t),t})},t.prototype.Zt=function(t,e){return vf(t).put(bd.key,e)},t.prototype.te=function(t,e){return bf(t).put(Jd(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Lc(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return bf(t).Ot({range:r,index:gd.queryTargetsIndexName},function(t,n,r){var s=Yd(n);Fc(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=_f(t);return e.forEach(function(e){var o=rd(e.path);i.push(s.put(new yd(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))}),Id.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=_f(t);return Id.forEach(e,function(e){var s=rd(e.path);return Id.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=_f(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=_f(t),i=dh();return r.Ot({range:n,kt:!0},function(t,e,n){var r=od(t[1]),s=new yc(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=rd(e.path),r=IDBKeyRange.bound([n],[Qu(n)],!1,!0),i=0;return _f(t).Ot({index:yd.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return bf(t).get(e).next(function(t){return t?Yd(t):null})},t}();function bf(t){return Md(t,gd.store)}function vf(t){return Md(t,bd.store)}function _f(t){return Md(t,yd.store)}function wf(t){return Object(ju.b)(this,void 0,void 0,function(){return Object(ju.d)(this,function(e){if(t.code!==Du.FAILED_PRECONDITION||t.message!==Od)throw t;return Mu("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Sf(t,e){var n=t[1],r=e[1],i=$u(t[0],e[0]);return 0===i?$u(n,r):i}var Ef=function(){function t(t){this.ne=t,this.buffer=new rh(Sf),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Sf(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Of=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Mu("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(ju.b)(e,void 0,void 0,function(){var e;return Object(ju.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return jd(e=n.sent())?(Mu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,wf(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Cf=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Id.resolve(Nu.o);var r=new Ef(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Mu("LruGarbageCollector","Garbage collection skipped; disabled"),Id.resolve(af)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Mu("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),af):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Mu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Fu()<=Ai.a.DEBUG&&Mu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Id.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Tf=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Cf(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return If(t,n)},t.prototype.removeReference=function(t,e,n){return If(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return If(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return mf(t).$t(function(r){return df(t,r,e).next(function(t){return t&&(n=!0),Id.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.we(t,function(o,a){if(a<=e){var u=n._e(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),_f(t).delete([0,rd(o.path)])})});i.push(u)}}).next(function(){return Id.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return If(t,e)},t.prototype.we=function(t,e){var n,r=_f(t),i=Nu.o;return r.Ot({index:yd.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Nu.o&&e(new yc(od(n)),i),i=o,n=s):i=Nu.o}).next(function(){i!==Nu.o&&e(new yc(od(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function If(t,e){return _f(t).put(function(t,e){return new yd(0,rd(t.path),e)}(e,t.currentSequenceNumber))}var xf=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Zu(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return tc(this.inner)},t}(),Af=function(){function t(){this.changes=new xf(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Ju.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Nc.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Id.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),kf=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Nf(t).put(Df(e),n)},t.prototype.removeEntry=function(t,e){var n=Nf(t),r=Df(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Nf(t).get(Df(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Nf(t).get(Df(e)).next(function(t){return{document:n.ye(e,t),size:lf(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=oh();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=oh(),i=new th(yc.comparator);return this.pe(t,e,function(t,e){var s=n.ye(t,e);r=r.insert(t,s),i=i.insert(t,lf(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Id.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return Nf(t).Ot({range:r},function(t,e,r){for(var o=yc.fromSegments(t);s&&yc.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=oh(),s=e.path.length+1,o={};if(n.isEqual(Ju.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Wd(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=pd.collectionReadTimeIndex}return Nf(t).Ot(o,function(t,n,o){if(t.length===s){var a=Hd(r.R,n);e.path.isPrefixOf(a.key.path)?pl(e,a)&&(i=i.insert(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Rf(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return jf(t).get(md.key).next(function(t){return Hu(!!t),t})},t.prototype.me=function(t,e){return jf(t).put(md.key,e)},t.prototype.ye=function(t,e){if(e){var n=Hd(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Ju.min()))return n}return Nc.newInvalidDocument(t)},t}(),Rf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new xf(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(ju.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new rh(function(t,e){return $u(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var u=zd(e.Ie.R,o.document,e.getReadTime(s));i=i.add(s.path.popLast());var c=lf(u);r+=c-a,n.push(e.Ie.addEntry(t,s,u))}else if(r-=a,e.trackRemovals){var l=zd(e.Ie.R,Nc.newNoDocument(s,Ju.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,l))}else n.push(e.Ie.removeEntry(t,s))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Id.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Af);function jf(t){return Md(t,md.store)}function Nf(t){return Md(t,pd.store)}function Df(t){return t.path.toArray()}var Pf=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Hu(n<r&&n>=0&&r<=11);var s=new xd("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(ud.store)}(t),function(t){t.createObjectStore(cd.store,{keyPath:cd.keyPath}),t.createObjectStore(ld.store,{keyPath:ld.keyPath,autoIncrement:!0}).createIndex(ld.userMutationsIndex,ld.userMutationsKeyPath,{unique:!0}),t.createObjectStore(hd.store)}(t),Lf(t),function(t){t.createObjectStore(pd.store)}(t));var o=Id.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(yd.store),t.deleteObjectStore(gd.store),t.deleteObjectStore(bd.store)}(t),Lf(t)),o=o.next(function(){return function(t){var e=t.store(bd.store),n=new bd(0,0,Ju.min().toTimestamp(),0);return e.put(bd.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(ld.store).Nt().next(function(n){t.deleteObjectStore(ld.store),t.createObjectStore(ld.store,{keyPath:ld.keyPath,autoIncrement:!0}).createIndex(ld.userMutationsIndex,ld.userMutationsKeyPath,{unique:!0});var r=e.store(ld.store),i=n.map(function(t){return r.put(t)});return Id.waitFor(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(_d.store,{keyPath:_d.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Re(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(md.store)}(t),i.be(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ve(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Pe(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(pd.store);e.createIndex(pd.readTimeIndex,pd.readTimeIndexPath,{unique:!1}),e.createIndex(pd.collectionReadTimeIndex,pd.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Ve(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(wd.store,{keyPath:wd.keyPath})}(t),function(t){t.createObjectStore(Sd.store,{keyPath:Sd.keyPath})}(t)})),o},t.prototype.be=function(t){var e=0;return t.store(pd.store).Ot(function(t,n){e+=lf(n)}).next(function(){var n=new md(e);return t.store(md.store).put(md.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(cd.store),r=t.store(ld.store);return n.Nt().next(function(n){return Id.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(ld.userMutationsIndex,i).next(function(r){return Id.forEach(r,function(r){Hu(r.userId===n.userId);var i=Qd(e.R,r);return cf(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(yd.store),n=t.store(pd.store);return t.store(bd.store).get(bd.key).next(function(t){var r=[];return n.Ot(function(n,i){var s=new nc(n),o=function(t){return[0,rd(t)]}(s);r.push(e.get(o).next(function(n){return n?Id.resolve():function(n){return e.put(new yd(0,rd(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return Id.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(vd.store,{keyPath:vd.keyPath});var n=e.store(vd.store),r=new rf,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:rd(i)})}};return e.store(pd.store).Ot({kt:!0},function(t,e){var n=new nc(t);return i(n.popLast())}).next(function(){return e.store(hd.store).Ot({kt:!0},function(t,e){var n=od(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(gd.store);return n.Ot(function(t,r){var i=Yd(r),s=Jd(e.R,i);return n.put(s)})},t}();function Lf(t){t.createObjectStore(yd.store,{keyPath:yd.keyPath}).createIndex(yd.documentTargetsIndex,yd.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(gd.store,{keyPath:gd.keyPath}).createIndex(gd.queryTargetsIndexName,gd.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(bd.store)}var Ff="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Mf=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=o,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Pu(Du.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Tf(this,i),this.Le=n+"main",this.R=new Bd(u),this.Be=new Ad(this.Le,11,new Pf(this.R)),this.qe=new yf(this.referenceDelegate,this.R),this.Ut=new sf,this.Ue=function(t,e){return new kf(t,e)}(this.R,this.Ut),this.Qe=new Zd,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Vu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Pu(Du.FAILED_PRECONDITION,Ff);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Nu(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(ju.b)(e,void 0,void 0,function(){return Object(ju.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(ju.b)(e,void 0,void 0,function(){return Object(ju.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(ju.b)(e,void 0,void 0,function(){return Object(ju.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Uf(e).put(new _d(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(jd(e))return Mu("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Mu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Vf(t).get(ud.key).next(function(t){return Id.resolve(e.tn(t))})},t.prototype.en=function(t){return Uf(t).delete(this.clientId)},t.prototype.nn=function(){return Object(ju.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(ju.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Md(t,_d.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Id.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Id.resolve(!0):Vf(t).get(ud.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Pu(Du.FAILED_PRECONDITION,Ff);return!1}}return!(!e.networkEnabled||!e.inForeground)||Uf(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Mu("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(ju.b)(this,void 0,void 0,function(){var t=this;return Object(ju.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ud.store,_d.store],function(e){var n=new Fd(e,Nu.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Uf(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return hf.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Mu("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Ed,function(s){return r=new Fd(s,i.Ne?i.Ne.next():Nu.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Vu("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Pu(Du.FAILED_PRECONDITION,Od);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Vf(t).get(ud.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Pu(Du.FAILED_PRECONDITION,Ff)})},t.prototype.Ze=function(t){var e=new ud(this.clientId,this.allowTabSynchronization,Date.now());return Vf(t).put(ud.key,e)},t.yt=function(){return Ad.yt()},t.prototype.Xe=function(t){var e=this,n=Vf(t);return n.get(ud.key).next(function(t){return e.tn(t)?(Mu("IndexedDbPersistence","Releasing primary lease."),n.delete(ud.key)):Id.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Vu("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Mu("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Vu("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Vu("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Vf(t){return Md(t,ud.store)}function Uf(t){return Md(t,_d.store)}function qf(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Bf=function(t,e){this.progress=t,this.wn=e},Hf=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return yc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):al(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new yc(e)).next(function(t){var e=uh();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,s=uh();return this.Ut.getCollectionParents(t,i).next(function(o){return Id.forEach(o,function(o){var a=function(t,e){return new tl(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.An=function(t,e,n){var r,i,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,s._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c);null==l&&(l=Nc.newInvalidDocument(c),r=r.insert(c,l)),Ml(u,l,s.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){pl(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=dh(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof Hl&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),zf=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=dh(),i=dh(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Wf=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Ju.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(s){var o=i.Cn(e,s);return(rl(e)||il(e))&&i.Nn(e.limitType,o,r,n)?i.Dn(t,e):(Fu()<=Ai.a.DEBUG&&Mu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),fl(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new rh(ml(t));return e.forEach(function(e,r){pl(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Fu()<=Ai.a.DEBUG&&Mu("QueryEngine","Using full collection scan to execute query:",fl(e)),this.Sn.getDocumentsMatchingQuery(t,e,Ju.min())},t}(),Kf=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new th($u),this.kn=new xf(function(t){return Lc(t)},Fc),this.On=Ju.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Hf(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function $f(t,e,n,r){return new Kf(t,e,n,r)}function Gf(t,e){return Object(ju.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(ju.d)(this,function(o){switch(o.label){case 0:return n=zu(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n._n.getAllMutationBatches(t).next(function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new Hf(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=dh(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i.pn(t,o).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=o.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function Qf(t,e){var n=zu(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Id.resolve();return s.forEach(function(t){o=o.next(function(){return r.getEntry(e,t)}).next(function(e){var s=n.docVersions.get(t);Hu(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function Yf(t){var e=zu(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Jf(t,e){var n=zu(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var o=[];e.targetChanges.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,c),function(t,e,n){return Hu(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&o.push(n.qe.updateTargetData(t,c))}}});var a=oh();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(Xf(t,s,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(Ju.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});o.push(u)}return Id.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function Xf(t,e,n,r,i){var s=dh();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=oh();return n.forEach(function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Ju.min())?(e.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,u),s=s.insert(n,o)):Mu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function Zf(t,e){var n=zu(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function tp(t,e){var n=zu(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Id.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new qd(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function ep(t,e,n){return Object(ju.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(ju.d)(this,function(a){switch(a.label){case 0:r=zu(t),i=r.Fn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!jd(o=a.sent()))throw o;return Mu("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function np(t,e,n){var r=zu(t),i=Ju.min(),s=dh();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=zu(t),i=r.kn.get(n);return void 0!==i?Id.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,cl(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Ju.min(),n?s:dh())}).next(function(t){return{documents:t,Bn:s}})})}function rp(t,e){var n=zu(t),r=zu(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function ip(t){var e=zu(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=zu(t),i=oh(),s=Wd(n),o=Nf(e),a=IDBKeyRange.lowerBound(s,!0);return o.Ot({index:pd.readTimeIndex,range:a},function(t,e){var n=Hd(r.R,e);i=i.insert(n.key,n),s=e.readTime}).next(function(){return{wn:i,readTime:Kd(s)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function sp(t){return Object(ju.b)(this,void 0,void 0,function(){var e;return Object(ju.d)(this,function(n){return[2,(e=zu(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Nf(t),n=Ju.min();return e.Ot({index:pd.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Kd(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function op(t,e,n,r){return Object(ju.b)(this,void 0,void 0,function(){var i,s,o,a,u,c,l,h,d,f;return Object(ju.d)(this,function(p){switch(p.label){case 0:for(i=zu(t),s=dh(),o=oh(),a=lh(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return d=i.$n.newChangeBuffer({trackRemovals:!0}),[4,tp(i,function(t){return cl(nl(nc.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Xf(t,d,o,Ju.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.qe.addMatchingKeys(t,s,f.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function ap(t,e,n){return void 0===n&&(n=dh()),Object(ju.b)(this,void 0,void 0,function(){var r,i;return Object(ju.d)(this,function(s){switch(s.label){case 0:return[4,tp(t,cl(Xd(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=zu(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=kh(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Qe.saveNamedQuery(t,e);var o=r.withResumeToken(oc.EMPTY_BYTE_STRING,s);return i.Fn=i.Fn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var up=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Id.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:kh(n.createTime)}),Id.resolve()},t.prototype.getNamedQuery=function(t,e){return Id.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Xd(t.bundledQuery),readTime:kh(t.readTime)}}(e)),Id.resolve()},t}(),cp=function(){function t(){this.Wn=new rh(lp.Gn),this.zn=new rh(lp.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new lp(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new lp(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new yc(new nc([])),r=new lp(n,t),i=new lp(n,t+1),s=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),s.push(t.key)}),s},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new yc(new nc([])),n=new lp(e,t),r=new lp(e,t+1),i=dh();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new lp(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),lp=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return yc.comparator(t.key,e.key)||$u(t.ns,e.ns)},t.Hn=function(t,e){return $u(t.ns,e.ns)||yc.comparator(t.key,e.key)},t}(),hp=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new rh(lp.Gn)}return t.prototype.checkEmpty=function(t){return Id.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var s=new Vd(i,e,n,r);this._n.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.rs=this.rs.add(new lp(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Id.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return Id.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Id.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Id.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Id.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new lp(e,0),i=new lp(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);s.push(e)}),Id.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new rh($u);return e.forEach(function(t){var e=new lp(t,0),i=new lp(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Id.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;yc.isDocumentKey(i)||(i=i.child(""));var s=new lp(new yc(i),0),o=new rh($u);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ns)),!0)},s),Id.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Hu(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Id.forEach(e.mutations,function(i){var s=new lp(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new lp(e,0),r=this.rs.firstAfterOrEqual(n);return Id.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Id.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),dp=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new th(yc.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Id.resolve(n?n.document.clone():Nc.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=oh();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Nc.newInvalidDocument(t))}),Id.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=oh(),i=new yc(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;c.compareTo(n)<=0||pl(e,u)&&(r=r.insert(u.key,u.clone()))}return Id.resolve(r)},t.prototype.fs=function(t,e){return Id.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new fp(this)},t.prototype.getSize=function(t){return Id.resolve(this.size)},t}(),fp=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(ju.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Id.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Af),pp=function(){function t(t){this.persistence=t,this.ds=new xf(function(t){return Lc(t)},Fc),this.lastRemoteSnapshotVersion=Ju.min(),this.highestTargetId=0,this.ws=0,this._s=new cp,this.targetCount=0,this.ys=gf.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Id.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Id.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Id.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Id.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Id.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new gf(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Id.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Id.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Id.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.ds.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Id.waitFor(s).next(function(){return i})},t.prototype.getTargetCount=function(t){return Id.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Id.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Id.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Id.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Id.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Id.resolve(n)},t.prototype.containsKey=function(t,e){return Id.resolve(this._s.containsKey(e))},t}(),mp=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Nu(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new pp(this),this.Ut=new nf,this.Ue=function(t,e){return new dp(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Bd(e),this.Qe=new up(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new hp(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Mu("MemoryPersistence","Starting transaction:",t);var i=new gp(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Id.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),gp=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(ju.c)(e,t),e}(Cd),yp=function(){function t(t){this.persistence=t,this.As=new cp,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Bu()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Id.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Id.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Id.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Id.forEach(this.vs,function(r){var i=yc.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Id.or([function(){return Id.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),bp=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function vp(t,e){return"firestore_clients_"+t+"_"+e}function _p(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function wp(t,e){return"firestore_targets_"+t+"_"+e}bp.UNAUTHENTICATED=new bp(null),bp.GOOGLE_CREDENTIALS=new bp("google-credentials-uid"),bp.FIRST_PARTY=new bp("first-party-uid");var Sp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new Pu(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(Vu("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ep=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Pu(i.error.code,i.error.message)),s?new t(e,i.state,r):(Vu("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Op=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=ph(),o=0;i&&o<r.activeTargetIds.length;++o)i=gc(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Vu("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Cp=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Vu("SharedClientState","Failed to parse online state: "+e),null)},t}(),Tp=function(){function t(){this.activeTargetIds=ph()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Ip=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new th($u),this.started=!1,this.Os=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=vp(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Tp),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(ju.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(ju.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(vp(this.persistenceKey,r)))&&(s=Op.Vs(r,i))&&(this.ks=this.ks.insert(s.clientId,s));for(this.Ks(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)this.Fs(c[u]);return this.Os=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(wp(this.persistenceKey,t));if(n){var r=Ep.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(wp(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Mu("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Mu("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Mu("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Mu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Vu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(ju.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(ju.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(o=function(t){var e=Nu.o;if(null!=t)try{var n=JSON.parse(t);Hu("number"==typeof n),e=n}catch(t){Vu("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Nu.o&&this.sequenceNumberHandler(o);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Sp(this.currentUser,t,e,n),i=_p(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=_p(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=wp(this.persistenceKey,t),i=new Ep(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Op.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Sp.Vs(new bp(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Ep.Vs(r,e)},t.prototype.js=function(t){return Cp.Vs(t)},t.prototype.ii=function(t){return Object(ju.b)(this,void 0,void 0,function(){return Object(ju.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Mu("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),s=this.Gs(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.hi(o,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=ph();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),xp=function(){function t(){this.li=new Tp,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Tp,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Ap=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),kp=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Mu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Mu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Rp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},jp=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Np=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(ju.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,s){var o=new Ru;o.listenOnce(xu.COMPLETE,function(){try{switch(o.getLastErrorCode()){case Iu.NO_ERROR:var e=o.getResponseJson();Mu("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Iu.TIMEOUT:Mu("Connection",'RPC "'+t+'" timed out'),s(new Pu(Du.DEADLINE_EXCEEDED,"Request time out"));break;case Iu.HTTP_ERROR:var n=o.getStatus();if(Mu("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Du).indexOf(e)>=0?e:Du.UNKNOWN}(r.status);s(new Pu(a,r.message))}else s(new Pu(Du.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Pu(Du.UNAVAILABLE,"Connection failed."));break;default:Bu()}}finally{Mu("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Su,i=Co(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,e),Object(xi.m)()||Object(xi.o)()||Object(xi.k)()||Object(xi.l)()||Object(xi.p)()||Object(xi.j)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Mu("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new jp({Ei:function(t){c?Mu("Connection","Not sending because WebChannel is closed:",t):(u||(Mu("Connection","Opening WebChannel transport."),a.open(),u=!0),Mu("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,ku.EventType.OPEN,function(){c||Mu("Connection","WebChannel transport opened.")}),h(a,ku.EventType.CLOSE,function(){c||(c=!0,Mu("Connection","WebChannel transport closed"),l.Vi())}),h(a,ku.EventType.ERROR,function(t){c||(c=!0,Uu("Connection","WebChannel transport errored:",t),l.Vi(new Pu(Du.UNAVAILABLE,"The operation could not be completed")))}),h(a,ku.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Hu(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Mu("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=$l[t];if(void 0!==e)return Zl(e)}(i),o=r.message;void 0===s&&(s=Du.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Pu(s,o)),a.close()}else Mu("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Au.STAT_EVENT,function(t){10===t.stat?Mu("Connection","Detected buffering proxy"):11===t.stat&&Mu("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Mu("RestConnection","Sending: ",i,n);var s={};return this.Fi(s,r),this.ki(t,i,s,n).then(function(t){return Mu("RestConnection","Received: ",t),t},function(e){throw Uu("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.4.2",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Rp[t]},t}());function Dp(){return"undefined"!=typeof window?window:null}function Pp(){return"undefined"!=typeof document?document:null}function Lp(t){return new Th(t,!0)}var Fp=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Mu("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Mp=function(){function t(t,e,n,r,i,s){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Fp(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(ju.b)(this,void 0,void 0,function(){return Object(ju.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(ju.b)(this,void 0,void 0,function(){return Object(ju.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(ju.b)(this,void 0,void 0,function(){return Object(ju.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Du.RESOURCE_EXHAUSTED?(Vu(e.toString()),Vu("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Du.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Pu(Du.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(ju.b)(t,void 0,void 0,function(){return Object(ju.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Mu("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Mu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Vp=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).R=i,o}return Object(ju.c)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Bu()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.I?(Hu(void 0===e||"string"==typeof e),oc.fromBase64String(e||"")):(Hu(void 0===e||e instanceof Uint8Array),oc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Du.UNKNOWN:Zl(t.code);return new Pu(e,t.message||"")}(a);n=new vh(r,i,s,o||null)}else if("documentChange"in e){i=Dh(t,(r=e.documentChange).document.name),s=kh(r.document.updateTime);var a=new Rc({mapValue:{fields:r.document.fields}}),u=(o=Nc.newFoundDocument(i,s,a),r.targetIds||[]);n=new yh(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=Dh(t,(r=e.documentDelete).document),s=r.readTime?kh(r.readTime):Ju.min(),a=Nc.newNoDocument(i,s),n=new yh([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Dh(t,(r=e.documentRemove).document),n=new yh([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Bu();var c=e.filter;i=new Jl(r=c.count||0),n=new bh(s=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Ju.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Ju.min():e.readTime?kh(e.readTime):Ju.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Fh(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Mc(r)?{documents:Hh(t,r)}:{query:zh(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=xh(t,e.resumeToken):e.snapshotVersion.compareTo(Ju.min())>0&&(n.readTime=Ih(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Bu()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Fh(this.R),e.removeTarget=t,this.cr(e)},e}(Mp),Up=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).R=i,o.gr=!1,o}return Object(ju.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(Hu(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Hu(void 0!==e),t.map(function(t){return function(t,e){var n=kh(t.updateTime?t.updateTime:e);return n.isEqual(Ju.min())&&(n=kh(e)),new Nl(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=kh(t.commitTime);return this.listener.Tr(n,e)}return Hu(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Fh(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return qh(e.R,t)})};this.cr(n)},e}(Mp),qp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(ju.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new Pu(Du.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Du.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Pu(Du.UNKNOWN,t.toString())})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Du.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Pu(Du.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Bp=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Vu(e),this.Vr=!1):Mu("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Hp=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(ju.b)(s,void 0,void 0,function(){return Object(ju.d)(this,function(t){switch(t.label){case 0:return Xp(this)?(Mu("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(ju.b)(this,void 0,void 0,function(){var e;return Object(ju.d)(this,function(n){switch(n.label){case 0:return(e=zu(t)).$r.add(4),[4,Wp(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,zp(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Bp(n,r)};function zp(t){return Object(ju.b)(this,void 0,void 0,function(){var e,n;return Object(ju.d)(this,function(r){switch(r.label){case 0:if(!Xp(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Wp(t){return Object(ju.b)(this,void 0,void 0,function(){var e,n;return Object(ju.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Kp(t,e){var n=zu(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Jp(n)?Yp(n):fm(n).er()&&Gp(n,e))}function $p(t,e){var n=zu(t),r=fm(n);n.Or.delete(e),r.er()&&Qp(n,e),0===n.Or.size&&(r.er()?r.ir():Xp(n)&&n.Br.set("Unknown"))}function Gp(t,e){t.qr.U(e.targetId),fm(t).mr(e)}function Qp(t,e){t.qr.U(e),fm(t).yr(e)}function Yp(t){t.qr=new wh({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),fm(t).start(),t.Br.Sr()}function Jp(t){return Xp(t)&&!fm(t).tr()&&t.Or.size>0}function Xp(t){return 0===zu(t).$r.size}function Zp(t){t.qr=void 0}function tm(t){return Object(ju.b)(this,void 0,void 0,function(){return Object(ju.d)(this,function(e){return t.Or.forEach(function(e,n){Gp(t,e)}),[2]})})}function em(t,e){return Object(ju.b)(this,void 0,void 0,function(){return Object(ju.d)(this,function(n){return Zp(t),Jp(t)?(t.Br.Nr(e),Yp(t)):t.Br.set("Unknown"),[2]})})}function nm(t,e,n){return Object(ju.b)(this,void 0,void 0,function(){var r,i,s;return Object(ju.d)(this,function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof vh&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(ju.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(ju.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Or.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Or.delete(s),t.qr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Mu("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,rm(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof yh?t.qr.X(e):e instanceof bh?t.qr.rt(e):t.qr.et(e),n.isEqual(Ju.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,Yf(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(oc.EMPTY_BYTE_STRING,n.snapshotVersion)),Qp(t,e);var r=new qd(n.target,e,1,n.sequenceNumber);Gp(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Mu("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,rm(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function rm(t,e,n){return Object(ju.b)(this,void 0,void 0,function(){var r=this;return Object(ju.d)(this,function(i){switch(i.label){case 0:if(!jd(e))throw e;return t.$r.add(1),[4,Wp(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Yf(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(ju.b)(r,void 0,void 0,function(){return Object(ju.d)(this,function(e){switch(e.label){case 0:return Mu("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,zp(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function im(t,e){return e().catch(function(n){return rm(t,n,e)})}function sm(t){return Object(ju.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(ju.d)(this,function(o){switch(o.label){case 0:e=zu(t),n=pm(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return Xp(t)&&t.kr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,Zf(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=pm(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,rm(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return om(e)&&am(e),[2]}})})}function om(t){return Xp(t)&&!pm(t).tr()&&t.kr.length>0}function am(t){pm(t).start()}function um(t){return Object(ju.b)(this,void 0,void 0,function(){return Object(ju.d)(this,function(e){return pm(t).Ar(),[2]})})}function cm(t){return Object(ju.b)(this,void 0,void 0,function(){var e,n,r;return Object(ju.d)(this,function(i){for(e=pm(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function lm(t,e,n){return Object(ju.b)(this,void 0,void 0,function(){var r,i;return Object(ju.d)(this,function(s){switch(s.label){case 0:return r=t.kr.shift(),i=Ud.from(r,e,n),[4,im(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,sm(t)];case 2:return s.sent(),[2]}})})}function hm(t,e){return Object(ju.b)(this,void 0,void 0,function(){return Object(ju.d)(this,function(n){switch(n.label){case 0:return e&&pm(t).pr?[4,function(t,e){return Object(ju.b)(this,void 0,void 0,function(){var n,r;return Object(ju.d)(this,function(i){switch(i.label){case 0:return Xl(r=e.code)&&r!==Du.ABORTED?(n=t.kr.shift(),pm(t).sr(),[4,im(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,sm(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return om(t)&&am(t),[2]}})})}function dm(t,e){return Object(ju.b)(this,void 0,void 0,function(){var n;return Object(ju.d)(this,function(r){switch(r.label){case 0:return n=zu(t),e?(n.$r.delete(2),[4,zp(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,Wp(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function fm(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=zu(t);return r.br(),new Vp(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:tm.bind(null,t),Ri:em.bind(null,t),_r:nm.bind(null,t)}),t.Mr.push(function(n){return Object(ju.b)(e,void 0,void 0,function(){return Object(ju.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Jp(t)?Yp(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Zp(t),e.label=3;case 3:return[2]}})})})),t.Ur}function pm(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=zu(t);return r.br(),new Up(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:um.bind(null,t),Ri:hm.bind(null,t),Ir:cm.bind(null,t),Tr:lm.bind(null,t)}),t.Mr.push(function(n){return Object(ju.b)(e,void 0,void 0,function(){return Object(ju.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,sm(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Mu("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var mm=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Td,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pu(Du.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function gm(t,e){if(Vu("AsyncQueue",e+": "+t),jd(t))return new Pu(Du.UNAVAILABLE,e+": "+t);throw t}var ym=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||yc.comparator(e.key,n.key)}:function(t,e){return yc.comparator(t.key,e.key)},this.keyedMap=uh(),this.sortedSet=new th(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),bm=function(){function t(){this.Kr=new th(yc.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Bu():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),vm=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,ym.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),_m=function(){this.Wr=void 0,this.listeners=[]},wm=function(){this.queries=new xf(function(t){return dl(t)},hl),this.onlineState="Unknown",this.Gr=new Set};function Sm(t,e){return Object(ju.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(ju.d)(this,function(c){switch(c.label){case 0:if(n=zu(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new _m),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=gm(a,"Initialization of query '"+fl(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&Tm(n),[2]}})})}function Em(t,e){return Object(ju.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(ju.d)(this,function(a){return n=zu(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Om(t,e){for(var n=zu(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(o)&&(r=!0);a.Wr=o}}r&&Tm(n)}function Cm(t,e,n){var r=zu(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function Tm(t){t.Gr.forEach(function(t){t.next()})}var Im=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new vm(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=vm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),xm=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Am=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Dh(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Uh(this.R,t.document,!1):Nc.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return kh(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Am(this.R),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||dh()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(ju.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(ju.d)(this,function(s){switch(s.label){case 0:return[4,op(this.localStore,new Am(this.R),this.documents,this.ro.id)];case 1:t=s.sent(),e=this.co(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,ap(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Bf(Object.assign({},this.progress),t))]}})})}}();var km=function(t){this.key=t},Rm=function(t){this.key=t},jm=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=dh(),this.mutatedKeys=dh(),this.lo=ml(t),this.fo=new ym(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new bm,i=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=rl(this.query)&&i.size===this.query.limit?i.last():null,c=il(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=pl(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),rl(this.query)||il(this.query))for(;o.size>this.query.limit;){var l=rl(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{fo:o,mo:r,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bu()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==s.length||u?{snapshot:new vm(this.query,t.fo,i,s,t.mutatedKeys,0===a,u,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new bm,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=dh(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Rm(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new km(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=dh();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return vm.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Nm=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Dm=function(t){this.key=t,this.bo=!1},Pm=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new xf(function(t){return dl(t)},hl),this.Vo=new Map,this.So=new Set,this.Do=new th(yc.comparator),this.Co=new Map,this.No=new cp,this.xo={},this.Fo=new Map,this.ko=gf.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function Lm(t,e){return Object(ju.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(ju.d)(this,function(a){switch(a.label){case 0:return n=hg(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,tp(n.localStore,cl(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,Fm(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&Kp(n.remoteStore,s),a.label=4;case 4:return[2,r]}})})}function Fm(t,e,n,r){return Object(ju.b)(this,void 0,void 0,function(){var i,s,o,a,u,c;return Object(ju.d)(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Object(ju.b)(this,void 0,void 0,function(){var i,s,o;return Object(ju.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,np(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(Ym(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,r)},[4,np(t.localStore,e,!0)];case 1:return i=l.sent(),s=new jm(e,i.Bn),o=s._o(i.documents),a=gh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a),Ym(t,n,u.To),c=new Nm(e,n,s),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function Mm(t,e){return Object(ju.b)(this,void 0,void 0,function(){var n,r,i;return Object(ju.d)(this,function(s){switch(s.label){case 0:return n=zu(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!hl(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,ep(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),$p(n.remoteStore,r.targetId),Gm(n,r.targetId)}).catch(wf)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Gm(n,r.targetId),[4,ep(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function Vm(t,e,n){return Object(ju.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(ju.d)(this,function(a){switch(a.label){case 0:r=dg(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=zu(t),i=Yu.now(),s=e.reduce(function(t,e){return t.add(e.key)},dh());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Vl(c,n.get(c.key));null!=l&&o.push(new Hl(c.key,l,jc(l.toProto().mapValue),Dl.exists(!0)))}return r._n.addMutationBatch(t,i,o,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new th($u)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Zm(r,i.changes)];case 3:return a.sent(),[4,sm(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=gm(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function Um(t,e){return Object(ju.b)(this,void 0,void 0,function(){var n,r;return Object(ju.d)(this,function(i){switch(i.label){case 0:n=zu(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Jf(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Hu(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Hu(r.bo):t.removedDocuments.size>0&&(Hu(r.bo),r.bo=!1))}),[4,Zm(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,wf(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function qm(t,e,n){var r=zu(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=zu(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zr(e)&&(r=!0)}),r&&Tm(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Bm(t,e,n){return Object(ju.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(ju.d)(this,function(c){switch(c.label){case 0:return(r=zu(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(o=(o=new th(yc.comparator)).insert(s,Nc.newNoDocument(s,Ju.min())),a=dh().add(s),u=new mh(Ju.min(),new Map,new rh($u),o,a),[4,Um(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),Xm(r),[3,4];case 2:return[4,ep(r.localStore,e,!1).then(function(){return Gm(r,e,n)}).catch(wf)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Hm(t,e){return Object(ju.b)(this,void 0,void 0,function(){var n,r,i;return Object(ju.d)(this,function(s){switch(s.label){case 0:n=zu(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Qf(n.localStore,e)];case 2:return i=s.sent(),$m(n,r,null),Km(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Zm(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,wf(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function zm(t,e,n){return Object(ju.b)(this,void 0,void 0,function(){var r,i;return Object(ju.d)(this,function(s){switch(s.label){case 0:r=zu(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=zu(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Hu(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=s.sent(),$m(r,e,n),Km(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Zm(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,wf(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Wm(t,e){return Object(ju.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(ju.d)(this,function(a){switch(a.label){case 0:Xp((n=zu(t)).remoteStore)||Mu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=zu(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return s=a.sent(),o=gm(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function Km(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function $m(t,e,n){var r=zu(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Gm(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Qm(t,e)})}function Qm(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&($p(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Xm(t))}function Ym(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof km?(t.No.addReference(s.key,e),Jm(t,s)):s instanceof Rm?(Mu("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||Qm(t,s.key)):Bu()}}function Jm(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Mu("SyncEngine","New document in limbo: "+n),t.So.add(r),Xm(t))}function Xm(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new yc(nc.fromString(e)),r=t.ko.next();t.Co.set(r,new Dm(n)),t.Do=t.Do.insert(n,r),Kp(t.remoteStore,new qd(cl(nl(n.path)),r,2,Nu.o))}}function Zm(t,e,n){return Object(ju.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(ju.d)(this,function(a){switch(a.label){case 0:return r=zu(t),i=[],s=[],o=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){o.push(r.$o(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=zf.Pn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(ju.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return Object(ju.d)(this,function(l){switch(l.label){case 0:n=zu(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Id.forEach(e,function(e){return Id.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Id.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!jd(r=l.sent()))throw r;return Mu("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function tg(t,e){return Object(ju.b)(this,void 0,void 0,function(){var n,r;return Object(ju.d)(this,function(i){switch(i.label){case 0:return(n=zu(t)).currentUser.isEqual(e)?[3,3]:(Mu("SyncEngine","User change. New user:",e.toKey()),[4,Gf(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new Pu(Du.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Zm(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function eg(t,e){var n=zu(t),r=n.Co.get(e);if(r&&r.bo)return dh().add(r.key);var i=dh(),s=n.Vo.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Po.get(a[o]);i=i.unionWith(u.view.wo)}return i}function ng(t,e){return Object(ju.b)(this,void 0,void 0,function(){var n,r,i;return Object(ju.d)(this,function(s){switch(s.label){case 0:return[4,np((n=zu(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Ym(n,e.targetId,i.To),i)]}})})}function rg(t){return Object(ju.b)(this,void 0,void 0,function(){var e;return Object(ju.d)(this,function(n){return[2,ip((e=zu(t)).localStore).then(function(t){return Zm(e,t)})]})})}function ig(t,e,n,r){return Object(ju.b)(this,void 0,void 0,function(){var i,s;return Object(ju.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=zu(t),r=zu(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Id.resolve(null)})})}((i=zu(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,sm(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?($m(i,e,r||null),Km(i,e),function(t,e){zu(zu(t)._n).Gt(e)}(i.localStore,e)):Bu(),o.label=4;case 4:return[4,Zm(i,s)];case 5:return o.sent(),[3,7];case 6:Mu("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function sg(t,e){return Object(ju.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(ju.d)(this,function(c){switch(c.label){case 0:return hg(n=zu(t)),dg(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,og(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,dm(n.remoteStore,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)Kp(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return Gm(n,e),ep(n.localStore,e,!0)}),$p(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,og(n,a)];case 5:return c.sent(),function(t){var e=zu(t);e.Co.forEach(function(t,n){$p(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new th(yc.comparator)}(n),n.Oo=!1,[4,dm(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function og(t,e,n){return Object(ju.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,d,f,p;return Object(ju.d)(this,function(m){switch(m.label){case 0:n=zu(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(u=void 0,(c=n.Vo.get(a=o[s]))&&0!==c.length?[4,tp(n.localStore,cl(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,ng(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,rp(n.localStore,a)];case 8:return p=m.sent(),[4,tp(n.localStore,p)];case 9:return u=m.sent(),[4,Fm(n,ag(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function ag(t){return el(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ug(t){var e=zu(t);return zu(zu(e.localStore).persistence).fn()}function cg(t,e,n,r){return Object(ju.b)(this,void 0,void 0,function(){var i,s,o;return Object(ju.d)(this,function(a){switch(a.label){case 0:return(i=zu(t)).Oo?(Mu("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ip(i.localStore)];case 3:return s=a.sent(),o=mh.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Zm(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,ep(i.localStore,e,!0)];case 6:return a.sent(),Gm(i,e,r),[3,8];case 7:Bu(),a.label=8;case 8:return[2]}})})}function lg(t,e,n){return Object(ju.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return Object(ju.d)(this,function(d){switch(d.label){case 0:if(!(r=hg(t)).Oo)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Vo.has(o=s[i])?(Mu("SyncEngine","Adding an already active target "+o),[3,5]):[4,rp(r.localStore,o)]:[3,6];case 2:return a=d.sent(),[4,tp(r.localStore,a)];case 3:return u=d.sent(),[4,Fm(r,ag(a),u.targetId,!1)];case 4:d.sent(),Kp(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(ju.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,ep(r.localStore,t,!1).then(function(){$p(r.remoteStore,t),Gm(r,t)}).catch(wf)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function hg(t){var e=zu(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Um.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bm.bind(null,e),e.vo._r=Om.bind(null,e.eventManager),e.vo.Mo=Cm.bind(null,e.eventManager),e}function dg(t){var e=zu(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zm.bind(null,e),e}var fg=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(ju.b)(this,void 0,void 0,function(){return Object(ju.d)(this,function(e){switch(e.label){case 0:return this.R=Lp(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return $f(this.persistence,new Wf,t.initialUser,this.R)},t.prototype.qo=function(t){return new mp(yp.bs,this.R)},t.prototype.Bo=function(t){return new xp},t.prototype.terminate=function(){return Object(ju.b)(this,void 0,void 0,function(){return Object(ju.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),pg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(ju.c)(e,t),e.prototype.initialize=function(e){return Object(ju.b)(this,void 0,void 0,function(){return Object(ju.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,sp(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,dg(this.Ko.syncEngine)];case 4:return n.sent(),[4,sm(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return $f(this.persistence,new Wf,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Of(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=qf(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?uf.withCacheSize(this.cacheSizeBytes):uf.DEFAULT;return new Mf(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Dp(),Pp(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new xp},e}(fg),mg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(ju.c)(e,t),e.prototype.initialize=function(e){return Object(ju.b)(this,void 0,void 0,function(){var n,r=this;return Object(ju.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Ip?(this.sharedClientState.syncEngine={ui:ig.bind(null,n),ai:cg.bind(null,n),hi:lg.bind(null,n),fn:ug.bind(null,n),ci:rg.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(ju.b)(r,void 0,void 0,function(){return Object(ju.d)(this,function(e){switch(e.label){case 0:return[4,sg(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Dp();if(!Ip.yt(e))throw new Pu(Du.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=qf(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Ip(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(pg),gg=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(ju.b)(this,void 0,void 0,function(){var n=this;return Object(ju.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return qm(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=tg.bind(null,this.syncEngine),[4,dm(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new wm},t.prototype.createDatastore=function(t){var e=Lp(t.databaseInfo.databaseId),n=new Np(t.databaseInfo);return function(t,e,n){return new qp(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return qm(o.syncEngine,t,0)},s=kp.yt()?new kp:new Ap,new Hp(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new Pm(t,e,n,r,i,s);return o&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(ju.b)(this,void 0,void 0,function(){var e;return Object(ju.d)(this,function(n){switch(n.label){case 0:return e=zu(t),Mu("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Wp(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),yg=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),bg=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Td,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(ju.b)(this,void 0,void 0,function(){return Object(ju.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(ju.b)(this,void 0,void 0,function(){return Object(ju.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(ju.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(ju.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new xm(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(ju.b)(this,void 0,void 0,function(){var t,e;return Object(ju.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(ju.b)(this,void 0,void 0,function(){var e;return Object(ju.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(ju.b)(this,void 0,void 0,function(){var t,e;return Object(ju.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(ju.b)(this,void 0,void 0,function(){var e,n=this;return Object(ju.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Pu(Du.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(ju.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(ju.d)(this,function(u){switch(u.label){case 0:return n=zu(t),r=Fh(n.R)+"/documents",i={documents:e.map(function(t){return Nh(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Hu(!!e.found);var n=Dh(t,e.found.name),r=kh(e.found.updateTime),i=new Rc({mapValue:{fields:e.found.fields}});return Nc.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Hu(!!e.missing),Hu(!!e.readTime);var n=Dh(t,e.missing),r=kh(e.readTime);return Nc.newNoDocument(n,r)}(t,e):Bu()}(n.R,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());Hu(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Ql(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(ju.b)(this,void 0,void 0,function(){var t,e=this;return Object(ju.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=yc.fromPath(n);e.mutations.push(new Yl(r,e.precondition(r)))}),[4,function(t,e){return Object(ju.b)(this,void 0,void 0,function(){var n,r,i;return Object(ju.d)(this,function(s){switch(s.label){case 0:return n=zu(t),r=Fh(n.R)+"/documents",i={writes:e.map(function(t){return qh(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Bu();e=Ju.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Pu(Du.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Dl.updateTime(e):Dl.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Ju.min()))throw new Pu(Du.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dl.updateTime(e)}return Dl.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),vg=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Fp(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(ju.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(ju.d)(this,function(r){return t=new bg(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!pc(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Xl(e)}return!1},t}(),_g=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=bp.UNAUTHENTICATED,this.clientId=Ku.u(),this.credentialListener=function(){},this.receivedInitialUser=new Td,this.credentials.setChangeListener(function(t){Mu("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(ju.b)(this,void 0,void 0,function(){return Object(ju.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Pu(Du.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Td;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(ju.b)(t,void 0,void 0,function(){var t,n;return Object(ju.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=gm(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function wg(t,e){return Object(ju.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(ju.d)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Mu("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(ju.b)(i,void 0,void 0,function(){return Object(ju.d)(this,function(t){switch(t.label){case 0:return[4,Gf(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Sg(t,e){return Object(ju.b)(this,void 0,void 0,function(){var n,r;return Object(ju.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Eg(t)];case 1:return n=i.sent(),Mu("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(ju.b)(this,void 0,void 0,function(){var n,r;return Object(ju.d)(this,function(i){switch(i.label){case 0:return(n=zu(t)).asyncQueue.verifyOperationInProgress(),Mu("RemoteStore","RemoteStore received new credentials"),r=Xp(n),n.$r.add(3),[4,Wp(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,zp(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function Eg(t){return Object(ju.b)(this,void 0,void 0,function(){return Object(ju.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Mu("FirestoreClient","Using default OfflineComponentProvider"),[4,wg(t,new fg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Og(t){return Object(ju.b)(this,void 0,void 0,function(){return Object(ju.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Mu("FirestoreClient","Using default OnlineComponentProvider"),[4,Sg(t,new gg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Cg(t){return Eg(t).then(function(t){return t.persistence})}function Tg(t){return Eg(t).then(function(t){return t.localStore})}function Ig(t){return Og(t).then(function(t){return t.remoteStore})}function xg(t){return Og(t).then(function(t){return t.syncEngine})}function Ag(t){return Object(ju.b)(this,void 0,void 0,function(){var e,n;return Object(ju.d)(this,function(r){switch(r.label){case 0:return[4,Og(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Lm.bind(null,e.syncEngine),n.onUnlisten=Mm.bind(null,e.syncEngine),n)]}})})}function kg(t,e,n){var r=this;void 0===n&&(n={});var i=new Td;return t.asyncQueue.enqueueAndForget(function(){return Object(ju.b)(r,void 0,void 0,function(){var r;return Object(ju.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new yg({next:function(s){e.enqueueAndForget(function(){return Em(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Pu(Du.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Pu(Du.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Im(nl(n.path),s,{includeMetadataChanges:!0,so:!0});return Sm(t,o)},[4,Ag(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Rg(t,e,n){var r=this;void 0===n&&(n={});var i=new Td;return t.asyncQueue.enqueueAndForget(function(){return Object(ju.b)(r,void 0,void 0,function(){var r;return Object(ju.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new yg({next:function(n){e.enqueueAndForget(function(){return Em(t,o)}),n.fromCache&&"server"===r.source?i.reject(new Pu(Du.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Im(n,s,{includeMetadataChanges:!0,so:!0});return Sm(t,o)},[4,Ag(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var jg=function(t,e,n,r,i,s,o){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o},Ng=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Dg=new Map,Pg=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Lg=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(bp.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Fg=function(){function t(t){var e=this;this.oc=null,this.currentUser=bp.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Mu("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Hu("string"==typeof n.accessToken),new Pg(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return Hu(null===t||"string"==typeof t),new bp(t)},t}(),Mg=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=bp.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),Vg=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new Mg(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(bp.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Ug(t,e,n){if(!n)throw new Pu(Du.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function qg(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Pu(Du.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Bg(t,e,n,r){if(!0===e&&!0===r)throw new Pu(Du.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Hg(t){if(!yc.isDocumentKey(t))throw new Pu(Du.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function zg(t){if(yc.isDocumentKey(t))throw new Pu(Du.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Wg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Bu()}function Kg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pu(Du.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Wg(t);throw new Pu(Du.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function $g(t,e){if(e<=0)throw new Pu(Du.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Gg=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Pu(Du.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Pu(Du.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Bg("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Qg=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new Gg({}),this._settingsFrozen=!1,t instanceof Ng?(this._databaseId=t,this._credentials=new Lg):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Pu(Du.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ng(t.options.projectId)}(t),this._credentials=new Fg(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Pu(Du.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Pu(Du.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gg(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Lg;switch(t.type){case"gapi":var e=t.client;return Hu(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Vg(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Pu(Du.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Dg.get(this))&&(Mu("ComponentProvider","Removing Datastore"),Dg.delete(this),t.terminate()),Promise.resolve();var t},t}(),Yg=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Xg(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Jg=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Xg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,nl(r))||this)._path=r,i.type="collection",i}return Object(ju.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Yg(this.firestore,null,new yc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Jg);function Zg(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(xi.g)(t),Ug("collection","path",e),t instanceof Qg)return zg(n=nc.fromString.apply(nc,Object(ju.f)([e],r))),new Xg(t,null,n);if(!(t instanceof Yg||t instanceof Xg))throw new Pu(Du.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return zg(n=nc.fromString.apply(nc,Object(ju.f)([t.path],r)).child(nc.fromString(e))),new Xg(t.firestore,null,n)}function ty(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(xi.g)(t),1===arguments.length&&(e=Ku.u()),Ug("doc","path",e),t instanceof Qg)return Hg(n=nc.fromString.apply(nc,Object(ju.f)([e],r))),new Yg(t,null,new yc(n));if(!(t instanceof Yg||t instanceof Xg))throw new Pu(Du.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Hg(n=t._path.child(nc.fromString.apply(nc,Object(ju.f)([e],r)))),new Yg(t.firestore,t instanceof Xg?t._converter:null,new yc(n))}function ey(t,e){return t=Object(xi.g)(t),e=Object(xi.g)(e),(t instanceof Yg||t instanceof Xg)&&(e instanceof Yg||e instanceof Xg)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function ny(t,e){return t=Object(xi.g)(t),e=Object(xi.g)(e),t instanceof Jg&&e instanceof Jg&&t.firestore===e.firestore&&hl(t._query,e._query)&&t._converter===e._converter}var ry=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new Fp(this,"async_queue_retry"),this.Ec=function(){var e=Pp();e&&Mu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Pp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=Pp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(t){}):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.dc.push(t),e.Ac()})},t.prototype.Ac=function(){return Object(ju.b)(this,void 0,void 0,function(){var t,e=this;return Object(ju.d)(this,function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!jd(t=n.sent()))throw t;return Mu("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return e.Ac()}),n.label=5;case 5:return[2]}})})},t.prototype.Ic=function(t){var e=this,n=this.fc.then(function(){return e.yc=!0,t().catch(function(t){throw e.mc=t,e.yc=!1,Vu("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.yc=!1,t})});return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=mm.createAndSchedule(this,t,e,n,function(t){return r.Rc(t)});return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&Bu()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Object(ju.b)(this,void 0,void 0,function(){var t;return Object(ju.d)(this,function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then(function(){e._c.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()})},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function iy(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Td,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var sy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new ry,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(ju.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||ay(this),this._firestoreClient.terminate()},e}(Qg);function oy(t){return t._firestoreClient||ay(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ay(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new jg(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new _g(t._credentials,t._queue,r)}function uy(t,e,n){var r=this,i=new Td;return t.asyncQueue.enqueue(function(){return Object(ju.b)(r,void 0,void 0,function(){var r;return Object(ju.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,wg(t,n)];case 1:return s.sent(),[4,Sg(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Du.FAILED_PRECONDITION||t.code===Du.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function cy(t){if(t._initialized||t._terminated)throw new Pu(Du.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ly=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Pu(Du.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ic(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),hy=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(oc.fromBase64String(e))}catch(e){throw new Pu(Du.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(oc.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),dy=function(t){this._methodName=t},fy=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Pu(Du.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Pu(Du.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return $u(this._lat,t._lat)||$u(this._long,t._long)},t}(),py=/^__.*__$/,my=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Hl(t,this.data,this.fieldMask,e,this.fieldTransforms):new Bl(t,this.data,e,this.fieldTransforms)},t}(),gy=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Hl(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function yy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bu()}}var by=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return My(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(yy(this.Dc)&&py.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),vy=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Lp(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new by({Dc:t,methodName:e,Lc:n,path:ic.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function _y(t){var e=t._freezeSettings(),n=Lp(t._databaseId);return new vy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wy(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Bc(s.merge||s.mergeFields?2:0,e,n,i);Dy("Data must be an object, but it was:",o,r);var a,u,c=jy(r,o);if(s.merge)a=new sc(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=Py(e,d[h],n);if(!o.contains(f))throw new Pu(Du.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Vy(l,f)||l.push(f)}a=new sc(l),u=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=o.fieldTransforms;return new my(new Rc(c),a,u)}var Sy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ju.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(dy);function Ey(t,e,n){return new by({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Oy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ju.c)(e,t),e.prototype._toFieldTransform=function(t){return new jl(t.path,new Ol)},e.prototype.isEqual=function(t){return t instanceof e},e}(dy),Cy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(ju.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Ey(this,t,!0),n=this.qc.map(function(t){return Ry(t,e)}),r=new Cl(n);return new jl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(dy),Ty=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(ju.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Ey(this,t,!0),n=this.qc.map(function(t){return Ry(t,e)}),r=new Il(n);return new jl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(dy),Iy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(ju.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Al(t.R,vl(t.R,this.Uc));return new jl(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(dy);function xy(t,e,n,r){var i=t.Bc(1,e,n);Dy("Data must be an object, but it was:",i,r);var s=[],o=Rc.empty();Zu(r,function(t,r){var a=Fy(e,t,n);r=Object(xi.g)(r);var u=i.kc(a);if(r instanceof Sy)s.push(a);else{var c=Ry(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new sc(s);return new gy(o,a,i.fieldTransforms)}function Ay(t,e,n,r,i,s){var o=t.Bc(1,e,n),a=[Py(e,r,n)],u=[i];if(s.length%2!=0)throw new Pu(Du.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(Py(e,s[c])),u.push(s[c+1]);for(var l=[],h=Rc.empty(),d=a.length-1;d>=0;--d)if(!Vy(l,a[d])){var f=a[d],p=u[d];p=Object(xi.g)(p);var m=o.kc(f);if(p instanceof Sy)l.push(f);else{var g=Ry(p,m);null!=g&&(l.push(f),h.set(f,g))}}var y=new sc(l);return new gy(h,y,o.fieldTransforms)}function ky(t,e,n,r){return void 0===r&&(r=!1),Ry(n,t.Bc(r?4:3,e))}function Ry(t,e){if(Ny(t=Object(xi.g)(t)))return Dy("Unsupported field value:",e,t),jy(t,e);if(t instanceof dy)return function(t,e){if(!yy(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=Ry(s[i],e.Oc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(xi.g)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return vl(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Yu.fromDate(t);return{timestampValue:Ih(e.R,n)}}if(t instanceof Yu)return n=new Yu(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Ih(e.R,n)};if(t instanceof fy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof hy)return{bytesValue:xh(e.R,t._byteString)};if(t instanceof Yg){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Rh(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+Wg(t))}(t,e)}function jy(t,e){var n={};return tc(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zu(t,function(t,r){var i=Ry(r,e.Nc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Ny(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Yu||t instanceof fy||t instanceof hy||t instanceof Yg||t instanceof dy)}function Dy(t,e,n){if(!Ny(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Wg(n);throw e.$c("an object"===r?t+" a custom object":t+" "+r)}}function Py(t,e,n){if((e=Object(xi.g)(e))instanceof ly)return e._internalPath;if("string"==typeof e)return Fy(t,e);throw My("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Ly=new RegExp("[~\\*/\\[\\]]");function Fy(t,e,n){if(e.search(Ly)>=0)throw My("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(ly.bind.apply(ly,Object(ju.f)([void 0],e.split(".")))))._internalPath}catch(r){throw My("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function My(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new Pu(Du.INVALID_ARGUMENT,(a+=". ")+t+u)}function Vy(t,e){return t.some(function(t){return t.isEqual(e)})}var Uy=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Yg(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new qy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(By("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),qy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ju.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Uy);function By(t,e){return"string"==typeof e?Fy(t,e):e instanceof ly?e._internalPath:e._delegate._internalPath}var Hy=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),zy=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return Object(ju.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Wy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(By("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Uy),Wy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ju.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(zy),Ky=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Hy(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Wy(n._firestore,n._userDataWriter,r.key,r,new Hy(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Pu(Du.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Wy(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Hy(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Wy(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Hy(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:$y(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function $y(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bu()}}function Gy(t,e){return t instanceof zy&&e instanceof zy?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ky&&e instanceof Ky&&t._firestore===e._firestore&&ny(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Qy(t){if(il(t)&&0===t.explicitOrderBy.length)throw new Pu(Du.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Yy=function(){};function Jy(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var Xy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return Object(ju.c)(e,t),e.prototype._apply=function(t){var e=_y(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Pu(Du.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){sb(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(ib(r,t,l[c]));a={arrayValue:{values:u}}}else a=ib(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||sb(o,s),a=ky(n,"where",o,"in"===s||"not-in"===s);var h=Vc.create(i,s,a);return function(t,e){if(e.g()){var n=ol(t);if(null!==n&&!n.isEqual(e.field))throw new Pu(Du.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=sl(t);null!==r&&ob(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Pu(Du.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Jg(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new tl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Yy),Zy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return Object(ju.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Pu(Du.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Pu(Du.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Yc(e,n);return function(t,e){if(null===sl(t)){var n=ol(t);null!==n&&ob(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new Jg(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new tl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Yy),tb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return Object(ju.c)(e,t),e.prototype._apply=function(t){return new Jg(t.firestore,t._converter,ll(t._query,this.Gc,this.zc))},e}(Yy),eb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(ju.c)(e,t),e.prototype._apply=function(t){var e=rb(t,this.type,this.Hc,this.Jc);return new Jg(t.firestore,t._converter,function(t,e){return new tl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Yy),nb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(ju.c)(e,t),e.prototype._apply=function(t){var e=rb(t,this.type,this.Hc,this.Jc);return new Jg(t.firestore,t._converter,function(t,e){return new tl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Yy);function rb(t,e,n,r){if(n[0]=Object(xi.g)(n[0]),n[0]instanceof Uy)return function(t,e,n,r,i){if(!r)throw new Pu(Du.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=ul(t);o<a.length;o++){var u=a[o];if(u.field.isKeyField())s.push(Cc(e,r.key));else{var c=r.data.field(u.field);if(hc(c))throw new Pu(Du.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Pu(Du.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new Gc(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=_y(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new Pu(Du.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Pu(Du.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!al(t)&&-1!==c.indexOf("/"))throw new Pu(Du.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(nc.fromString(c));if(!yc.isDocumentKey(l))throw new Pu(Du.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new yc(l);a.push(Cc(e,h))}else{var d=ky(n,r,c);a.push(d)}}return new Gc(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function ib(t,e,n){if("string"==typeof(n=Object(xi.g)(n))){if(""===n)throw new Pu(Du.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!al(e)&&-1!==n.indexOf("/"))throw new Pu(Du.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(nc.fromString(n));if(!yc.isDocumentKey(r))throw new Pu(Du.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Cc(t,new yc(r))}if(n instanceof Yg)return Cc(t,n._key);throw new Pu(Du.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Wg(n)+".")}function sb(t,e){if(!Array.isArray(t)||0===t.length)throw new Pu(Du.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Pu(Du.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function ob(t,e,n){if(!n.isEqual(e))throw new Pu(Du.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var ab=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),bc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return cc(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(lc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Bu()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Zu(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new fy(cc(t.latitude),cc(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=dc(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(fc(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=uc(t);return new Yu(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=nc.fromString(t);Hu(nd(n));var r=new Ng(n.get(1),n.get(3)),i=new yc(n.popFirst(5));return r.isEqual(e)||Vu("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function ub(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var cb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ju.c)(e,t),e.prototype.convertBytes=function(t){return new hy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Yg(this.firestore,null,e)},e}(ab),lb=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=_y(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=hb(t,this._firestore),i=ub(r._converter,e,n),s=wy(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(s.toMutation(r._key,Dl.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=hb(t,this._firestore);return s="string"==typeof(e=Object(xi.g)(e))||e instanceof ly?Ay(this._dataReader,"WriteBatch.update",o._key,e,n,r):xy(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,Dl.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=hb(t,this._firestore);return this._mutations=this._mutations.concat(new Ql(e._key,Dl.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Pu(Du.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function hb(t,e){if((t=Object(xi.g)(t)).firestore!==e)throw new Pu(Du.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var db=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ju.c)(e,t),e.prototype.convertBytes=function(t){return new hy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Yg(this.firestore,null,e)},e}(ab);function fb(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Kg(t,Yg);var s=Kg(t.firestore,sy),o=_y(s);return mb(s,[("string"==typeof(e=Object(xi.g)(e))||e instanceof ly?Ay(o,"updateDoc",t._key,e,n,r):xy(o,"updateDoc",t._key,e)).toMutation(t._key,Dl.exists(!0))])}function pb(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=Object(xi.g)(t);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||iy(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(iy(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof Yg)c=Kg(t.firestore,sy),l=nl(t._key.path),u={next:function(e){i[a]&&i[a](gb(c,t,e))},error:i[a+1],complete:i[a+2]};else{var f=Kg(t,Jg);c=Kg(f.firestore,sy),l=f._query;var p=new db(c);u={next:function(t){i[a]&&i[a](new Ky(c,p,f,t))},error:i[a+1],complete:i[a+2]},Qy(t._query)}return function(t,e,n,r){var i=this,s=new yg(r),o=new Im(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return Object(ju.b)(i,void 0,void 0,function(){var e;return Object(ju.d)(this,function(n){switch(n.label){case 0:return e=Sm,[4,Ag(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(ju.b)(i,void 0,void 0,function(){var e;return Object(ju.d)(this,function(n){switch(n.label){case 0:return e=Em,[4,Ag(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(oy(c),l,h,u)}function mb(t,e){return function(t,e){var n=this,r=new Td;return t.asyncQueue.enqueueAndForget(function(){return Object(ju.b)(n,void 0,void 0,function(){var n;return Object(ju.d)(this,function(i){switch(i.label){case 0:return n=Vm,[4,xg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(oy(t),e)}function gb(t,e,n){var r=n.docs.get(e._key),i=new db(t);return new zy(t,i,e._key,r,new Hy(n.hasPendingWrites,n.fromCache),e._converter)}var yb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(ju.c)(e,t),e.prototype.get=function(e){var n=this,r=hb(e,this._firestore),i=new db(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new zy(n._firestore,i,r._key,t._document,new Hy(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=_y(t)}return t.prototype.get=function(t){var e=this,n=hb(t,this._firestore),r=new cb(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Bu();var i=t[0];if(i.isFoundDocument())return new Uy(e._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new Uy(e._firestore,r,n._key,null,n._converter);throw Bu()})},t.prototype.set=function(t,e,n){var r=hb(t,this._firestore),i=ub(r._converter,e,n),s=wy(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=hb(t,this._firestore);return s="string"==typeof(e=Object(xi.g)(e))||e instanceof ly?Ay(this._dataReader,"Transaction.update",o._key,e,n,r):xy(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=hb(t,this._firestore);return this._transaction.delete(e._key),this},t}());function bb(){if("undefined"==typeof Uint8Array)throw new Pu(Du.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function vb(){if("undefined"==typeof atob)throw new Pu(Du.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var _b=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return vb(),new t(hy.fromBase64String(e))},t.fromUint8Array=function(e){return bb(),new t(hy.fromUint8Array(e))},t.prototype.toBase64=function(){return vb(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return bb(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),wb=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){cy(t=Kg(t,sy));var n=oy(t),r=t._freezeSettings(),i=new gg;return uy(n,i,new pg(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){cy(t=Kg(t,sy));var e=oy(t),n=t._freezeSettings(),r=new gg;return uy(e,r,new mg(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Pu(Du.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Td;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(ju.b)(e,void 0,void 0,function(){var e;return Object(ju.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(ju.b)(this,void 0,void 0,function(){return Object(ju.d)(this,function(e){switch(e.label){case 0:return Ad.yt()?[4,Ad.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(qf(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Sb=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Ng||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Kg(t,Qg))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&Uu("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(ju.b)(e,void 0,void 0,function(){var e,n;return Object(ju.d)(this,function(r){switch(r.label){case 0:return[4,Cg(t)];case 1:return e=r.sent(),[4,Ig(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=zu(t);return e.$r.delete(0),zp(e)}(n))]}})})})}(oy(Kg(this._delegate,sy)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(ju.b)(e,void 0,void 0,function(){var e,n;return Object(ju.d)(this,function(r){switch(r.label){case 0:return[4,Cg(t)];case 1:return e=r.sent(),[4,Ig(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(ju.b)(this,void 0,void 0,function(){var e;return Object(ju.d)(this,function(n){switch(n.label){case 0:return(e=zu(t)).$r.add(0),[4,Wp(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(oy(Kg(this._delegate,sy)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Bg("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Td;return t.asyncQueue.enqueueAndForget(function(){return Object(ju.b)(e,void 0,void 0,function(){var e;return Object(ju.d)(this,function(r){switch(r.label){case 0:return e=Wm,[4,xg(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(oy(Kg(this._delegate,sy)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new yg(e);return t.asyncQueue.enqueueAndForget(function(){return Object(ju.b)(n,void 0,void 0,function(){var e;return Object(ju.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){zu(t).Gr.add(e),e.next()},[4,Ag(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(ju.b)(n,void 0,void 0,function(){var e;return Object(ju.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){zu(t).Gr.delete(e)},[4,Ag(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(oy(t=Kg(t,sy)),iy(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new Pu(Du.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Lb(this,Zg(this._delegate,t))}catch(t){throw xb(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Ib(this,ty(this._delegate,t))}catch(t){throw xb(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Nb(this,function(t,e){if(t=Kg(t,Qg),Ug("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Pu(Du.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Jg(t,null,function(t){return new tl(nc.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw xb(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Td;return t.asyncQueue.enqueueAndForget(function(){return Object(ju.b)(n,void 0,void 0,function(){var n;return Object(ju.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Og(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new vg(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(oy(t),function(n){return e(new yb(t,n))})}(this._delegate,function(n){return t(new Ob(e,n))})},t.prototype.batch=function(){var t=this;return oy(this._delegate),new Cb(new lb(this._delegate,function(e){return mb(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Pu(Du.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Pu(Du.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Eb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ju.c)(e,t),e.prototype.convertBytes=function(t){return new _b(new hy(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Ib.Zc(e,this.firestore,null)},e}(ab),Ob=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Eb(t)}return t.prototype.get=function(t){var e=this,n=Fb(t);return this._delegate.get(n).then(function(t){return new Rb(e._firestore,new zy(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},t.prototype.set=function(t,e,n){var r=Fb(t);return n?(qg("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Fb(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(ju.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=Fb(t);return this._delegate.delete(e),this},t}(),Cb=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Fb(t);return n?(qg("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Fb(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(ju.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=Fb(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Tb=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Wy(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new jb(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new Eb(e),n),i.set(n,s)),s},t}();Tb.eu=new WeakMap;var Ib=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Eb(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new Pu(Du.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Yg(n._delegate,r,new yc(e)))},t.Zc=function(e,n,r){return new t(n,new Yg(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Lb(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Lb(this.firestore,Zg(this._delegate,t))}catch(t){throw xb(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(xi.g)(t))instanceof Yg&&ey(this._delegate,t)},t.prototype.set=function(t,e){e=qg("DocumentReference.set",e);try{return function(t,e,n){t=Kg(t,Yg);var r=Kg(t.firestore,sy),i=ub(t._converter,e,n);return mb(r,[wy(_y(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,Dl.none())])}(this._delegate,t,e)}catch(t){throw xb(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?fb(this._delegate,t):fb.apply(void 0,Object(ju.f)([this._delegate,t,e],n))}catch(t){throw xb(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return mb(Kg((t=this._delegate).firestore,sy),[new Ql(t._key,Dl.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ab(e),i=kb(e,function(e){return new Rb(t.firestore,new zy(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return pb(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Kg(t,Yg);var e=Kg(t.firestore,sy),n=oy(e),r=new db(e);return function(t,e){var n=this,r=new Td;return t.asyncQueue.enqueueAndForget(function(){return Object(ju.b)(n,void 0,void 0,function(){var n;return Object(ju.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(ju.b)(this,void 0,void 0,function(){var r,i;return Object(ju.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=zu(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=s.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Pu(Du.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=gm(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Tg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new zy(e,r,t._key,n,new Hy(null!==n&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Kg(t,Yg);var e=Kg(t.firestore,sy);return kg(oy(e),t._key,{source:"server"}).then(function(n){return gb(e,t,n)})}(this._delegate):function(t){t=Kg(t,Yg);var e=Kg(t.firestore,sy);return kg(oy(e),t._key).then(function(n){return gb(e,t,n)})}(this._delegate)).then(function(t){return new Rb(e.firestore,new zy(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Tb.tu(this.firestore,e):null))},t}();function xb(t,e,n){return t.message=t.message.replace(e,n),t}function Ab(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!iy(r))return r}return{}}function kb(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=iy(t[0])?t[0]:iy(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Rb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Ib(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Gy(this._delegate,t._delegate)},t}(),jb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ju.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Rb),Nb=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Eb(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Jy(this._delegate,function(t,e,n){var r=e,i=By("where",t);return new Xy(i,r,n)}(e,n,r)))}catch(e){throw xb(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Jy(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=By("orderBy",t);return new Zy(r,n)}(e,n)))}catch(e){throw xb(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Jy(this._delegate,function(t){return $g("limit",t),new tb("limit",t,"F")}(e)))}catch(e){throw xb(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Jy(this._delegate,function(t){return $g("limitToLast",t),new tb("limitToLast",t,"L")}(e)))}catch(e){throw xb(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Jy(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new eb("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw xb(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Jy(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new eb("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw xb(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Jy(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new nb("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw xb(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Jy(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new nb("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw xb(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return ny(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Kg(t,Jg);var e=Kg(t.firestore,sy),n=oy(e),r=new db(e);return function(t,e){var n=this,r=new Td;return t.asyncQueue.enqueueAndForget(function(){return Object(ju.b)(n,void 0,void 0,function(){var n;return Object(ju.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(ju.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(ju.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,np(t,e,!0)];case 1:return a=u.sent(),r=new jm(e,a.Bn),i=r._o(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=gm(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Tg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Ky(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Kg(t,Jg);var e=Kg(t.firestore,sy),n=oy(e),r=new db(e);return Rg(n,t._query,{source:"server"}).then(function(n){return new Ky(e,r,t,n)})}(this._delegate):function(t){t=Kg(t,Jg);var e=Kg(t.firestore,sy),n=oy(e),r=new db(e);return Qy(t._query),Rg(n,t._query).then(function(n){return new Ky(e,r,t,n)})}(this._delegate)).then(function(t){return new Pb(e.firestore,new Ky(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ab(e),i=kb(e,function(e){return new Pb(t.firestore,new Ky(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return pb(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Tb.tu(this.firestore,e):null))},t}(),Db=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new jb(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Pb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Nb(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new jb(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Db(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new jb(n._firestore,r))})},t.prototype.isEqual=function(t){return Gy(this._delegate,t._delegate)},t}(),Lb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(ju.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Ib(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Ib(this.firestore,void 0===t?ty(this._delegate):ty(this._delegate,t))}catch(t){throw xb(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Kg(t.firestore,sy),r=ty(t),i=ub(t._converter,e);return mb(n,[wy(_y(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,Dl.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Ib(e.firestore,t)})},e.prototype.isEqual=function(t){return ey(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Tb.tu(this.firestore,t):null))},e}(Nb);function Fb(t){return Kg(t,Yg)}var Mb,Vb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(ly.bind.apply(ly,Object(ju.f)([void 0],t)))}return t.documentId=function(){return new t(ic.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(xi.g)(t))instanceof ly&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Ub=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Oy("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Sy("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Cy("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ty("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Iy("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),qb=n("/6Yf"),Bb={Firestore:Sb,GeoPoint:fy,Timestamp:Yu,Blob:_b,Transaction:Ob,WriteBatch:Cb,DocumentReference:Ib,DocumentSnapshot:Rb,Query:Nb,QueryDocumentSnapshot:jb,QuerySnapshot:Pb,CollectionReference:Lb,FieldPath:Vb,FieldValue:Ub,setLogLevel:function(t){Lu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new qb.a("firestore",function(t){return function(t,e){return new Sb(t,new sy(t,e),new wb)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Bb)))})(Mb=Ii.a),Mb.registerVersion("@firebase/firestore","2.2.5");var Hb=n("VRyK"),zb=n("qgXg"),Wb=n("Ylt2");class Kb extends bt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new $b(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new vt.a;if(this.isStopped||this.hasError?s=_e.a.EMPTY:(this.observers.push(t),s=new Wb.a(this,t)),r&&t.add(t=new Oi.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||zb.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class $b{constructor(t,e){this.time=t,this.value=e}}function Gb(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new Kb(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}}),u&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function Qb(t,e){return e?qt(()=>t,e):qt(()=>t)}var Yb=n("tf+s");const Jb=new r.r("angularfire2.auth.use-emulator"),Xb=new r.r("angularfire2.auth.settings"),Zb=new r.r("angularfire2.auth.tenant-id"),tv=new r.r("angularfire2.auth.langugage-code"),ev=new r.r("angularfire2.auth.use-device-language"),nv=new r.r("angularfire.auth.persistence");let rv=(()=>{class t{constructor(t,e,r,i,s,o,a,u,c,l){const h=new Ci.d(i),d=Object(Ci.h)(h),f=new bt.a,p=Object(yt.a)(void 0).pipe(Object(Oi.b)(h.outsideAngular),qt(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Vt.a)(()=>Object(Ci.g)(t,i,e)),Object(Vt.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(Ci.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Gb({bufferSize:1,refCount:!1}));if(P(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(yt.a)(null);else{p.pipe(ye()).subscribe();const t=p.pipe(qt(t=>t.getRedirectResult().then(t=>t,()=>null)),d,Gb({bufferSize:1,refCount:!1})),e=t=>new It.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(qt(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(qt(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Qb(n),Object(Yb.a)(h.outsideAngular),Object(Oi.b)(h.insideAngular)),this.user=t.pipe(Qb(r),Object(Yb.a)(h.outsideAngular),Object(Oi.b)(h.insideAngular)),this.idToken=this.user.pipe(qt(t=>t?Object(gt.a)(t.getIdToken()):Object(yt.a)(null))),this.idTokenResult=this.user.pipe(qt(t=>t?Object(gt.a)(t.getIdTokenResult()):Object(yt.a)(null))),this.credential=Object(Hb.a)(t,f,this.authState.pipe(Xt(t=>!t))).pipe(Object(Vt.a)(t=>(null==t?void 0:t.user)?t:null),Object(Yb.a)(h.outsideAngular),Object(Oi.b)(h.insideAngular))}return Object(Ci.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Ci.c),r.Wb(Ci.b,8),r.Wb(r.C),r.Wb(r.A),r.Wb(Jb,8),r.Wb(Xb,8),r.Wb(Zb,8),r.Wb(tv,8),r.Wb(ev,8),r.Wb(nv,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(Ci.c),Object(r.Wb)(Ci.b,8),Object(r.Wb)(r.C),Object(r.Wb)(r.A),Object(r.Wb)(Jb,8),Object(r.Wb)(Xb,8),Object(r.Wb)(Zb,8),Object(r.Wb)(tv,8),Object(r.Wb)(ev,8),Object(r.Wb)(nv,8))},token:t,providedIn:"any"}),t})();function iv(t,e){return function(t,e=bi.b){return new It.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function sv(t,e){return iv(t,e).pipe(Object(Vt.a)(t=>({payload:t,type:"query"})))}function ov(t,e){return sv(t,e).pipe(Gt(void 0),vi(),Object(Vt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function av(t,e,n){return ov(t,n).pipe(Qt((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return uv(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return uv(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return uv(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Si(void 0,void 0)),Object(Vt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function uv(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function cv(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(Ci.e)(rv,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class lv{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=ov(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Vt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Gt(void 0),vi(),Xt(([t,e])=>e.length>0||!t),Object(Vt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Qt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=cv(t);return av(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return sv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Vt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(gt.a)(this.query.get(t)).pipe(Object(Oi.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new hv(this.ref.doc(t),this.afs)}}class hv{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=yv(n,e);return new lv(r,i,this.afs)}snapshotChanges(){return iv(this.ref,this.afs.schedulers.outsideAngular).pipe(Gt(void 0),vi(),Object(Vt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Vt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(gt.a)(this.ref.get(t)).pipe(Object(Oi.b)(this.afs.schedulers.insideAngular))}}class dv{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?ov(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Vt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Xt(t=>t.length>0),this.afs.keepUnstableUntilFirst):ov(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Qt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=cv(t);return av(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return sv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Vt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(gt.a)(this.query.get(t)).pipe(Object(Oi.b)(this.afs.schedulers.insideAngular))}}const fv=new r.r("angularfire2.enableFirestorePersistence"),pv=new r.r("angularfire2.firestore.persistenceSettings"),mv=new r.r("angularfire2.firestore.settings"),gv=new r.r("angularfire2.firestore.use-emulator");function yv(t,e=(t=>t)){return{query:e(t),ref:t}}let bv,vv=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new Ci.d(s),this.keepUnstableUntilFirst=Object(Ci.h)(this.schedulers);const c=Object(Ci.g)(t,s,e);!Ti.a.auth&&u&&Object(Ci.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Ci.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!P(i)){const e=()=>{try{return Object(gt.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(Mb){return"undefined"!=typeof console&&console.warn(Mb),Object(yt.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(yt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=yv(n,e),s=this.schedulers.ngZone.run(()=>r);return new lv(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new dv(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new hv(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Ci.c),r.Wb(Ci.b,8),r.Wb(fv,8),r.Wb(mv,8),r.Wb(r.C),r.Wb(r.A),r.Wb(pv,8),r.Wb(gv,8),r.Wb(Jb,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(Ci.c),Object(r.Wb)(Ci.b,8),Object(r.Wb)(fv,8),Object(r.Wb)(mv,8),Object(r.Wb)(r.C),Object(r.Wb)(r.A),Object(r.Wb)(pv,8),Object(r.Wb)(gv,8),Object(r.Wb)(Jb,8))},token:t,providedIn:"any"}),t})(),_v=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:fv,useValue:!0},{provide:pv,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:[vv]}),t})();function wv(t){return Array.isArray(t)?t:[t]}function Sv(t){return null==t?"":"string"==typeof t?t:`${t}px`}try{bv="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(vI){bv=!1}let Ev,Ov=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!bv)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.C))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(r.C))},token:t,providedIn:"root"}),t})(),Cv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({}),t})();function Tv(){if(null==Ev){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ev=!1,Ev;if("scrollBehavior"in document.documentElement.style)Ev=!0;else{const t=Element.prototype.scrollTo;Ev=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Ev}let Iv=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(vI){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===Av(e))return!1;if(!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=Av(t);return t.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||xv(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Ov))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(Ov))},token:t,providedIn:"root"}),t})();function xv(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Av(t){if(!xv(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class kv extends class{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const e=this._getFirstTabbableElement(t);return null==e||e.focus(),!!e}return t.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Wt(1)).subscribe(t)}}{constructor(t,e,n,r,i,s,o){super(t,e,n,r,o.defer),this._focusTrapManager=i,this._inertStrategy=s,this._focusTrapManager.register(this)}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._enabled?this._focusTrapManager.register(this):this._focusTrapManager.deregister(this)}destroy(){this._focusTrapManager.deregister(this),super.destroy()}_enable(){this._inertStrategy.preventFocus(this),this.toggleAnchors(!0)}_disable(){this._inertStrategy.allowFocus(this),this.toggleAnchors(!1)}}const Rv="undefined"!=typeof Element&&!!Element.prototype.closest;function jv(t,e){return t.matches?t.matches(e):t.msMatchesSelector(e)}class Nv{constructor(){this._listener=null}preventFocus(t){this._listener&&t._document.removeEventListener("focus",this._listener,!0),this._listener=e=>this._trapFocus(t,e),t._ngZone.runOutsideAngular(()=>{t._document.addEventListener("focus",this._listener,!0)})}allowFocus(t){this._listener&&(t._document.removeEventListener("focus",this._listener,!0),this._listener=null)}_trapFocus(t,e){const n=e.target,r=t._element;r.contains(n)||null!==function(t,e){if(!(t instanceof Node))return null;let n=t;for(;null!=n&&!(n instanceof Element);)n=n.parentNode;return n&&(Rv?n.closest(e):function(t,e){let n=t;for(;null!=n&&!(n instanceof Element&&jv(n,"div.cdk-overlay-pane"));)n=n.parentNode;return n||null}(n))}(n,"div.cdk-overlay-pane")||setTimeout(()=>{t.enabled&&!r.contains(t._document.activeElement)&&t.focusFirstTabbableElement()})}}class Dv{constructor(){this.defer=!1}}const Pv=new r.r("FOCUS_TRAP_INERT_STRATEGY");let Lv=(()=>{class t{constructor(){this._focusTrapStack=[]}register(t){this._focusTrapStack=this._focusTrapStack.filter(e=>e!==t);let e=this._focusTrapStack;e.length&&e[e.length-1]._disable(),e.push(t),t._enable()}deregister(t){t._disable();const e=this._focusTrapStack,n=e.indexOf(t);-1!==n&&(e.splice(n,1),e.length&&e[e.length-1]._enable())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Fv=(()=>{class t{constructor(t,e,n,r,i){this._checker=t,this._ngZone=e,this._focusTrapManager=n,this._document=r,this._inertStrategy=i||new Nv}create(t,e=new Dv){let n;return"boolean"==typeof e?(n=new Dv,n.defer=e):n=e,new kv(t,this._checker,this._ngZone,this._document,this._focusTrapManager,this._inertStrategy,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Iv),r.Wb(r.A),r.Wb(Lv),r.Wb(o),r.Wb(Pv,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(Iv),Object(r.Wb)(r.A),Object(r.Wb)(Lv),Object(r.Wb)(o),Object(r.Wb)(Pv,8))},token:t,providedIn:"root"}),t})();const Mv="cdk-high-contrast-black-on-white",Vv="cdk-high-contrast-white-on-black",Uv="cdk-high-contrast-active";let qv=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Uv),t.remove(Mv),t.remove(Vv);const e=this.getHighContrastMode();1===e?(t.add(Uv),t.add(Mv)):2===e&&(t.add(Uv),t.add(Vv))}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Ov),r.Wb(o))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(Ov),Object(r.Wb)(o))},token:t,providedIn:"root"}),t})();const Bv=new r.r("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.W)(o)}});let Hv=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Bv,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(Bv,8))},token:t,providedIn:"root"}),t})(),zv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({}),t})();const Wv=new r.Q("11.2.11");class Kv{}const $v="*";function Gv(t,e=null){return{type:2,steps:t,options:e}}function Qv(t){return{type:6,styles:t,offset:null}}function Yv(t){Promise.resolve(null).then(t)}class Jv{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Yv(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Xv{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Yv(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Zv(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function t_(t){switch(t.length){case 0:return new Jv;case 1:return t[0];default:return new Xv(t)}}function e_(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case $v:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function n_(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&r_(n,"start",t)));break;case"done":t.onDone(()=>r(n&&r_(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&r_(n,"destroy",t)))}}function r_(t,e,n){const r=n.totalTime,i=i_(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function i_(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function s_(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function o_(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let a_=(t,e)=>!1,u_=(t,e)=>!1,c_=(t,e,n)=>[];const l_=Zv();(l_||"undefined"!=typeof Element)&&(a_=(t,e)=>t.contains(e),u_=(()=>{if(l_||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):u_}})(),c_=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let h_=null,d_=!1;function f_(t){h_||(h_=("undefined"!=typeof document?document.body:null)||{},d_=!!h_.style&&"WebkitAppearance"in h_.style);let e=!0;return h_.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in h_.style,!e&&d_)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in h_.style),e}const p_=u_,m_=a_,g_=c_;function y_(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let b_=(()=>{class t{validateStyleProperty(t){return f_(t)}matchesElement(t,e){return p_(t,e)}containsElement(t,e){return m_(t,e)}query(t,e,n){return g_(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Jv(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),v_=(()=>{class t{}return t.NOOP=new b_,t})();const __="ng-enter",w_="ng-leave",S_="ng-trigger",E_=".ng-trigger",O_="ng-animating",C_=".ng-animating";function T_(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:I_(parseFloat(e[1]),e[2])}function I_(t,e){switch(e){case"s":return 1e3*t;default:return t}}function x_(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=I_(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=I_(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function A_(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function k_(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else A_(t,n);return n}function R_(t,e,n){return n?e+":"+n+";":""}function j_(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=R_(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=R_(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function N_(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=q_(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Zv()&&j_(t))}function D_(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=q_(e);t.style[n]=""}),Zv()&&j_(t))}function P_(t){return Array.isArray(t)?1==t.length?t[0]:Gv(t):t}const L_=new RegExp("{{\\s*(.+?)\\s*}}","g");function F_(t){let e=[];if("string"==typeof t){let n;for(;n=L_.exec(t);)e.push(n[1]);L_.lastIndex=0}return e}function M_(t,e,n){const r=t.toString(),i=r.replace(L_,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function V_(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const U_=/-+([a-z0-9])/g;function q_(t){return t.replace(U_,(...t)=>t[1].toUpperCase())}function B_(t,e){return 0===t||0===e}function H_(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=W_(t,e)})}}return e}function z_(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function W_(t,e){return window.getComputedStyle(t)[e]}const K_="*";function $_(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(Y_(i,o)),"<"!=s[0]||i==K_&&o==K_||e.push(Y_(o,i))}(t,n,e)):n.push(t),n}const G_=new Set(["true","1"]),Q_=new Set(["false","0"]);function Y_(t,e){const n=G_.has(t)||Q_.has(t),r=G_.has(e)||Q_.has(e);return(i,s)=>{let o=t==K_||t==i,a=e==K_||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?G_.has(t):Q_.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?G_.has(e):Q_.has(e)),o&&a}}const J_=new RegExp("s*:selfs*,?","g");function X_(t,e,n){return new Z_(t).build(e,n)}class Z_{constructor(t){this._driver=t}build(t,e){const n=new tw(e);return this._resetContextStyleTimingState(n),z_(this,P_(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(ew(t)){const e=t;Object.keys(e).forEach(t=>{F_(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=V_(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=z_(this,P_(t.animation),e);return{type:1,matchers:$_(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:nw(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>z_(this,t,e)),options:nw(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=z_(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:nw(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return rw(x_(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=rw(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||x_(r,e),rw(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Qv({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Qv(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==$v?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(ew(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=F_(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(ew(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(ew(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:z_(this,P_(t.animation),e),options:nw(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:nw(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:nw(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(J_,"")),[t=t.replace(/@\*/g,E_).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,C_),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,s_(e.collectedStyles,e.currentQuerySelector,{});const o=z_(this,P_(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:nw(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:x_(t.timings,e.errors,!0);return{type:12,animation:z_(this,P_(t.animation),e),timings:n,options:null}}}class tw{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function ew(t){return!Array.isArray(t)&&"object"==typeof t}function nw(t){var e;return t?(t=A_(t)).params&&(t.params=(e=t.params)?A_(e):null):t={},t}function rw(t,e,n){return{duration:t,delay:e,easing:n}}function iw(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class sw{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const ow=new RegExp(":enter","g"),aw=new RegExp(":leave","g");function uw(t,e,n,r,i,s={},o={},a,u,c=[]){return(new cw).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class cw{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new sw;const l=new hw(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),z_(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[iw(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?T_(n.duration):null,s=null!=n.delay?T_(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),z_(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=lw);const t=T_(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>z_(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?T_(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),z_(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return x_(e.params?M_(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?T_(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=lw);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),z_(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;z_(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const lw={};class hw{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=lw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new dw(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=T_(n.duration)),null!=n.delay&&(r.delay=T_(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=M_(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new hw(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=lw,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new fw(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(ow,"."+this._enterClassName)).replace(aw,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class dw{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new dw(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||$v,this._currentKeyframe[t]=$v}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=$v})):k_(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=M_(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:$v),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=k_(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==$v&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?V_(t.values()):[],s=e.size?V_(e.values()):[];if(n){const t=r[0],e=A_(t);t.offset=0,e.offset=1,r=[t,e]}return iw(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class fw extends dw{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=k_(t[0],!1);a.offset=0,i.push(a);const u=k_(t[0],!1);u.offset=pw(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=k_(t[r],!1);o.offset=pw((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return iw(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function pw(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class mw{}class gw extends mw{normalizePropertyName(t,e){return q_(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(yw[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const yw=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function bw(t,e,n,r,i,s,o,a,u,c,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:d}}const vw={};class _w{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||vw,d=this.buildStyles(n,o&&o.params||vw,l),f=a&&a.params||vw,p=this.buildStyles(r,f,l),m=new Set,g=new Map,y=new Map,b="void"===r,v={params:Object.assign(Object.assign({},h),f)},_=c?[]:uw(t,e,this.ast.animation,i,s,d,p,v,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return bw(e,this._triggerName,n,r,b,d,p,[],[],g,y,w,l);_.forEach(t=>{const n=t.element,r=s_(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=s_(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const S=V_(m.values());return bw(e,this._triggerName,n,r,b,d,p,_,S,g,y,w)}}class ww{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=A_(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=M_(s,r,e)),n[t]=s})}}),n}}class Sw{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new ww(t.style,t.options&&t.options.params||{})}),Ew(this.states,"true","1"),Ew(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new _w(t,e,this.states))}),this.fallbackTransition=new _w(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Ew(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Ow=new sw;class Cw{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=X_(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=e_(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=uw(this._driver,e,i,__,w_,{},{},n,Ow,r),s.forEach(t=>{const e=s_(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,$v)})});const a=t_(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=i_(e,"","","");return n_(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Tw="ng-animate-queued",Iw="ng-animate-disabled",xw=".ng-animate-disabled",Aw=[],kw={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Rw={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class jw{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=A_(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Nw="void",Dw=new jw(Nw);class Pw{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Bw(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=s_(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=s_(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Bw(t,S_),Bw(t,"ng-trigger-"+e),a[e]=Dw),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new Fw(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Bw(t,S_),Bw(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new jw(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=Dw),u.value!==Nw&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{D_(t,n),N_(t,r)})}return}const c=s_(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(Bw(t,Tw),s.onStart(()=>{Hw(t,Tw)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,E_,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,Nw,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&t_(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||Dw,a=new jw(Nw),u=new Fw(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==kw||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Bw(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=i_(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,n_(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Lw{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Pw(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Mw(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Mw(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Bw(t,Iw)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Hw(t,Iw))}removeNode(t,e,n,r){if(Mw(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Mw(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,E_,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,C_,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return t_(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=kw,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,xw)&&this.markElementAsDisabled(t,!1),this.driver.query(t,xw,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Bw(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?t_(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new sw,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=qw(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=__+p++;f.set(e,n),t.forEach(t=>Bw(t,n))});const m=[],g=new Set,y=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){const t=this.collectedLeaveElements[k],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const b=new Map,v=qw(h,Array.from(g));v.forEach((t,e)=>{const n=w_+p++;b.set(e,n),t.forEach(t=>Bw(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>Hw(t,n))}),v.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>Hw(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=b.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>D_(i,p.fromStyles)),e.onDestroy(()=>N_(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>D_(i,p.fromStyles)),e.onDestroy(()=>N_(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>s_(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,E=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{s_(S,e,[]).push(t),t.destroy()})});const O=m.filter(t=>Kw(t,a,u)),C=new Map;Uw(C,this.driver,y,u,$v).forEach(t=>{Kw(t,a,u)&&O.push(t)});const T=new Map;d.forEach((t,e)=>{Uw(T,this.driver,new Set(t),a,"!")}),O.forEach(t=>{const e=C.get(t),n=T.get(t);C.set(t,Object.assign(Object.assign({},e),n))});const I=[],x=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>N_(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=A;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,S,i,T,C);if(s.setRealPlayer(n),t===A)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=t_(e)),r.push(s)}}else D_(e,o.fromStyles),s.onDestroy(()=>N_(e,o.toStyles)),x.push(s),c.has(e)&&r.push(s)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=t_(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let k=0;k<m.length;k++){const t=m[k],e=t.__ng_removed;if(Hw(t,w_),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,C_,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?zw(this,t,r):this.processLeaveNode(t)}return m.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==Nw;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=s_(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}D_(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Jv(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return Ww(t,e),e}((n.get(h)||Aw).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=e_(0,this._normalizer,0,e.keyframes,m,g),b=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new Fw(t,o,h);e.setRealPlayer(b),u.push(e)}return b});u.forEach(t=>{s_(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>Bw(t,O_));const d=t_(h);return d.onDestroy(()=>{c.forEach(t=>Hw(t,O_)),N_(a,e.toStyles)}),l.forEach(t=>{s_(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Jv(t.duration,t.delay)}}class Fw{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Jv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>n_(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){s_(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Mw(t){return t&&1===t.nodeType}function Vw(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Uw(t,e,n,r,i){const s=[];n.forEach(t=>s.push(Vw(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Rw,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>Vw(t,s[a++])),o}function qw(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function Bw(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Hw(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function zw(t,e,n){t_(n).onDone(()=>t.processLeaveNode(e))}function Ww(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof Xv?Ww(r.players,e):e.push(r)}}function Kw(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class $w{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Lw(t,e,n),this._timelineEngine=new Cw(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=X_(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Sw(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=o_(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=o_(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Gw(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Yw(e[0]),e.length>1&&(r=Yw(e[e.length-1]))):e&&(n=Yw(e)),n||r?new Qw(t,n,r):null}let Qw=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&N_(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(N_(this._element,this._initialStyles),this._endStyles&&(N_(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(D_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(D_(this._element,this._endStyles),this._endStyles=null),N_(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Yw(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Jw(i)&&(e=e||{},e[i]=t[i])}return e}function Jw(t){return"display"===t||"position"===t}const Xw="animation",Zw="animationend";class tS{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=oS(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),sS(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),iS(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){eS(this._element,this._name,"paused")}resume(){eS(this._element,this._name,"running")}setPosition(t){const e=nS(this._element,this._name);this._position=t*this._duration,sS(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),iS(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=oS(t,"").split(","),r=rS(n,e);r>=0&&(n.splice(r,1),sS(t,"",n.join(",")))}(this._element,this._name))}}function eS(t,e,n){sS(t,"PlayState",n,nS(t,e))}function nS(t,e){const n=oS(t,"");return n.indexOf(",")>0?rS(n.split(","),e):rS([n],e)}function rS(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function iS(t,e,n){n?t.removeEventListener(Zw,e):t.addEventListener(Zw,e)}function sS(t,e,n,r){const i=Xw+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function oS(t,e){return t.style[Xw+e]||""}class aS{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new tS(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:W_(this.element,n))})}this.currentSnapshot=t}}class uS extends Jv{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=y_(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class cS{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return f_(t)}matchesElement(t,e){return p_(t,e)}containsElement(t,e){return m_(t,e)}query(t,e,n){return g_(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>y_(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof aS),u={};B_(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=H_(t,e,u));if(0==n)return new uS(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=Gw(t,e),f=new aS(t,e,l,n,r,i,c,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class lS{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:W_(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class hS{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(dS().toString()),this._cssKeyframesDriver=new cS}validateStyleProperty(t){return f_(t)}matchesElement(t,e){return p_(t,e)}containsElement(t,e){return m_(t,e)}query(t,e,n){return g_(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof lS);B_(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=Gw(t,e=H_(t,e=e.map(t=>k_(t,!1)),u));return new lS(t,e,a,l)}}function dS(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let fS=(()=>{class t extends Kv{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.S.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Gv(t):t;return gS(this._renderer,null,e,"register",[n]),new pS(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.G),r.Wb(o))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class pS extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new mS(this._id,t,e||{},this._renderer)}}class mS{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return gS(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function gS(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const yS="@",bS="@.disabled";let vS=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new _S("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new wS(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.G),r.Wb($w),r.Wb(r.A))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class _S{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==yS&&e==bS?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class wS extends _S{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==yS?"."==e.charAt(1)&&e==bS?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==yS){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=yS&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let SS=(()=>{class t extends $w{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(o),r.Wb(v_),r.Wb(mw))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const ES=new r.r("AnimationModuleType"),OS=[{provide:v_,useFactory:function(){return"function"==typeof dS()?new hS:new cS}},{provide:ES,useValue:"BrowserAnimations"},{provide:Kv,useClass:fS},{provide:mw,useFactory:function(){return new gw}},{provide:$w,useClass:SS},{provide:r.G,useFactory:function(t,e,n){return new vS(t,e,n)},deps:[tt,$w,r.A]}];let CS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:OS,imports:[mt]}),t})();const TS=new r.Q("11.2.11"),IS=new r.r("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let xS,AS=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(r.X)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&TS.full!==Wv.full&&console.warn("The Angular Material version ("+TS.full+") does not match the Angular CDK version ("+Wv.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(qv),r.Wb(IS,8),r.Wb(o))},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[zv],zv]}),t})();function kS(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}try{xS="undefined"!=typeof Intl}catch(vI){xS=!1}var RS=n("z6cu"),jS=n("XoHu");function NS(...t){if(1===t.length){const e=t[0];if(Object(St.a)(e))return DS(e,null);if(Object(jS.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return DS(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return DS(t=1===t.length&&Object(St.a)(t[0])?t[0]:t,null).pipe(Object(Vt.a)(t=>e(...t)))}return DS(t,null)}function DS(t,e){return new It.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Object(gt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}var PS=n("w1tV");class LS{}class FS{}class MS{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof MS?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new MS;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof MS?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class VS{encodeKey(t){return US(t)}encodeValue(t){return US(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function US(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class qS{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new VS,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new qS({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function BS(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function HS(t){return"undefined"!=typeof Blob&&t instanceof Blob}function zS(t){return"undefined"!=typeof FormData&&t instanceof FormData}class WS{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new MS),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new qS,this.urlWithParams=e}serializeBody(){return null===this.body?null:BS(this.body)||HS(this.body)||zS(this.body)||"string"==typeof this.body?this.body:this.body instanceof qS?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||zS(this.body)?null:HS(this.body)?this.body.type||null:BS(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qS?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new WS(e,n,i,{params:u,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var KS=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class $S{constructor(t,e=200,n="OK"){this.headers=t.headers||new MS,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class GS extends $S{constructor(t={}){super(t),this.type=KS.ResponseHeader}clone(t={}){return new GS({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class QS extends $S{constructor(t={}){super(t),this.type=KS.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new QS({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class YS extends $S{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function JS(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let XS=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof WS)r=t;else{let i,s;i=n.headers instanceof MS?n.headers:new MS(n.headers),n.params&&(s=n.params instanceof qS?n.params:new qS({fromObject:n.params})),r=new WS(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(yt.a)(r).pipe(se(t=>this.handler.handle(t)));if(t instanceof WS||"events"===n.observe)return i;const s=i.pipe(Xt(t=>t instanceof QS));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(Vt.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(Vt.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(Vt.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(Vt.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new qS).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,JS(n,e))}post(t,e,n={}){return this.request("POST",t,JS(n,e))}put(t,e,n={}){return this.request("PUT",t,JS(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(LS))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class ZS{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const tE=new r.r("HTTP_INTERCEPTORS");let eE=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const nE=/^\)\]\}',?\n/;class rE{}let iE=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),sE=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new It.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new MS(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new GS({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(nE,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new QS({body:u,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new YS({error:u,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new YS({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(s()),u=!0);let i={type:KS.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:KS.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:KS.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(rE))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const oE=new r.r("XSRF_COOKIE_NAME"),aE=new r.r("XSRF_HEADER_NAME");class uE{}let cE=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=x(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(o),r.Wb(r.C),r.Wb(oE))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),lE=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(uE),r.Wb(aE))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),hE=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(tE,[]);this.chain=t.reduceRight((t,e)=>new ZS(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(FS),r.Wb(r.s))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),dE=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:lE,useClass:eE}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:oE,useValue:e.cookieName}:[],e.headerName?{provide:aE,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:[lE,{provide:tE,useExisting:lE,multi:!0},{provide:uE,useClass:cE},{provide:oE,useValue:"XSRF-TOKEN"},{provide:aE,useValue:"X-XSRF-TOKEN"}]}),t})(),fE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:[XS,{provide:LS,useClass:hE},sE,{provide:FS,useExisting:sE},iE,{provide:rE,useExisting:iE}],imports:[[dE.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();const pE=["*"];function mE(t){return Error(`Unable to find icon with the name "${t}"`)}function gE(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function yE(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class bE{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let vE=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new bE(n,null,r))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,i){const s=this._sanitizer.sanitize(r.J.HTML,n);if(!s)throw yE(n);return this._addSvgIconConfig(t,e,new bE("",s,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new bE(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(r.J.HTML,e);if(!i)throw yE(e);return this._addSvgIconSetConfig(t,new bE("",i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(r.J.RESOURCE_URL,t);if(!e)throw gE(t);const n=this._cachedIconsByUrl.get(e);return n?Object(yt.a)(_E(n)):this._loadSvgIconFromConfig(new bE(t,null)).pipe(Object(be.a)(t=>this._cachedIconsByUrl.set(e,t)),Object(Vt.a)(t=>_E(t)))}getNamedSvgIcon(t,e=""){const n=wE(e,t);let r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(e,t),r)return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):Object(RS.a)(mE(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Object(yt.a)(_E(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Object(Vt.a)(t=>_E(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Object(yt.a)(n):NS(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(ee(e=>{const n=this._sanitizer.sanitize(r.J.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),Object(yt.a)(null)})))).pipe(Object(Vt.a)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw mE(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgText&&r.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(e,t,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Object(be.a)(e=>t.svgText=e),Object(Vt.a)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Object(yt.a)(null):this._fetchIcon(t).pipe(Object(be.a)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:i}=t,s=null!==(e=null==i?void 0:i.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(r.J.RESOURCE_URL,n);if(!o)throw gE(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const u=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(we(()=>this._inProgressUrlFetches.delete(o)),Object(PS.a)());return this._inProgressUrlFetches.set(o,u),u}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(wE(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let r=0;r<this._resolvers.length;r++){const i=this._resolvers[r](e,t);if(i)return(n=i).url&&n.options?new bE(i.url,null,i.options):new bE(i,null)}var n}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(XS,8),r.Wb(lt),r.Wb(o,8),r.Wb(r.m))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(XS,8),Object(r.Wb)(lt),Object(r.Wb)(o,8),Object(r.Wb)(r.m))},token:t,providedIn:"root"}),t})();function _E(t){return t.cloneNode(!0)}function wE(t,e){return t+":"+e}class SE{constructor(t){this._elementRef=t}}const EE=kS(SE),OE=new r.r("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(r.W)(o),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),CE=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],TE=CE.map(t=>`[${t}]`).join(", "),IE=/^url\(['"]?#(.*?)['"]?\)$/;let xE=(()=>{class t extends EE{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=_e.a.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){var e;this._inline=null!=(e=t)&&"false"!=`${e}`}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let r=0;r<e.length;r++)e[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(TE),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)CE.forEach(t=>{const i=e[r],s=i.getAttribute(t),o=s?s.match(IE):null;if(o){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:o[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(Wt(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(vE),r.Xb("aria-hidden"),r.Nb(OE),r.Nb(r.m))},t.\u0275cmp=r.Hb({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Db("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),r.Fb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.zb],ngContentSelectors:pE,decls:1,vars:0,template:function(t,e){1&t&&(r.dc(),r.cc(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),AE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[AS],AS]}),t})(),kE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-navbar"]],decls:21,vars:0,consts:[["color","primary",1,"mynav","navbar","navbar-expand-md","fixed-top"],["mat-icon-button","","data-toggle","collapse","data-target","#collapsibleNavbar",1,"navbar-toggler"],[2,"color","whitesmoke"],["id","collapsibleNavbar",1,"collapse","navbar-collapse"],[1,"navbar-nav","nav-fill","w-100"],[1,"nav-item"],["href","#profile",1,"nav-link"],["href","#background",1,"nav-link"],["href","#projects",1,"nav-link"],["href","#skills",1,"nav-link"],["href","#contact",1,"nav-link"]],template:function(t,e){1&t&&(r.Sb(0,"nav",0),r.Sb(1,"button",1),r.Sb(2,"mat-icon",2),r.qc(3,"menu"),r.Rb(),r.Rb(),r.Sb(4,"div",3),r.Sb(5,"ul",4),r.Sb(6,"li",5),r.Sb(7,"a",6),r.qc(8,"Profile"),r.Rb(),r.Rb(),r.Sb(9,"li",5),r.Sb(10,"a",7),r.qc(11,"Background"),r.Rb(),r.Rb(),r.Sb(12,"li",5),r.Sb(13,"a",8),r.qc(14,"Projects"),r.Rb(),r.Rb(),r.Sb(15,"li",5),r.Sb(16,"a",9),r.qc(17,"Skills"),r.Rb(),r.Rb(),r.Sb(18,"li",5),r.Sb(19,"a",10),r.qc(20,"Contact"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb())},directives:[xE],styles:[".items[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}"]}),t})(),RE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-intro"]],decls:28,vars:0,consts:[[1,"container"],[1,"intron"],[1,"name"],[1,"status"],["src","assets/mypic.jpg",1,"avatar","mx-auto","d-block"],[1,"socialset"],["href","https://dev.to/suryavamsi6",1,"social",2,"color","inherit"],[1,"fab","fa-dev",2,"font-size","25px"],["href","https://twitter.com/d_suryavamsi",1,"social",2,"color","#55acee"],[1,"fab","fa-twitter",2,"font-size","25px"],["href","https://www.reddit.com/user/suryavamsi06",1,"social",2,"color","#ff4500"],[1,"fab","fa-reddit",2,"font-size","25px"],["href","https://github.com/suryavamsi6",1,"social",2,"color","#333"],[1,"fab","fa-github",2,"font-size","25px"],["href","https://www.linkedin.com/in/surya-vamsi-d-78bb58111/",1,"social",2,"color","#0976b4"],[1,"fab","fa-linkedin",2,"font-size","25px"],[2,"font-family","Helvetica, sans-serif"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"h1",1),r.qc(2,"Hi, I'm "),r.Sb(3,"span",2),r.qc(4,"Surya Vamsi D!"),r.Rb(),r.Rb(),r.Sb(5,"p",3),r.qc(6,"Computer Science Enginnering Student"),r.Rb(),r.Ob(7,"br"),r.Ob(8,"img",4),r.Ob(9,"br"),r.Sb(10,"div",5),r.Sb(11,"a",6),r.Ob(12,"i",7),r.Rb(),r.qc(13,"\xa0 "),r.Sb(14,"a",8),r.Ob(15,"i",9),r.Rb(),r.qc(16,"\xa0 "),r.Sb(17,"a",10),r.Ob(18,"i",11),r.Rb(),r.qc(19,"\xa0 "),r.Sb(20,"a",12),r.Ob(21,"i",13),r.Rb(),r.qc(22,"\xa0 "),r.Sb(23,"a",14),r.Ob(24,"i",15),r.Rb(),r.Rb(),r.Ob(25,"br"),r.Sb(26,"p",16),r.qc(27,"It has been my passion and hobby to learn and try out new things. This has led me to developing Android Applications, Websites and other Projects. I have Intermediate to Advanced knowledge in most of the Popular Programming Languages (C,C++,Java,Python,etc.). I love structure and order and I try to keep things simple. I also love to optimize and tweak my Projects. Browse my Site to learn more about me."),r.Rb(),r.Rb())},styles:['@charset "UTF-8";.intron[_ngcontent-%COMP%], .status[_ngcontent-%COMP%]{display:flex;justify-content:center}.name[_ngcontent-%COMP%]:before{content:"\xa0"}.socialset[_ngcontent-%COMP%]{display:flex;justify-content:center}.social[_ngcontent-%COMP%]:before{content:"\xa0\xa0"}']}),t})(),jE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-profile"]],decls:20,vars:0,consts:[["id","profile",1,"container"],[1,"head"],[1,"col"],[1,"row"],[1,"ident"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"h2",1),r.qc(2,"Profile"),r.Rb(),r.Ob(3,"br"),r.Sb(4,"div",2),r.Sb(5,"div",3),r.Sb(6,"p"),r.Sb(7,"span",4),r.qc(8,"First Name :"),r.Rb(),r.qc(9," Surya Vamsi"),r.Rb(),r.Rb(),r.Sb(10,"div",3),r.Sb(11,"p"),r.Sb(12,"span",4),r.qc(13,"Last Name :"),r.Rb(),r.qc(14," D"),r.Rb(),r.Rb(),r.Sb(15,"div",3),r.Sb(16,"p"),r.Sb(17,"span",4),r.qc(18,"Date of Birth :"),r.Rb(),r.qc(19," 15 February 2000"),r.Rb(),r.Rb(),r.Rb(),r.Rb())},styles:['@charset "UTF-8";.head[_ngcontent-%COMP%]{display:flex;justify-content:center}.ident[_ngcontent-%COMP%]:after{content:"\xa0"}']}),t})(),NE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-background"]],decls:46,vars:0,consts:[[2,"background-color","#0a1930"],["id","background",1,"container"],[1,"head",2,"color","#ccd7f7"],[2,"color","#5bc9b7","font-family","'Roboto', sans-serif"],[1,"fa-ul"],[1,"fa-li",2,"color","#5bc9b7"],[1,"fa","fa-greater-than",2,"font-size","12px"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"h2",2),r.qc(3,"Background"),r.Rb(),r.Ob(4,"br"),r.Sb(5,"h4",3),r.qc(6,"Education: "),r.Rb(),r.Ob(7,"br"),r.Sb(8,"h6"),r.qc(9,"Bachelor of Technology in Computer Science(2021) - SASTRA University"),r.Rb(),r.Ob(10,"br"),r.Sb(11,"h6"),r.qc(12,"XII - Kendriya Vidyalaya"),r.Rb(),r.Ob(13,"br"),r.Sb(14,"h6"),r.qc(15,"X - Kendriya Vidyalaya"),r.Rb(),r.Ob(16,"br"),r.Ob(17,"br"),r.Sb(18,"h4",3),r.qc(19,"Languages That I Speak: "),r.Rb(),r.Ob(20,"br"),r.Sb(21,"ul",4),r.Sb(22,"li"),r.Sb(23,"span",5),r.Ob(24,"i",6),r.Rb(),r.qc(25,"\xa0 English"),r.Rb(),r.Ob(26,"br"),r.Sb(27,"li"),r.Sb(28,"span",5),r.Ob(29,"i",6),r.Rb(),r.qc(30,"\xa0 Tamil"),r.Rb(),r.Ob(31,"br"),r.Sb(32,"li"),r.Sb(33,"span",5),r.Ob(34,"i",6),r.Rb(),r.qc(35,"\xa0 Hindi"),r.Rb(),r.Ob(36,"br"),r.Sb(37,"li"),r.Sb(38,"span",5),r.Ob(39,"i",6),r.Rb(),r.qc(40,"\xa0 Malayalam"),r.Rb(),r.Ob(41,"br"),r.Sb(42,"li"),r.Sb(43,"span",5),r.Ob(44,"i",6),r.Rb(),r.qc(45,"\xa0 Telugu"),r.Rb(),r.Rb(),r.Rb(),r.Rb())},styles:[".head[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),t})();const DE=["*",[["mat-card-footer"]]],PE=["*","mat-card-footer"];let LE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),FE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),t})(),ME=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-card-footer"]}),t})(),VE=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(ES,8))},t.\u0275cmp=r.Hb({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&r.Fb("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:PE,decls:2,vars:0,template:function(t,e){1&t&&(r.dc(DE),r.cc(0),r.cc(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),UE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[AS],AS]}),t})();function qE(t,e){if(1&t&&(r.Qb(0),r.Sb(1,"div",4),r.Sb(2,"a",5),r.Sb(3,"mat-card",6),r.Sb(4,"mat-card-title",7),r.Sb(5,"h5",8),r.qc(6),r.Rb(),r.Rb(),r.Ob(7,"i",9),r.Sb(8,"mat-card-content",10),r.qc(9),r.Rb(),r.Ob(10,"br"),r.Sb(11,"mat-card-footer",11),r.qc(12),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Pb()),2&t){const t=e.$implicit;r.Cb(3),r.nc("background-color",t.background)("color",t.color),r.Cb(3),r.rc(t.title),r.Cb(1),r.ec("ngClass",t.iconclass),r.Cb(2),r.sc(" ",t.description," "),r.Cb(3),r.rc(t.languages)}}let BE=(()=>{class t{constructor(t){this.firestore=t,this.projectlist=[]}ngOnInit(){this.firestore.collection("projectslist").get().subscribe(t=>{t.docs.forEach(t=>{this.projectlist.push(t.data())})})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(vv))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-projects"]],decls:7,vars:1,consts:[["id","projects",1,"container"],[1,"head"],[1,"row"],[4,"ngFor","ngForOf"],[1,"col-md-4"],["href"," https://www.sastra.edu/theta20/home.html","target","_blank ",2,"color","inherit","text-decoration","none"],["tabindex","1",1,"card",2,"border","none"],[1,"card-title"],[2,"font-family","'Roboto', sans-serif"],[2,"font-size","40px",3,"ngClass"],[1,"card-text","card-body"],[1,"lang"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"h2",1),r.qc(2,"Projects"),r.Rb(),r.Ob(3,"br"),r.Sb(4,"div",2),r.oc(5,qE,13,8,"ng-container",3),r.Rb(),r.Ob(6,"br"),r.Rb()),2&t&&(r.Cb(5),r.ec("ngForOf",e.projectlist))},directives:[R,VE,FE,A,LE,ME],styles:[".head[_ngcontent-%COMP%], .icon[_ngcontent-%COMP%]{display:flex;justify-content:center}.card-title[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.lang[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),t})(),HE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-skills"]],decls:126,vars:0,consts:[[2,"background-color","#0a1930"],["id","skills",1,"container"],[1,"head",2,"color","#ccd7f7"],[1,"row"],[1,"col-md-4"],[2,"color","#5bc9b7","font-family","'Roboto', sans-serif"],[1,"fa-ul"],[1,"fa-li",2,"color","#5bc9b7"],[1,"fa","fa-greater-than",2,"font-size","12px"],[1,"col-md-4","offset-md-4"],[1,"row",2,"padding-top","100px"],[1,"offset-md-4","col-md-4"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"h2",2),r.qc(3,"Skills"),r.Rb(),r.Ob(4,"br"),r.Sb(5,"div",3),r.Sb(6,"div",4),r.Sb(7,"h4",5),r.qc(8,"Languages That I Can Code In: "),r.Rb(),r.Ob(9,"br"),r.Sb(10,"ul",6),r.Sb(11,"li"),r.Sb(12,"span",7),r.Ob(13,"i",8),r.Rb(),r.qc(14,"\xa0 C "),r.Rb(),r.Ob(15,"br"),r.Sb(16,"li"),r.Sb(17,"span",7),r.Ob(18,"i",8),r.Rb(),r.qc(19,"\xa0 C++"),r.Rb(),r.Ob(20,"br"),r.Sb(21,"li"),r.Sb(22,"span",7),r.Ob(23,"i",8),r.Rb(),r.qc(24,"\xa0 Python"),r.Rb(),r.Ob(25,"br"),r.Sb(26,"li"),r.Sb(27,"span",7),r.Ob(28,"i",8),r.Rb(),r.qc(29,"\xa0 Java"),r.Rb(),r.Ob(30,"br"),r.Sb(31,"li"),r.Sb(32,"span",7),r.Ob(33,"i",8),r.Rb(),r.qc(34,"\xa0 HTML"),r.Rb(),r.Ob(35,"br"),r.Sb(36,"li"),r.Sb(37,"span",7),r.Ob(38,"i",8),r.Rb(),r.qc(39,"\xa0 CSS"),r.Rb(),r.Ob(40,"br"),r.Sb(41,"li"),r.Sb(42,"span",7),r.Ob(43,"i",8),r.Rb(),r.qc(44,"\xa0 Typescript"),r.Rb(),r.Ob(45,"br"),r.Sb(46,"li"),r.Sb(47,"span",7),r.Ob(48,"i",8),r.Rb(),r.qc(49,"\xa0 JavaScript"),r.Rb(),r.Rb(),r.Rb(),r.Sb(50,"div",9),r.Sb(51,"h4",5),r.qc(52,"Frameworks I am Familiar With: "),r.Rb(),r.Ob(53,"br"),r.Sb(54,"ul",6),r.Sb(55,"li"),r.Sb(56,"span",7),r.Ob(57,"i",8),r.Rb(),r.qc(58,"\xa0 Bootstrap"),r.Rb(),r.Ob(59,"br"),r.Sb(60,"li"),r.Sb(61,"span",7),r.Ob(62,"i",8),r.Rb(),r.qc(63,"\xa0 Tensorflow/Keras"),r.Rb(),r.Ob(64,"br"),r.Sb(65,"li"),r.Sb(66,"span",7),r.Ob(67,"i",8),r.Rb(),r.qc(68,"\xa0 Angular"),r.Rb(),r.Ob(69,"br"),r.Rb(),r.Rb(),r.Rb(),r.Sb(70,"div",10),r.Sb(71,"div",4),r.Sb(72,"h4",5),r.qc(73,"Tools That I Work With: "),r.Rb(),r.Ob(74,"br"),r.Sb(75,"ul",6),r.Sb(76,"li"),r.Sb(77,"span",7),r.Ob(78,"i",8),r.Rb(),r.qc(79,"\xa0 Visual Studio Code"),r.Rb(),r.Ob(80,"br"),r.Sb(81,"li"),r.Sb(82,"span",7),r.Ob(83,"i",8),r.Rb(),r.qc(84,"\xa0 Pycharm"),r.Rb(),r.Ob(85,"br"),r.Sb(86,"li"),r.Sb(87,"span",7),r.Ob(88,"i",8),r.Rb(),r.qc(89,"\xa0 Android Studio"),r.Rb(),r.Ob(90,"br"),r.Sb(91,"li"),r.Sb(92,"span",7),r.Ob(93,"i",8),r.Rb(),r.qc(94,"\xa0 Eclipse"),r.Rb(),r.Ob(95,"br"),r.Sb(96,"li"),r.Sb(97,"span",7),r.Ob(98,"i",8),r.Rb(),r.qc(99,"\xa0 NetBeans"),r.Rb(),r.Ob(100,"br"),r.Sb(101,"li"),r.Sb(102,"span",7),r.Ob(103,"i",8),r.Rb(),r.qc(104,"\xa0 Anaconda"),r.Rb(),r.Ob(105,"br"),r.Rb(),r.Rb(),r.Sb(106,"div",11),r.Sb(107,"h4",5),r.qc(108,"OS's That I Can Use: "),r.Rb(),r.Ob(109,"br"),r.Sb(110,"ul",6),r.Sb(111,"li"),r.Sb(112,"span",7),r.Ob(113,"i",8),r.Rb(),r.qc(114,"\xa0 Windows"),r.Rb(),r.Ob(115,"br"),r.Sb(116,"li"),r.Sb(117,"span",7),r.Ob(118,"i",8),r.Rb(),r.qc(119,"\xa0 Mac"),r.Rb(),r.Ob(120,"br"),r.Sb(121,"li"),r.Sb(122,"span",7),r.Ob(123,"i",8),r.Rb(),r.qc(124,"\xa0 Linux (Arch and Debian Based)"),r.Rb(),r.Ob(125,"br"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb())},styles:[".head[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),t})(),zE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-contact"]],decls:13,vars:0,consts:[["id","contact",1,"container"],[1,"head"],[1,"mail"],["href","mailto: d.suryavamsi@gmail.com",1,"emailid"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"h2",1),r.qc(2,"Contact"),r.Rb(),r.Sb(3,"div",2),r.Sb(4,"div"),r.qc(5,"Want to get in touch with me?"),r.Rb(),r.Sb(6,"div"),r.qc(7,"Mail me at "),r.Sb(8,"a",3),r.qc(9,"d.suryavamsi@gmail.com"),r.Rb(),r.qc(10,","),r.Rb(),r.Sb(11,"div"),r.qc(12,"Or click on the floating button in bottom right corner."),r.Rb(),r.Rb(),r.Rb())},styles:['@charset "UTF-8";.head[_ngcontent-%COMP%]{justify-content:center}.head[_ngcontent-%COMP%], .mail[_ngcontent-%COMP%]{display:flex}.mail[_ngcontent-%COMP%]{align-items:center;flex-direction:column;font-size:large;font-weight:600}.emailid[_ngcontent-%COMP%]:before{content:"\xa0"}']}),t})(),WE=(()=>{class t{constructor(t){this.store=t}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(vv))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-root"]],decls:11,vars:0,consts:[[2,"background-color","#ffffff"]],template:function(t,e){1&t&&(r.Ob(0,"app-navbar"),r.Sb(1,"div",0),r.Ob(2,"br"),r.Ob(3,"br"),r.Ob(4,"br"),r.Ob(5,"app-intro"),r.Ob(6,"app-profile"),r.Rb(),r.Ob(7,"app-background"),r.Ob(8,"app-projects"),r.Ob(9,"app-skills"),r.Ob(10,"app-contact"))},directives:[kE,RE,jE,NE,BE,HE,zE],styles:[""]}),t})();function KE(t){return(KE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GE(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){$E(t,e,n[e])})}return t}function QE(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(u){i=!0,s=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var YE={},JE={};try{"undefined"!=typeof window&&(YE=window),"undefined"!=typeof document&&(JE=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(Mb){}var XE=(YE.navigator||{}).userAgent,ZE=void 0===XE?"":XE,tO=YE,eO=JE,nO=!!eO.documentElement&&!!eO.head&&"function"==typeof eO.addEventListener&&"function"==typeof eO.createElement,rO=(~ZE.indexOf("MSIE")||ZE.indexOf("Trident/"),"svg-inline--fa"),iO=[1,2,3,4,5,6,7,8,9,10],sO=iO.concat([11,12,13,14,15,16,17,18,19,20]),oO={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},aO=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",oO.GROUP,oO.SWAP_OPACITY,oO.PRIMARY,oO.SECONDARY].concat(iO.map(function(t){return"".concat(t,"x")})).concat(sO.map(function(t){return"w-".concat(t)})),tO.FontAwesomeConfig||{});eO&&"function"==typeof eO.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=QE(t,2),n=e[1],r=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=eO.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=r&&(aO[n]=r)});var uO=GE({},{familyPrefix:"fa",replacementClass:rO,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},aO);uO.autoReplaceSvg||(uO.observeMutations=!1);var cO=GE({},uO);tO.FontAwesomeConfig=cO;var lO=tO||{};lO.___FONT_AWESOME___||(lO.___FONT_AWESOME___={}),lO.___FONT_AWESOME___.styles||(lO.___FONT_AWESOME___.styles={}),lO.___FONT_AWESOME___.hooks||(lO.___FONT_AWESOME___.hooks={}),lO.___FONT_AWESOME___.shims||(lO.___FONT_AWESOME___.shims=[]);var hO=lO.___FONT_AWESOME___,dO=[];nO&&((eO.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(eO.readyState)||eO.addEventListener("DOMContentLoaded",function t(){eO.removeEventListener("DOMContentLoaded",t),dO.map(function(t){return t()})}));var fO,pO="pending",mO="settled",gO="fulfilled",yO="rejected",bO=function(){},vO="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,_O="undefined"==typeof setImmediate?setTimeout:setImmediate,wO=[];function SO(){for(var t=0;t<wO.length;t++)wO[t][0](wO[t][1]);wO=[],fO=!1}function EO(t,e){wO.push([t,e]),fO||(fO=!0,_O(SO,0))}function OO(t){var e=t.owner,n=e._state,r=e._data,i=t[n],s=t.then;if("function"==typeof i){n=gO;try{r=i(r)}catch(Mb){xO(s,Mb)}}CO(s,r)||(n===gO&&TO(s,r),n===yO&&xO(s,r))}function CO(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===KE(e))){var r=e.then;if("function"==typeof r)return r.call(e,function(r){n||(n=!0,e===r?IO(t,r):TO(t,r))},function(e){n||(n=!0,xO(t,e))}),!0}}catch(Mb){return n||xO(t,Mb),!0}return!1}function TO(t,e){t!==e&&CO(t,e)||IO(t,e)}function IO(t,e){t._state===pO&&(t._state=mO,t._data=e,EO(kO,t))}function xO(t,e){t._state===pO&&(t._state=mO,t._data=e,EO(RO,t))}function AO(t){t._then=t._then.forEach(OO)}function kO(t){t._state=gO,AO(t)}function RO(t){t._state=yO,AO(t),!t._handled&&vO&&global.process.emit("unhandledRejection",t._data,t)}function jO(t){global.process.emit("rejectionHandled",t)}function NO(t){if("function"!=typeof t)throw new TypeError("Promise resolver "+t+" is not a function");if(this instanceof NO==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(t,e){function n(t){xO(e,t)}try{t(function(t){TO(e,t)},n)}catch(Mb){n(Mb)}}(t,this)}NO.prototype={constructor:NO,_state:pO,_then:null,_data:void 0,_handled:!1,then:function(t,e){var n={owner:this,then:new this.constructor(bO),fulfilled:t,rejected:e};return!e&&!t||this._handled||(this._handled=!0,this._state===yO&&vO&&EO(jO,this)),this._state===gO||this._state===yO?EO(OO,n):this._then.push(n),n.then},catch:function(t){return this.then(null,t)}},NO.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new NO(function(e,n){var r=[],i=0;function s(t){return i++,function(n){r[t]=n,--i||e(r)}}for(var o,a=0;a<t.length;a++)(o=t[a])&&"function"==typeof o.then?o.then(s(a),n):r[a]=o;i||e(r)})},NO.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new NO(function(e,n){for(var r,i=0;i<t.length;i++)(r=t[i])&&"function"==typeof r.then?r.then(e,n):e(r)})},NO.resolve=function(t){return t&&"object"===KE(t)&&t.constructor===NO?t:new NO(function(e){e(t)})},NO.reject=function(t){return new NO(function(e,n){n(t)})};var DO=function(t,e,n,r){var i,s,o,a=Object.keys(t),u=a.length,c=void 0!==r?function(t,e){return function(n,r,i,s){return t.call(e,n,r,i,s)}}(e,r):e;for(void 0===n?(i=1,o=t[a[0]]):(i=0,o=n);i<u;i++)o=c(o,t[s=a[i]],s,t);return o};function PO(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,s=Object.keys(e).reduce(function(t,n){var r=e[n];return r.icon?t[r.iconName]=r.icon:t[n]=r,t},{});"function"!=typeof hO.hooks.addPack||i?hO.styles[t]=GE({},hO.styles[t]||{},s):hO.hooks.addPack(t,s),"fas"===t&&PO("fa",e)}var LO=hO.styles,FO=hO.shims,MO=function(){var t=function(t){return DO(LO,function(e,n,r){return e[r]=DO(n,t,{}),e},{})};t(function(t,e,n){return e[3]&&(t[e[3]]=n),t}),t(function(t,e,n){var r=e[2];return t[n]=n,r.forEach(function(e){t[e]=n}),t});var e="far"in LO;DO(FO,function(t,n){var r=n[1];return"far"!==r||e||(r="fas"),t[n[0]]={prefix:r,iconName:n[2]},t},{})};function VO(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}MO(),(VO.prototype=Object.create(Error.prototype)).constructor=VO;var UO={fill:"currentColor"},qO={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},BO=(GE({},UO,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),GE({},qO,{attributeName:"opacity"}));GE({},UO,{cx:"256",cy:"364",r:"28"}),GE({},qO,{attributeName:"r",values:"28;14;28;28;14;28;"}),GE({},BO,{values:"1;0;1;1;0;1;"}),GE({},UO,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),GE({},BO,{values:"1;0;0;0;0;1;"}),GE({},UO,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),GE({},BO,{values:"0;0;1;1;0;0;"}),new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.definitions={}}var e;return(e=[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(function(e){t.definitions[e]=GE({},t.definitions[e]||{},i[e]),PO(e,i[e]),MO()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map(function(e){var r=n[e],i=r.prefix,s=r.iconName,o=r.icon;t[i]||(t[i]={}),t[i][s]=o}),t}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}());let HO=(()=>{class t{constructor(){this.definitions={}}addIcons(...t){for(const e of t)e.prefix in this.definitions||(this.definitions[e.prefix]={}),this.definitions[e.prefix][e.iconName]=e}addIconPacks(...t){for(const e of t){const t=Object.keys(e).map(t=>e[t]);this.addIcons(...t)}}getIconDefinition(t,e){return t in this.definitions&&e in this.definitions[t]?this.definitions[t][e]:null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),zO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({}),t})(),WO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[AS],AS]}),t})();var KO=n("n6bG");function $O(t,e,n,r){return Object(KO.a)(n)&&(r=n,n=void 0),r?$O(t,e,n).pipe(Object(Vt.a)(t=>Object(St.a)(t)?r(...t):r(t))):new It.a(r=>{GO(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function GO(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)GO(t[s],e,n,r,i)}r.add(s)}function QO(t){return e=>e.lift(new YO(t))}class YO{constructor(t){this.notifier=t}call(t,e){const n=new JO(t),r=Object(Ut.c)(this.notifier,new Ut.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class JO extends Ut.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}class XO{}const ZO=new r.r("NgValueAccessor"),tC={provide:ZO,useExisting:Object(r.V)(()=>nC),multi:!0},eC=new r.r("CompositionEventMode");let nC=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.F),r.Nb(r.l),r.Nb(eC,8))},t.\u0275dir=r.Ib({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Zb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Bb([tC])]}),t})();const rC=new r.r("NgValidators"),iC=new r.r("NgAsyncValidators");function sC(t){return null!=t}function oC(t){const e=Object(r.tb)(t)?Object(gt.a)(t):t;return Object(r.sb)(e),e}function aC(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function uC(t,e){return e.map(e=>e(t))}function cC(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function lC(t){return null!=t?function(t){if(!t)return null;const e=t.filter(sC);return 0==e.length?null:function(t){return aC(uC(t,e))}}(cC(t)):null}function hC(t){return null!=t?function(t){if(!t)return null;const e=t.filter(sC);return 0==e.length?null:function(t){return NS(uC(t,e).map(oC)).pipe(Object(Vt.a)(aC))}}(cC(t)):null}function dC(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let fC=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=lC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=hC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t}),t})(),pC=(()=>{class t extends fC{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return mC(e||t)},t.\u0275dir=r.Ib({type:t,features:[r.zb]}),t})();const mC=r.Ub(pC);class gC extends fC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let yC=(()=>{class t extends class{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(gC,2))},t.\u0275dir=r.Ib({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Fb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.zb]}),t})();function bC(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function vC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function _C(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const wC="VALID",SC="INVALID",EC="PENDING",OC="DISABLED";function CC(t){return(AC(t)?t.validators:t)||null}function TC(t){return Array.isArray(t)?lC(t):t||null}function IC(t,e){return(AC(e)?e.asyncValidators:t)||null}function xC(t){return Array.isArray(t)?hC(t):t||null}function AC(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class kC{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=TC(this._rawValidators),this._composedAsyncValidatorFn=xC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===wC}get invalid(){return this.status===SC}get pending(){return this.status==EC}get disabled(){return this.status===OC}get enabled(){return this.status!==OC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=TC(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=xC(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=EC,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=OC,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=wC,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==wC&&this.status!==EC||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?OC:wC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=EC,this._hasOwnPendingAsyncValidator=!0;const e=oC(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof jC?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof NC&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?OC:this.errors?SC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(EC)?EC:this._anyControlsHaveStatus(SC)?SC:wC}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){AC(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class RC extends kC{constructor(t=null,e,n){super(CC(e),IC(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){_C(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){_C(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class jC extends kC{constructor(t,e,n){super(CC(e),IC(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof RC?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class NC extends kC{constructor(t,e,n){super(CC(e),IC(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof RC?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const DC={provide:gC,useExisting:Object(r.V)(()=>LC)},PC=(()=>Promise.resolve(null))();let LC=(()=>{class t extends gC{constructor(t,e,n,i){super(),this.control=new RC,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===nC?n=t:Object.getPrototypeOf(t.constructor)===XO?r=t:i=t}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var t,e;(function(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(dC(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(dC(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);{const n=()=>t.updateValueAndValidity();bC(e._rawValidators,n),bC(e._rawAsyncValidators,n)}})(t=this.control,e=this),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&vC(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&vC(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){PC.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;PC.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(pC,9),r.Nb(rC,10),r.Nb(iC,10),r.Nb(ZO,10))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Bb([DC]),r.zb,r.Ab]}),t})(),FC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({}),t})();const MC={provide:ZO,useExisting:Object(r.V)(()=>VC),multi:!0};let VC=(()=>{class t extends XO{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.F),r.Nb(r.l))},t.\u0275dir=r.Ib({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.Bb([MC]),r.zb]}),t})(),UC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[FC]]}),t})(),qC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[UC]}),t})();n("3N8a"),n("IjjT"),n("7Hc7");class BC{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new HC(t,this.durationSelector))}}class HC extends Ut.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(Ut.c)(n,new Ut.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var zC=n("Y7HM");function WC(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function KC(t,e=bi.a){return n=()=>function(t=0,e,n){let r=-1;return Object(zC.a)(e)?r=Number(e)<1?1:Number(e):Object(wt.a)(e)&&(n=e),Object(wt.a)(n)||(n=bi.a),new It.a(e=>{const i=Object(zC.a)(t)?t:+t-n.now();return n.schedule(WC,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new BC(n))};var n}let $C=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new bt.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new It.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(KC(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(yt.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Xt(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=(s=e)instanceof r.l?s.nativeElement:s,i=t.getElementRef().nativeElement;var s;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>$O(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.A),r.Wb(Ov),r.Wb(o,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(r.A),Object(r.Wb)(Ov),Object(r.Wb)(o,8))},token:t,providedIn:"root"}),t})(),GC=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new bt.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(KC(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Ov),r.Wb(r.A),r.Wb(o,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(Ov),Object(r.Wb)(r.A),Object(r.Wb)(o,8))},token:t,providedIn:"root"}),t})(),QC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({}),t})(),YC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[zv,Cv,QC],zv,QC]}),t})();class JC{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class XC extends JC{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class ZC extends JC{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class tT extends JC{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class eT{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof XC?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof ZC?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof tT?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class nT extends eT{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),this._attachedPortal=t,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let rT=(()=>{class t extends eT{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new r.n,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.j),r.Nb(r.R),r.Nb(o))},t.\u0275dir=r.Ib({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.zb]}),t})(),iT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({}),t})();const sT=Tv();class oT{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Sv(-this._previousScrollPosition.left),t.style.top=Sv(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),sT&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),sT&&(e.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class aT{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class uT{enable(){}disable(){}attach(){}}function cT(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function lT(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class hT{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();cT(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let dT=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new uT,this.close=t=>new aT(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new oT(this._viewportRuler,this._document),this.reposition=t=>new hT(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.Wb($C),r.Wb(GC),r.Wb(r.A),r.Wb(o))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)($C),Object(r.Wb)(GC),Object(r.Wb)(r.A),Object(r.Wb)(o))},token:t,providedIn:"root"}),t})();class fT{constructor(t){if(this.scrollStrategy=new uT,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class pT{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class mT{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let gT=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(o))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(o))},token:t,providedIn:"root"}),t})(),yT=(()=>{class t extends gT{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(o))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(o))},token:t,providedIn:"root"}),t})(),bT=(()=>{class t extends gT{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(o),r.Wb(Ov))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(o),Object(r.Wb)(Ov))},token:t,providedIn:"root"}),t})();const vT=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let _T=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||vT){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),vT?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(o),r.Wb(Ov))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(o),Object(r.Wb)(Ov))},token:t,providedIn:"root"}),t})();class wT{constructor(t,e,n,r,i,s,o,a,u){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=u,this._backdropElement=null,this._backdropClick=new bt.a,this._attachments=new bt.a,this._detachments=new bt.a,this._locationChanges=_e.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new bt.a,this._outsidePointerEvents=new bt.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Wt(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Sv(this._config.width),t.height=Sv(this._config.height),t.minWidth=Sv(this._config.minWidth),t.minHeight=Sv(this._config.minHeight),t.maxWidth=Sv(this._config.maxWidth),t.maxHeight=Sv(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;wv(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(QO(Object(Hb.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const ST="cdk-overlay-connected-position-bounding-box",ET=/([A-Za-z%]+)$/;class OT{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new bt.a,this._resizeSubscription=_e.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(ST),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),u=this._getOverlayFit(a,e,n,s);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(u,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<u.visibleArea)&&(i={overlayFit:u,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&CT(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ST),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){const i=IT(e);let{x:s,y:o}=t,a=this._getOffset(r,"x"),u=this._getOffset(r,"y");a&&(s+=a),u&&(o+=u);let c=0-o,l=o+i.height-n.height,h=this._subtractOverflows(i.width,0-s,s+i.width-n.width),d=this._subtractOverflows(i.height,c,l),f=h*d;return{visibleArea:f,isCompletelyWithinViewport:i.width*i.height===f,fitsInViewportVertically:d===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=TT(this._overlayRef.getConfig().minHeight),o=TT(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=IT(e),i=this._viewportRect,s=Math.max(t.x+r.width-i.width,0),o=Math.max(t.y+r.height-i.height,0),a=Math.max(i.top-n.top-t.y,0),u=Math.max(i.left-n.left-t.x,0);let c=0,l=0;return c=r.width<=i.width?u||-s:t.x<this._viewportMargin?i.left-n.left-t.x:0,l=r.height<=i.height?a||-o:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:c,y:l},{x:t.x+c,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new mT(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,u,c;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)c=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)u=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,u=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-r/2)}return{top:s,left:u,bottom:o,right:c,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=Sv(n.height),r.top=Sv(n.top),r.bottom=Sv(n.bottom),r.width=Sv(n.width),r.left=Sv(n.left),r.right=Sv(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=Sv(t)),i&&(r.maxWidth=Sv(i))}this._lastBoundingBoxSize=n,CT(this._boundingBox.style,r)}_resetBoundingBoxStyles(){CT(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){CT(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();CT(n,this._getExactOverlayY(e,t,r)),CT(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),u=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),u&&(o+=`translateY(${u}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=Sv(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=Sv(s.maxWidth):i&&(n.maxWidth="")),CT(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=Sv(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Sv(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:lT(t,n),isOriginOutsideView:cT(t,n),isOverlayClipped:lT(e,n),isOverlayOutsideView:cT(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&wv(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function CT(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function TT(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(ET);return n&&"px"!==n?null:parseFloat(e)}return t||null}function IT(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class xT{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new OT(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new pT(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const AT="cdk-global-overlay-wrapper";class kT{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(AT),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),u=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(AT),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let RT=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new kT}connectedTo(t,e,n){return new xT(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new OT(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(GC),r.Wb(o),r.Wb(Ov),r.Wb(_T))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(GC),Object(r.Wb)(o),Object(r.Wb)(Ov),Object(r.Wb)(_T))},token:t,providedIn:"root"}),t})(),jT=0,NT=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u,c,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=u,this._location=c,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new fT(t);return i.direction=i.direction||this._directionality.value,new wT(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+jT++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new nT(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(dT),r.Wb(_T),r.Wb(r.j),r.Wb(RT),r.Wb(yT),r.Wb(r.s),r.Wb(r.A),r.Wb(o),r.Wb(Hv),r.Wb(w),r.Wb(bT))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const DT={provide:new r.r("cdk-connected-overlay-scroll-strategy"),deps:[NT],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let PT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:[NT,DT],imports:[[zv,iT,YC],YC]}),t})();const LT=["dialog"];function FT(t,e){}const MT=["input"],VT=["thumb"],UT=["thumbValue"],qT=function(t){return{"thumb-active":t}};let BT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({}),t})();const HT={provide:ZO,useExisting:Object(r.V)(()=>WT),multi:!0};class zT{}let WT=(()=>{class t{constructor(){this._checked=!1,this._value=null,this._disabled=!1,this.checkboxChange=new r.n,this.onChange=t=>{},this.onTouched=()=>{}}get checked(){return this._checked}set checked(t){this._checked=t}get value(){return this._value}set value(t){this._value=t}get disabled(){return this._disabled}set disabled(t){this._disabled=t}get isDisabled(){return this._disabled}get isChecked(){return this._checked}onCheckboxClick(){this.toggle()}onBlur(){this.onTouched()}get changeEvent(){const t=new zT;return t.element=this,t.checked=this.checked,t}toggle(){this.disabled||(this._checked=!this._checked,this.onChange(this.checked),this.onCheckboxChange())}onCheckboxChange(){this.checkboxChange.emit(this.changeEvent)}writeValue(t){this.value=t,this.checked=!!t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","mdbCheckbox",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Zb("click",function(){return e.onCheckboxClick()})("blur",function(){return e.onBlur()}),2&t&&r.Vb("disabled",e.isDisabled)("checked",e.isChecked)},inputs:{checked:"checked",value:"value",disabled:"disabled"},outputs:{checkboxChange:"checkboxChange"},features:[r.Bb([HT])]}),t})(),KT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[D,qC]]}),t})(),$T=(()=>{class t{constructor(){this._checked=!1,this._value=null,this._disabled=!1}get name(){return this._name}set name(t){this._name=t}get checked(){return this._checked}set checked(t){this._checked=t}get value(){return this._value}set value(t){this._value=t}get disabled(){return this._disabled}set disabled(t){this._disabled=t}get isDisabled(){return this._disabled}get isChecked(){return this._checked}get nameAttr(){return this.name}_updateName(t){this._name=t}_updateChecked(t){this._checked=t}_updateDisabledState(t){this._disabled=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","mdbRadio",""]],hostVars:3,hostBindings:function(t,e){2&t&&(r.Vb("disabled",e.isDisabled)("checked",e.isChecked),r.Db("name",e.nameAttr))},inputs:{name:"name",checked:"checked",value:"value",disabled:"disabled"}}),t})();const GT={provide:ZO,useExisting:Object(r.V)(()=>QT),multi:!0};let QT=(()=>{class t{constructor(){this._disabled=!1,this._destroy$=new bt.a,this.onChange=t=>{},this.onTouched=()=>{}}get value(){return this._value}set value(t){this._value=t,this.radios&&this._updateChecked()}get name(){return this._name}set name(t){this._name=t,this.radios&&this._updateNames()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.radios&&this._updateDisabled()}ngAfterContentInit(){this._updateNames(),this._updateDisabled(),this.radios.changes.pipe(Gt(this.radios),qt(t=>Object(gt.a)(Promise.resolve(t))),QO(this._destroy$)).subscribe(()=>this._updateRadiosState())}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}_updateRadiosState(){this._updateNames(),this._updateChecked(),this._updateDisabled()}_updateNames(){this.radios.forEach(t=>t._updateName(this.name))}_updateChecked(){this.radios.forEach(t=>{t._updateChecked(t.value===this._value)})}_updateDisabled(){this.radios.forEach(t=>t._updateDisabledState(this._disabled))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._disabled=t,this._updateDisabled()}writeValue(t){this.value=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","mdbRadioGroup",""]],contentQueries:function(t,e,n){if(1&t&&r.Gb(n,$T,1),2&t){let t;r.ic(t=r.ac())&&(e.radios=t)}},inputs:{value:"value",name:"name",disabled:"disabled"},features:[r.Bb([GT])]}),t})(),YT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[D,qC]]}),t})(),JT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[D,PT]]}),t})(),XT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[D,PT]]}),t})(),ZT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[D,qC]]}),t})(),tI=(()=>{class t{constructor(t,e,n,r){this._document=t,this._elementRef=e,this._renderer=n,this._focusTrapFactory=r,this._destroy$=new bt.a,this.backdropClick$=new bt.a,this.BACKDROP_TRANSITION=150,this.MODAL_TRANSITION=200,this.modal=!0}get hasAnimation(){return this._config.animation}ngOnInit(){this._updateContainerClass(),this._renderer.addClass(this._document.body,"modal-open"),this._renderer.setStyle(this._document.body,"padding-right","15px"),this._renderer.setStyle(this._elementRef.nativeElement,"display","block"),this._previouslyFocusedElement=this._document.activeElement,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._config.animation?setTimeout(()=>{this._renderer.addClass(this._elementRef.nativeElement,"show"),setTimeout(()=>{this._focusTrap.focusInitialElementWhenReady()},this.MODAL_TRANSITION)},this.BACKDROP_TRANSITION):this._focusTrap.focusInitialElementWhenReady()}ngAfterViewInit(){this._config.ignoreBackdropClick||$O(this._elementRef.nativeElement,"click").pipe(Xt(t=>{const e=t.target,n=this.modalDialog.nativeElement,r=e!==n,i=!n.contains(e);return r&&i}),QO(this._destroy$)).subscribe(t=>{this.backdropClick$.next(t)})}ngOnDestroy(){this._previouslyFocusedElement.focus(),this._focusTrap.destroy(),this._destroy$.next(),this._destroy$.complete()}_updateContainerClass(){""===this._config.containerClass||this._config.containerClass.length&&0===this._config.containerClass.length||this._config.containerClass.split(" ").forEach(t=>{this._renderer.addClass(this._elementRef.nativeElement,t)})}_close(){this._config.animation&&this._renderer.removeClass(this._elementRef.nativeElement,"show");const t=Array.from(this._elementRef.nativeElement.querySelectorAll("iframe")),e=Array.from(this._elementRef.nativeElement.querySelectorAll("video"));t.forEach(t=>{const e=t.getAttribute("src");this._renderer.setAttribute(t,"src",e)}),e.forEach(t=>{t.pause()})}_restoreScrollbar(){this._renderer.removeClass(this._document.body,"modal-open"),this._renderer.removeStyle(this._document.body,"padding-right")}attachComponentPortal(t){return this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.attachTemplatePortal(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(o),r.Nb(r.l),r.Nb(r.F),r.Nb(Fv))},t.\u0275cmp=r.Hb({type:t,selectors:[["mdb-modal-container"]],viewQuery:function(t,e){if(1&t&&(r.tc(rT,3),r.tc(LT,3)),2&t){let t;r.ic(t=r.ac())&&(e._portalOutlet=t.first),r.ic(t=r.ac())&&(e.modalDialog=t.first)}},hostVars:4,hostBindings:function(t,e){2&t&&r.Fb("modal",e.modal)("fade",e.hasAnimation)},decls:4,vars:2,consts:[["dialog",""],[1,"modal-content"],["cdkPortalOutlet",""]],template:function(t,e){1&t&&(r.Sb(0,"div",null,0),r.Sb(2,"div",1),r.oc(3,FT,0,0,"ng-template",2),r.Rb(),r.Rb()),2&t&&r.Eb("modal-dialog"+(e._config.modalClass?" "+e._config.modalClass:""))},directives:[rT],encapsulation:2}),t})();class eI{constructor(){this.animation=!0,this.backdrop=!0,this.ignoreBackdropClick=!1,this.keyboard=!0,this.modalClass="",this.containerClass="",this.data=null}}class nI{constructor(t,e){this._overlayRef=t,this._container=e,this.onClose$=new bt.a,this.onClose=this.onClose$.asObservable()}close(t){this._container._close(),setTimeout(()=>{this._container._restoreScrollbar(),this.onClose$.next(t),this.onClose$.complete(),this._overlayRef.detach(),this._overlayRef.dispose()},this._container.MODAL_TRANSITION)}}let rI=(()=>{class t{constructor(t,e,n,r){this._document=t,this._overlay=e,this._injector=n,this._cfr=r}open(t,e){const n=new eI;e=e?Object.assign(n,e):n;const r=this._createOverlay(e),i=this._createContainer(r,e),s=this._createContent(t,i,r,e);return this._registerListeners(s,e,i),s}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){return new fT({positionStrategy:this._overlay.position().global(),scrollStrategy:this._overlay.scrollStrategies.noop(),hasBackdrop:t.backdrop,backdropClass:"mdb-backdrop"})}_createContainer(t,e){const n=new XC(tI,null,this._injector,this._cfr),r=t.attach(n);return r.instance._config=e,r.instance}_createContent(t,e,n,i){const s=new nI(n,e);if(t instanceof r.M)e.attachTemplatePortal(new ZC(t,null,{$implicit:i.data,modalRef:s}));else{const n=this._createInjector(i,s,e),r=e.attachComponentPortal(new XC(t,i.viewContainerRef,n));i.data&&Object.assign(r.instance,Object.assign({},i.data))}return s}_createInjector(t,e,n){return r.s.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:tI,useValue:n},{provide:nI,useValue:e}]})}_registerListeners(t,e,n){n.backdropClick$.pipe(Wt(1)).subscribe(()=>{t.close()}),e.keyboard&&$O(n._elementRef.nativeElement,"keydown").pipe(Xt(t=>"Escape"===t.key),Wt(1)).subscribe(()=>{t.close()})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(o),r.Wb(NT),r.Wb(r.s),r.Wb(r.j))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),iI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:[rI],imports:[[PT,iT]]}),t})(),sI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[D,PT]]}),t})(),oI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[]]}),t})(),aI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[D]]}),t})(),uI=(()=>{class t{constructor(){this.scrollSpys=[],this.activeSubject=new bt.a,this.active$=this.activeSubject}addScrollspy(t){this.scrollSpys.push(t)}removeScrollspy(t){const e=this.scrollSpys.findIndex(e=>e.id===t);this.scrollSpys.splice(e,1)}updateActiveState(t,e){const n=this.scrollSpys.find(e=>e.id===t);if(!n)return;const r=n.links.find(t=>t.id===e);this.setActiveLink(r)}removeActiveState(t,e){const n=this.scrollSpys.find(e=>e.id===t);if(!n)return;const r=n.links.find(t=>t.id===e);r&&(r.active=!1,r.detectChanges())}setActiveLink(t){t&&(t.active=!0,t.detectChanges(),this.activeSubject.next(t))}removeActiveLinks(t){const e=this.scrollSpys.find(e=>e.id===t);e&&e.links.forEach(t=>{t.active=!1,t.detectChanges()})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),cI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:[uI]}),t})();const lI={provide:ZO,useExisting:Object(r.V)(()=>hI),multi:!0};let hI=(()=>{class t{constructor(t){this._cdRef=t,this.min=0,this.max=100,this.rangeValueChange=new r.n,this.visibility=!1,this.onChange=t=>{},this.onTouched=()=>{}}onchange(t){this.onChange(t.target.value)}onInput(){this.rangeValueChange.emit({value:this.value}),this.focusRangeInput()}ngAfterViewInit(){this.thumbPositionUpdate()}focusRangeInput(){this.input.nativeElement.focus(),this.visibility=!0}blurRangeInput(){this.input.nativeElement.blur(),this.visibility=!1}thumbPositionUpdate(){const t=this.input.nativeElement,e=t.value,n=t.min?t.min:0,r=Number(100*(e-n)/((t.max?t.max:100)-n));this.value=e,this.thumbStyle={left:`calc(${r}% + (${8-.15*r}px))`}}writeValue(t){this.value=t,this._cdRef.markForCheck(),setTimeout(()=>{this.thumbPositionUpdate()},0)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.h))},t.\u0275cmp=r.Hb({type:t,selectors:[["mdb-range"]],viewQuery:function(t,e){if(1&t&&(r.tc(MT,1),r.tc(VT,1),r.tc(UT,1)),2&t){let t;r.ic(t=r.ac())&&(e.input=t.first),r.ic(t=r.ac())&&(e.thumb=t.first),r.ic(t=r.ac())&&(e.thumbValue=t.first)}},hostBindings:function(t,e){1&t&&r.Zb("change",function(t){return e.onchange(t)})("input",function(){return e.onInput()})},inputs:{min:"min",max:"max",value:"value",disabled:"disabled",id:"id",required:"required",name:"name",step:"step",default:"default",defaultRangeCounterClass:"defaultRangeCounterClass"},outputs:{rangeValueChange:"rangeValueChange"},features:[r.Bb([lI])],decls:10,vars:14,consts:[["for","customRange2",1,"form-label"],[1,"range"],["type","range","min","0","max","5",1,"form-range",3,"name","disabled","id","min","max","step","value","ngModel","ngModelChange","input","blur","mousedown","mouseup","touchstart","touchend"],["input",""],[1,"thumb",3,"ngStyle","ngClass"],["thumb",""],[1,"thumb-value"],["thumbValue",""]],template:function(t,e){1&t&&(r.Sb(0,"label",0),r.qc(1,"Example range"),r.Rb(),r.Sb(2,"div",1),r.Sb(3,"input",2,3),r.Zb("ngModelChange",function(t){return e.value=t})("input",function(){return e.thumbPositionUpdate()})("blur",function(){return e.blurRangeInput()})("mousedown",function(){return e.focusRangeInput()})("mouseup",function(){return e.blurRangeInput()})("touchstart",function(){return e.focusRangeInput()})("touchend",function(){return e.blurRangeInput()}),r.Rb(),r.Sb(5,"span",4,5),r.Sb(7,"span",6,7),r.qc(9),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Cb(3),r.ec("name",e.name)("disabled",e.disabled)("id",e.id)("min",e.min)("max",e.max)("step",e.step)("value",e.value)("ngModel",e.value)("id",e.id),r.Cb(2),r.ec("ngStyle",e.thumbStyle)("ngClass",r.fc(12,qT,e.visibility)),r.Cb(4),r.rc(e.value))},directives:[VC,nC,yC,LC,N,A],encapsulation:2,changeDetection:0}),t})(),dI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[D,qC]]}),t})();new r.r("MdbTabContentDirective"),new r.r("MdbTabTitleDirective");let fI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[D,iT]]}),t})(),pI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[D]]}),t})();const mI=[BT,KT,YT,JT,XT,ZT,iI,sI,oI,aI,cI,dI,fI,pI];let gI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[mI],BT,KT,YT,JT,XT,ZT,iI,sI,oI,aI,cI,dI,fI,pI]}),t})();const yI={apiKey:"AIzaSyDlUkRsyp_ujMN47Jb2KlOg1TUM0qJWMsQ",authDomain:"angular-portifolio-6bcbe.firebaseapp.com",projectId:"angular-portifolio-6bcbe",storageBucket:"angular-portifolio-6bcbe.appspot.com",messagingSenderId:"421059792476",appId:"1:421059792476:web:9dd50098b530dc02ca6099",measurementId:"G-N4QFW2P5HY"};let bI=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(HO))},t.\u0275mod=r.Lb({type:t,bootstrap:[WE]}),t.\u0275inj=r.Kb({providers:[],imports:[[mt,yi,zO,CS,WO,AE,UE,fE,gI,Ci.a.initializeApp(yI),_v]]}),t})();Object(r.U)(),ft().bootstrapModule(bI).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(s.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);